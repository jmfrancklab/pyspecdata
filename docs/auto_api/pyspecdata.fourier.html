<!DOCTYPE html>

<html lang="en" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>pyspecdata.fourier package &#8212; pySpecData 0.9.5.3.2 documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../_static/alabaster.css?v=832af5b0" />
    <link rel="stylesheet" type="text/css" href="../_static/plot_directive.css?v=7f9a90b1" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery.css?v=61a4c737" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-binder.css?v=f4aeca0c" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-dataframe.css?v=2082cf3c" />
    <link rel="stylesheet" type="text/css" href="../_static/sg_gallery-rendered-html.css?v=1277b6f3" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css?v=2b30a6e6" />
    <script src="../_static/documentation_options.js?v=5b73e601"></script>
    <script src="../_static/doctools.js?v=888ff710"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <link rel="icon" href="../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  

  
  

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="pyspecdata-fourier-package">
<h1>pyspecdata.fourier package<a class="headerlink" href="#pyspecdata-fourier-package" title="Link to this heading">¶</a></h1>
<section id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Link to this heading">¶</a></h2>
</section>
<section id="module-pyspecdata.fourier.convolve">
<span id="pyspecdata-fourier-convolve-module"></span><h2>pyspecdata.fourier.convolve module<a class="headerlink" href="#module-pyspecdata.fourier.convolve" title="Link to this heading">¶</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.fourier.convolve.convolve">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.fourier.convolve.</span></span><span class="sig-name descname"><span class="pre">convolve</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">axisname</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filterwidth</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">convfunc</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'gaussian'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">enforce_causality</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fourier.convolve.convolve" title="Link to this definition">¶</a></dt>
<dd><p>Perform a convolution.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>axisname</strong> (<em>str</em>) – apply the convolution along <cite>axisname</cite></p></li>
<li><p><strong>filterwidth</strong> (<em>double</em>) – width of the convolution function
(the units of this value are specified in the
same domain as that in which the data exists
when you call this function on said data)</p></li>
<li><p><strong>convfunc</strong> (<em>function</em>) – A function that takes two
arguments – the first are the axis
coordinates and the second is
<cite>filterwidth</cite> (see <cite>filterwidth</cite>).
Default is a normalized Gaussian of FWHM
(<span class="math notranslate nohighlight">\(\lambda\)</span>) <cite>filterwidth</cite>
For example if you want a complex Lorentzian with <cite>filterwidth</cite> controlled by the rate <span class="math notranslate nohighlight">\(R\)</span>,
<em>i.e.</em>
<span class="math notranslate nohighlight">\(\frac{-1}{-i 2 \pi f - R}\)</span>
then <code class="docutils literal notranslate"><span class="pre">convfunc</span> <span class="pre">=</span> <span class="pre">lambda</span> <span class="pre">f,R:</span> <span class="pre">-1./(-1j*2*pi*f-R)</span></code></p></li>
<li><p><strong>enforce_causality</strong> (<em>boolean</em><em> (</em><em>default true</em><em>)</em>) – <p>make sure that the ift of the filter doesn’t get aliased to high
time values.</p>
<p>”Causal” data here means data derived as the FT of time-domain
data that starts at time zero – like an FID – for which real
and abs parts are Hermite transform pairs.</p>
<p><cite>enforce_causality</cite> should be <cite>True</cite> for frequency-domain data
whose corresponding time-domain data has a startpoint at or near
zero, with no negative time values – like data derived from the
FT of an IFT.
In contrast, for example, if you have frequency-domain data that
is entirely real (like a power spectral density) then you want to
set enforce_causality to False.</p>
<p>It is ignored if you call a convolution on time-domain data.</p>
</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-pyspecdata.fourier.ft">
<span id="pyspecdata-fourier-ft-module"></span><h2>pyspecdata.fourier.ft module<a class="headerlink" href="#module-pyspecdata.fourier.ft" title="Link to this heading">¶</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.fourier.ft.ft">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.fourier.ft.</span></span><span class="sig-name descname"><span class="pre">ft</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">axes</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tolerance</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1e-05</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cosine</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unitary</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fourier.ft.ft" title="Link to this definition">¶</a></dt>
<dd><p>This performs a Fourier transform along the axes identified by the string or list of strings <cite>axes</cite>.</p>
<dl class="simple">
<dt>It adjusts normalization and units so that the result conforms to</dt><dd><p><span class="math notranslate nohighlight">\(\tilde{s}(f)=\int_{x_{min}}^{x_{max}} s(t) e^{-i 2 \pi f t} dt\)</span></p>
</dd>
</dl>
<p><strong>pre-FT</strong>, we use the axis to cyclically permute <span class="math notranslate nohighlight">\(t=0\)</span> to the first index</p>
<p><strong>post-FT</strong>, we assume that the data has previously been IFT’d
If this is the case, passing <code class="docutils literal notranslate"><span class="pre">shift=True</span></code> will cause an error
If this is not the case, passing <code class="docutils literal notranslate"><span class="pre">shift=True</span></code> generates a standard fftshift
<code class="docutils literal notranslate"><span class="pre">shift=None</span></code> will choose True, if and only if this is not the case</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pad</strong> (<em>int</em><em> or </em><em>boolean</em>) – <cite>pad</cite> specifies a zero-filling.  If it’s a number, then it gives
the length of the zero-filled dimension.  If it is just <cite>True</cite>,
then the size of the dimension is determined by rounding the
dimension size up to the nearest integral power of 2.</p></li>
<li><p><strong>automix</strong> (<em>double</em>) – <cite>automix</cite> can be set to the approximate frequency value.  This is
useful for the specific case where the data has been captured on a
sampling scope, and it’s severely aliased over.</p></li>
<li><p><strong>cosine</strong> (<em>boolean</em>) – yields a sum of the fft and ifft, for a cosine transform</p></li>
<li><p><strong>unitary</strong> (<em>boolean</em><em> (</em><em>None</em><em>)</em>) – return a result that is vector-unitary</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-pyspecdata.fourier.ft_shift">
<span id="pyspecdata-fourier-ft-shift-module"></span><h2>pyspecdata.fourier.ft_shift module<a class="headerlink" href="#module-pyspecdata.fourier.ft_shift" title="Link to this heading">¶</a></h2>
<p>shift-related helper functions</p>
<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.fourier.ft_shift.ft_clear_startpoints">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.fourier.ft_shift.</span></span><span class="sig-name descname"><span class="pre">ft_clear_startpoints</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">axis</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">t</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">f</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nearest</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fourier.ft_shift.ft_clear_startpoints" title="Link to this definition">¶</a></dt>
<dd><p>Clears memory of where the origins in the time and frequency domain are.
This is useful, <em>e.g.</em> when you want to ift and center about time=0.
By setting shift=True you can also manually set the points.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>t</strong> (<em>float</em><em>, </em><em>'current'</em><em>, </em><em>'reset'</em><em>, or </em><em>None</em>) – keyword arguments <cite>t</cite> and <cite>f</cite> can be set by (1) manually setting
the start point (2) using the string ‘current’ to leave the
current setting a lone (3) ‘reset’, which clears the startpoint
and (4) None, which will be changed to ‘current’ when the other is set to a number or ‘rest’ if both are set to None.</p></li>
<li><p><strong>t</strong> – see <cite>t</cite></p></li>
<li><p><strong>nearest</strong> (<em>bool</em>) – <p>Shifting the startpoint can only be done
by an integral number of datapoints
(<em>i.e.</em> an integral number of dwell
times, dt, in the time domain or
integral number of df in the frequency
domain).
While it is possible to shift by a
non-integral number of datapoints,
this is done by applying a
phase-dependent shift in the inverse
domain.
Applying such a axis-dependent shift
can have vary unexpected effects if the
data in the inverse domain is aliased,
and is therefore heavily discouraged.
(For example, consider what happens if
we attempt to apply a
frequency-dependent phase shift to data
where a peak at 110 Hz is aliased and
appears at the 10 Hz position.)</p>
<p>Setting <cite>nearest</cite> to <strong>True</strong>
will choose a startpoint at the closest
integral datapoint to what you have
specified.</p>
<p>Setting <cite>nearest</cite> to <strong>False</strong>
will explicitly override the safeties –
essentially telling the code that you
know the data is not aliased in the
inverse domain and/or are willing to
deal with the consequences.</p>
</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.fourier.ft_shift.ft_state_to_str">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.fourier.ft_shift.</span></span><span class="sig-name descname"><span class="pre">ft_state_to_str</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">axes</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fourier.ft_shift.ft_state_to_str" title="Link to this definition">¶</a></dt>
<dd><p>Return a string that lists the FT domain for the given axes.</p>
<p><span class="math notranslate nohighlight">\(u\)</span> refers to the original domain (typically time) and <span class="math notranslate nohighlight">\(v\)</span> refers to the FT’d domain (typically frequency)
If no axes are passed as arguments, it does this for all axes.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.fourier.ft_shift.get_ft_prop">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.fourier.ft_shift.</span></span><span class="sig-name descname"><span class="pre">get_ft_prop</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">axis</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">propname</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fourier.ft_shift.get_ft_prop" title="Link to this definition">¶</a></dt>
<dd><p>Gets the FT property given by <cite>propname</cite>.  For both setting and getting, <cite>None</cite> is equivalent to an unset value if no <cite>propname</cite> is given, this just sets the <cite>FT</cite> property, which tells if a dimension is frequency or time domain</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.fourier.ft_shift.set_ft_prop">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.fourier.ft_shift.</span></span><span class="sig-name descname"><span class="pre">set_ft_prop</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">axis</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">propname</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fourier.ft_shift.set_ft_prop" title="Link to this definition">¶</a></dt>
<dd><p>Sets the FT property given by <cite>propname</cite>.  For both setting and getting, <cite>None</cite> is equivalent to an unset value if <cite>propname</cite> is a boolean, and <cite>value</cite> is True (the default), it’s assumed that propname is actually None, and that <cite>value</cite> is set to the <cite>propname</cite> argument (this allows us to set the <cite>FT</cite> property more easily)</p>
</dd></dl>

</section>
<section id="module-pyspecdata.fourier.ftshift">
<span id="pyspecdata-fourier-ftshift-module"></span><h2>pyspecdata.fourier.ftshift module<a class="headerlink" href="#module-pyspecdata.fourier.ftshift" title="Link to this heading">¶</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.fourier.ftshift.ftshift">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.fourier.ftshift.</span></span><span class="sig-name descname"><span class="pre">ftshift</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">axis</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fourier.ftshift.ftshift" title="Link to this definition">¶</a></dt>
<dd><p>FT-based shift.  Currently only works in time domain.</p>
<p>This was previously made obsolete, but is now a demo of how to use the ft properties.
It is not the most efficient way to do this.</p>
</dd></dl>

</section>
<section id="module-pyspecdata.fourier.ift">
<span id="pyspecdata-fourier-ift-module"></span><h2>pyspecdata.fourier.ift module<a class="headerlink" href="#module-pyspecdata.fourier.ift" title="Link to this heading">¶</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.fourier.ift.ift">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.fourier.ift.</span></span><span class="sig-name descname"><span class="pre">ift</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">axes</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tolerance</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1e-05</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unitary</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fourier.ift.ift" title="Link to this definition">¶</a></dt>
<dd><p>This performs an inverse Fourier transform along the axes identified by the string or list of strings <cite>axes</cite>.</p>
<dl class="simple">
<dt>It adjusts normalization and units so that the result conforms to</dt><dd><p><span class="math notranslate nohighlight">\(s(t)=\int_{x_{min}}^{x_{max}} \tilde{s}(f) e^{i 2 \pi f t} df\)</span></p>
</dd>
</dl>
<p><strong>pre-IFT</strong>, we use the axis to cyclically permute <span class="math notranslate nohighlight">\(f=0\)</span> to the first index</p>
<p><strong>post-IFT</strong>, we assume that the data has previously been FT’d
If this is the case, passing <code class="docutils literal notranslate"><span class="pre">shift=True</span></code> will cause an error
If this is not the case, passing <code class="docutils literal notranslate"><span class="pre">shift=True</span></code> generates a standard ifftshift
<code class="docutils literal notranslate"><span class="pre">shift=None</span></code> will choose True, if and only if this is not the case</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pad</strong> (<em>int</em><em> or </em><em>boolean</em>) – <p><cite>pad</cite> specifies a zero-filling.  If it’s a number, then it gives
the length of the zero-filled dimension.  If it is just <cite>True</cite>,
then the size of the dimension is determined by rounding the
dimension size up to the nearest integral power of 2.   It uses the
<cite>start_time</cite> ft property to determine the start of the axis.  To
do this, it assumes that it is a stationary signal
(convolved with infinite comb function).
The value of <cite>start_time</cite> can differ from by a non-integral multiple of
<span class="math notranslate nohighlight">\(\Delta t\)</span>, though the routine will check whether or not it is safe to
do this.</p>
<dl class="simple">
<dt>..note ::</dt><dd><p>In the code, this is controlled by <cite>p2_post</cite> (the integral
<span class="math notranslate nohighlight">\(\Delta t\)</span> and <cite>p2_post_discrepancy</cite> – the non-integral.</p>
</dd>
</dl>
</p></li>
<li><p><strong>unitary</strong> (<em>boolean</em><em> (</em><em>None</em><em>)</em>) – return a result that is vector-unitary</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-pyspecdata.fourier.shear">
<span id="pyspecdata-fourier-shear-module"></span><h2>pyspecdata.fourier.shear module<a class="headerlink" href="#module-pyspecdata.fourier.shear" title="Link to this heading">¶</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.fourier.shear.extend_for_shear">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.fourier.shear.</span></span><span class="sig-name descname"><span class="pre">extend_for_shear</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">altered_axis</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">propto_axis</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">skew_amount</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fourier.shear.extend_for_shear" title="Link to this definition">¶</a></dt>
<dd><p>this is propto_axis helper function for <cite>.fourier.shear</cite></p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.fourier.shear.shear">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.fourier.shear.</span></span><span class="sig-name descname"><span class="pre">shear</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">altered_axis</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">propto_axis</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">by_amount</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">zero_fill</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_in_conj</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fourier.shear.shear" title="Link to this definition">¶</a></dt>
<dd><p>the fourier shear method – see .shear() documentation</p>
</dd></dl>

</section>
<section id="module-pyspecdata.fourier">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-pyspecdata.fourier" title="Link to this heading">¶</a></h2>
<p>This package contains the Fourier transformation methods belonging to <code class="xref py py-class docutils literal notranslate"><span class="pre">nddata</span></code></p>
<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.fourier.convolve">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.fourier.</span></span><span class="sig-name descname"><span class="pre">convolve</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">axisname</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filterwidth</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">convfunc</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'gaussian'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">enforce_causality</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fourier.convolve" title="Link to this definition">¶</a></dt>
<dd><p>Perform a convolution.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>axisname</strong> (<em>str</em>) – apply the convolution along <cite>axisname</cite></p></li>
<li><p><strong>filterwidth</strong> (<em>double</em>) – width of the convolution function
(the units of this value are specified in the
same domain as that in which the data exists
when you call this function on said data)</p></li>
<li><p><strong>convfunc</strong> (<em>function</em>) – A function that takes two
arguments – the first are the axis
coordinates and the second is
<cite>filterwidth</cite> (see <cite>filterwidth</cite>).
Default is a normalized Gaussian of FWHM
(<span class="math notranslate nohighlight">\(\lambda\)</span>) <cite>filterwidth</cite>
For example if you want a complex Lorentzian with <cite>filterwidth</cite> controlled by the rate <span class="math notranslate nohighlight">\(R\)</span>,
<em>i.e.</em>
<span class="math notranslate nohighlight">\(\frac{-1}{-i 2 \pi f - R}\)</span>
then <code class="docutils literal notranslate"><span class="pre">convfunc</span> <span class="pre">=</span> <span class="pre">lambda</span> <span class="pre">f,R:</span> <span class="pre">-1./(-1j*2*pi*f-R)</span></code></p></li>
<li><p><strong>enforce_causality</strong> (<em>boolean</em><em> (</em><em>default true</em><em>)</em>) – <p>make sure that the ift of the filter doesn’t get aliased to high
time values.</p>
<p>”Causal” data here means data derived as the FT of time-domain
data that starts at time zero – like an FID – for which real
and abs parts are Hermite transform pairs.</p>
<p><cite>enforce_causality</cite> should be <cite>True</cite> for frequency-domain data
whose corresponding time-domain data has a startpoint at or near
zero, with no negative time values – like data derived from the
FT of an IFT.
In contrast, for example, if you have frequency-domain data that
is entirely real (like a power spectral density) then you want to
set enforce_causality to False.</p>
<p>It is ignored if you call a convolution on time-domain data.</p>
</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.fourier.extend_for_shear">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.fourier.</span></span><span class="sig-name descname"><span class="pre">extend_for_shear</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">altered_axis</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">propto_axis</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">skew_amount</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fourier.extend_for_shear" title="Link to this definition">¶</a></dt>
<dd><p>this is propto_axis helper function for <cite>.fourier.shear</cite></p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.fourier.ft">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.fourier.</span></span><span class="sig-name descname"><span class="pre">ft</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">axes</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tolerance</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1e-05</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cosine</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unitary</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fourier.ft" title="Link to this definition">¶</a></dt>
<dd><p>This performs a Fourier transform along the axes identified by the string or list of strings <cite>axes</cite>.</p>
<dl class="simple">
<dt>It adjusts normalization and units so that the result conforms to</dt><dd><p><span class="math notranslate nohighlight">\(\tilde{s}(f)=\int_{x_{min}}^{x_{max}} s(t) e^{-i 2 \pi f t} dt\)</span></p>
</dd>
</dl>
<p><strong>pre-FT</strong>, we use the axis to cyclically permute <span class="math notranslate nohighlight">\(t=0\)</span> to the first index</p>
<p><strong>post-FT</strong>, we assume that the data has previously been IFT’d
If this is the case, passing <code class="docutils literal notranslate"><span class="pre">shift=True</span></code> will cause an error
If this is not the case, passing <code class="docutils literal notranslate"><span class="pre">shift=True</span></code> generates a standard fftshift
<code class="docutils literal notranslate"><span class="pre">shift=None</span></code> will choose True, if and only if this is not the case</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pad</strong> (<em>int</em><em> or </em><em>boolean</em>) – <cite>pad</cite> specifies a zero-filling.  If it’s a number, then it gives
the length of the zero-filled dimension.  If it is just <cite>True</cite>,
then the size of the dimension is determined by rounding the
dimension size up to the nearest integral power of 2.</p></li>
<li><p><strong>automix</strong> (<em>double</em>) – <cite>automix</cite> can be set to the approximate frequency value.  This is
useful for the specific case where the data has been captured on a
sampling scope, and it’s severely aliased over.</p></li>
<li><p><strong>cosine</strong> (<em>boolean</em>) – yields a sum of the fft and ifft, for a cosine transform</p></li>
<li><p><strong>unitary</strong> (<em>boolean</em><em> (</em><em>None</em><em>)</em>) – return a result that is vector-unitary</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.fourier.ft_clear_startpoints">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.fourier.</span></span><span class="sig-name descname"><span class="pre">ft_clear_startpoints</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">axis</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">t</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">f</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nearest</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fourier.ft_clear_startpoints" title="Link to this definition">¶</a></dt>
<dd><p>Clears memory of where the origins in the time and frequency domain are.
This is useful, <em>e.g.</em> when you want to ift and center about time=0.
By setting shift=True you can also manually set the points.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>t</strong> (<em>float</em><em>, </em><em>'current'</em><em>, </em><em>'reset'</em><em>, or </em><em>None</em>) – keyword arguments <cite>t</cite> and <cite>f</cite> can be set by (1) manually setting
the start point (2) using the string ‘current’ to leave the
current setting a lone (3) ‘reset’, which clears the startpoint
and (4) None, which will be changed to ‘current’ when the other is set to a number or ‘rest’ if both are set to None.</p></li>
<li><p><strong>t</strong> – see <cite>t</cite></p></li>
<li><p><strong>nearest</strong> (<em>bool</em>) – <p>Shifting the startpoint can only be done
by an integral number of datapoints
(<em>i.e.</em> an integral number of dwell
times, dt, in the time domain or
integral number of df in the frequency
domain).
While it is possible to shift by a
non-integral number of datapoints,
this is done by applying a
phase-dependent shift in the inverse
domain.
Applying such a axis-dependent shift
can have vary unexpected effects if the
data in the inverse domain is aliased,
and is therefore heavily discouraged.
(For example, consider what happens if
we attempt to apply a
frequency-dependent phase shift to data
where a peak at 110 Hz is aliased and
appears at the 10 Hz position.)</p>
<p>Setting <cite>nearest</cite> to <strong>True</strong>
will choose a startpoint at the closest
integral datapoint to what you have
specified.</p>
<p>Setting <cite>nearest</cite> to <strong>False</strong>
will explicitly override the safeties –
essentially telling the code that you
know the data is not aliased in the
inverse domain and/or are willing to
deal with the consequences.</p>
</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.fourier.ft_state_to_str">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.fourier.</span></span><span class="sig-name descname"><span class="pre">ft_state_to_str</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">axes</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fourier.ft_state_to_str" title="Link to this definition">¶</a></dt>
<dd><p>Return a string that lists the FT domain for the given axes.</p>
<p><span class="math notranslate nohighlight">\(u\)</span> refers to the original domain (typically time) and <span class="math notranslate nohighlight">\(v\)</span> refers to the FT’d domain (typically frequency)
If no axes are passed as arguments, it does this for all axes.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.fourier.ftshift">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.fourier.</span></span><span class="sig-name descname"><span class="pre">ftshift</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">axis</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fourier.ftshift" title="Link to this definition">¶</a></dt>
<dd><p>FT-based shift.  Currently only works in time domain.</p>
<p>This was previously made obsolete, but is now a demo of how to use the ft properties.
It is not the most efficient way to do this.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.fourier.get_ft_prop">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.fourier.</span></span><span class="sig-name descname"><span class="pre">get_ft_prop</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">axis</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">propname</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fourier.get_ft_prop" title="Link to this definition">¶</a></dt>
<dd><p>Gets the FT property given by <cite>propname</cite>.  For both setting and getting, <cite>None</cite> is equivalent to an unset value if no <cite>propname</cite> is given, this just sets the <cite>FT</cite> property, which tells if a dimension is frequency or time domain</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.fourier.ift">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.fourier.</span></span><span class="sig-name descname"><span class="pre">ift</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">axes</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tolerance</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1e-05</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unitary</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fourier.ift" title="Link to this definition">¶</a></dt>
<dd><p>This performs an inverse Fourier transform along the axes identified by the string or list of strings <cite>axes</cite>.</p>
<dl class="simple">
<dt>It adjusts normalization and units so that the result conforms to</dt><dd><p><span class="math notranslate nohighlight">\(s(t)=\int_{x_{min}}^{x_{max}} \tilde{s}(f) e^{i 2 \pi f t} df\)</span></p>
</dd>
</dl>
<p><strong>pre-IFT</strong>, we use the axis to cyclically permute <span class="math notranslate nohighlight">\(f=0\)</span> to the first index</p>
<p><strong>post-IFT</strong>, we assume that the data has previously been FT’d
If this is the case, passing <code class="docutils literal notranslate"><span class="pre">shift=True</span></code> will cause an error
If this is not the case, passing <code class="docutils literal notranslate"><span class="pre">shift=True</span></code> generates a standard ifftshift
<code class="docutils literal notranslate"><span class="pre">shift=None</span></code> will choose True, if and only if this is not the case</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pad</strong> (<em>int</em><em> or </em><em>boolean</em>) – <p><cite>pad</cite> specifies a zero-filling.  If it’s a number, then it gives
the length of the zero-filled dimension.  If it is just <cite>True</cite>,
then the size of the dimension is determined by rounding the
dimension size up to the nearest integral power of 2.   It uses the
<cite>start_time</cite> ft property to determine the start of the axis.  To
do this, it assumes that it is a stationary signal
(convolved with infinite comb function).
The value of <cite>start_time</cite> can differ from by a non-integral multiple of
<span class="math notranslate nohighlight">\(\Delta t\)</span>, though the routine will check whether or not it is safe to
do this.</p>
<dl class="simple">
<dt>..note ::</dt><dd><p>In the code, this is controlled by <cite>p2_post</cite> (the integral
<span class="math notranslate nohighlight">\(\Delta t\)</span> and <cite>p2_post_discrepancy</cite> – the non-integral.</p>
</dd>
</dl>
</p></li>
<li><p><strong>unitary</strong> (<em>boolean</em><em> (</em><em>None</em><em>)</em>) – return a result that is vector-unitary</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.fourier.set_ft_prop">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.fourier.</span></span><span class="sig-name descname"><span class="pre">set_ft_prop</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">axis</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">propname</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fourier.set_ft_prop" title="Link to this definition">¶</a></dt>
<dd><p>Sets the FT property given by <cite>propname</cite>.  For both setting and getting, <cite>None</cite> is equivalent to an unset value if <cite>propname</cite> is a boolean, and <cite>value</cite> is True (the default), it’s assumed that propname is actually None, and that <cite>value</cite> is set to the <cite>propname</cite> argument (this allows us to set the <cite>FT</cite> property more easily)</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.fourier.shear">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.fourier.</span></span><span class="sig-name descname"><span class="pre">shear</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">altered_axis</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">propto_axis</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">by_amount</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">zero_fill</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_in_conj</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fourier.shear" title="Link to this definition">¶</a></dt>
<dd><p>the fourier shear method – see .shear() documentation</p>
</dd></dl>

</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<p class="logo">
  <a href="../index.html">
    <img class="logo" src="../_static/pyspec_path_equaltip.png" alt="Logo" />
    
  </a>
</p>








<h3>Navigation</h3>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../nddata.html">ND-Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fitdata.html">the lmfitdata class</a></li>
<li class="toctree-l1"><a class="reference internal" href="../modules.html">List of Modules and Sub-Packages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../notebook.html">LaTeX Notebook Functionality</a></li>
<li class="toctree-l1"><a class="reference internal" href="../figlist.html">The Figure List</a></li>
<li class="toctree-l1"><a class="reference internal" href="../units.html">Units</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Example Gallery</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../auto_examples/index.html">PySpecData Examples</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &#169;2016, John M. Franck.
      
      |
      Powered by <a href="https://www.sphinx-doc.org/">Sphinx 7.2.6</a>
      &amp; <a href="https://alabaster.readthedocs.io">Alabaster 0.7.16</a>
      
      |
      <a href="../_sources/auto_api/pyspecdata.fourier.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>