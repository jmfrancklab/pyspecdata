<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>pyspecdata package &mdash; pySpecData 0.9.5.3.2 documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/plot_directive.css" type="text/css" />
      <link rel="stylesheet" href="../_static/sg_gallery.css" type="text/css" />
      <link rel="stylesheet" href="../_static/sg_gallery-binder.css" type="text/css" />
      <link rel="stylesheet" href="../_static/sg_gallery-dataframe.css" type="text/css" />
      <link rel="stylesheet" href="../_static/sg_gallery-rendered-html.css" type="text/css" />
      <link rel="stylesheet" href="../_static/gallery_custom.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> pySpecData
          </a>
              <div class="version">
                0.9.5.3.2
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../modules.html">List of Modules and Sub-Packages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../notebook.html">LaTeX Notebook Functionality</a></li>
<li class="toctree-l1"><a class="reference internal" href="../nddata.html">ND-Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fitdata.html">the fitdata class</a></li>
<li class="toctree-l1"><a class="reference internal" href="../figlist.html">The Figure List</a></li>
<li class="toctree-l1"><a class="reference internal" href="../units.html">Units</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Example Gallery</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../auto_examples/index.html">PySpecData Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../auto_examples/index.html#individual-functions">Individual Functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../auto_examples/index.html#matplotlib-examples">Matplotlib Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../auto_examples/index.html#text-only-examples">Text-Only Examples</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">pySpecData</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
      <li>pyspecdata package</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/auto_api/pyspecdata.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="pyspecdata-package">
<h1>pyspecdata package<a class="headerlink" href="#pyspecdata-package" title="Permalink to this headline">¶</a></h1>
<section id="subpackages">
<h2>Subpackages<a class="headerlink" href="#subpackages" title="Permalink to this headline">¶</a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="pyspecdata.axis_manipulation.html">pyspecdata.axis_manipulation package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="pyspecdata.axis_manipulation.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="pyspecdata.axis_manipulation.html#module-pyspecdata.axis_manipulation.inhomog_coords">pyspecdata.axis_manipulation.inhomog_coords module</a></li>
<li class="toctree-l2"><a class="reference internal" href="pyspecdata.axis_manipulation.html#module-pyspecdata.axis_manipulation.register_axis">pyspecdata.axis_manipulation.register_axis module</a></li>
<li class="toctree-l2"><a class="reference internal" href="pyspecdata.axis_manipulation.html#module-pyspecdata.axis_manipulation.secsy">pyspecdata.axis_manipulation.secsy module</a></li>
<li class="toctree-l2"><a class="reference internal" href="pyspecdata.axis_manipulation.html#module-pyspecdata.axis_manipulation.shear">pyspecdata.axis_manipulation.shear module</a></li>
<li class="toctree-l2"><a class="reference internal" href="pyspecdata.axis_manipulation.html#module-pyspecdata.axis_manipulation">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="pyspecdata.fourier.html">pyspecdata.fourier package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="pyspecdata.fourier.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="pyspecdata.fourier.html#module-pyspecdata.fourier.convolve">pyspecdata.fourier.convolve module</a></li>
<li class="toctree-l2"><a class="reference internal" href="pyspecdata.fourier.html#module-pyspecdata.fourier.ft">pyspecdata.fourier.ft module</a></li>
<li class="toctree-l2"><a class="reference internal" href="pyspecdata.fourier.html#module-pyspecdata.fourier.ft_shift">pyspecdata.fourier.ft_shift module</a></li>
<li class="toctree-l2"><a class="reference internal" href="pyspecdata.fourier.html#module-pyspecdata.fourier.ftshift">pyspecdata.fourier.ftshift module</a></li>
<li class="toctree-l2"><a class="reference internal" href="pyspecdata.fourier.html#module-pyspecdata.fourier.ift">pyspecdata.fourier.ift module</a></li>
<li class="toctree-l2"><a class="reference internal" href="pyspecdata.fourier.html#module-pyspecdata.fourier.shear">pyspecdata.fourier.shear module</a></li>
<li class="toctree-l2"><a class="reference internal" href="pyspecdata.fourier.html#module-pyspecdata.fourier">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="pyspecdata.load_files.html">pyspecdata.load_files package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="pyspecdata.load_files.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="pyspecdata.load_files.html#module-pyspecdata.load_files.acert">pyspecdata.load_files.acert module</a></li>
<li class="toctree-l2"><a class="reference internal" href="pyspecdata.load_files.html#module-pyspecdata.load_files.bruker_esr">pyspecdata.load_files.bruker_esr module</a></li>
<li class="toctree-l2"><a class="reference internal" href="pyspecdata.load_files.html#module-pyspecdata.load_files.bruker_nmr">pyspecdata.load_files.bruker_nmr module</a></li>
<li class="toctree-l2"><a class="reference internal" href="pyspecdata.load_files.html#module-pyspecdata.load_files.load_cary">pyspecdata.load_files.load_cary module</a></li>
<li class="toctree-l2"><a class="reference internal" href="pyspecdata.load_files.html#module-pyspecdata.load_files.open_subpath">pyspecdata.load_files.open_subpath module</a></li>
<li class="toctree-l2"><a class="reference internal" href="pyspecdata.load_files.html#module-pyspecdata.load_files.prospa">pyspecdata.load_files.prospa module</a></li>
<li class="toctree-l2"><a class="reference internal" href="pyspecdata.load_files.html#module-pyspecdata.load_files">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="pyspecdata.plot_funcs.html">pyspecdata.plot_funcs package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="pyspecdata.plot_funcs.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="pyspecdata.plot_funcs.html#module-pyspecdata.plot_funcs.image">pyspecdata.plot_funcs.image module</a></li>
<li class="toctree-l2"><a class="reference internal" href="pyspecdata.plot_funcs.html#module-pyspecdata.plot_funcs">Module contents</a></li>
</ul>
</li>
</ul>
</div>
</section>
<section id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</section>
<section id="module-pyspecdata.DCCT_function">
<span id="pyspecdata-dcct-function-module"></span><h2>pyspecdata.DCCT_function module<a class="headerlink" href="#module-pyspecdata.DCCT_function" title="Permalink to this headline">¶</a></h2>
<p>Domain Colored Coherence Transfer (DCCT) function allows us to
visualize the complex-valued data, as well as the formalization of the
coherence transfer dimensions using domain coloring plotting.</p>
<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.DCCT_function.DCCT">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.DCCT_function.</span></span><span class="sig-name descname"><span class="pre">DCCT</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">this_nddata</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">this_fig_obj</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">custom_scaling</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">grid_bottom</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bottom_pad</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.15</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">grid_top</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">top_pad</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">total_spacing</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.055</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">label_spacing_multiplier</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">50</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">allow_for_text_default</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">allow_for_ticks_default</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">70</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">text_height</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">40</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">LHS_pad</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.01</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">RHS_pad</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.05</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shareaxis</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">diagnostic</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cmap</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pass_frq_slice</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">just_2D</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scaling_factor</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_coh_jump</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{'ph1':</span> <span class="pre">1,</span> <span class="pre">'ph2':</span> <span class="pre">2}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">direct</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'t2'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plot_title</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'DCCT'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.DCCT_function.DCCT" title="Permalink to this definition">¶</a></dt>
<dd><p>DCCT plot</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>this_nddata</strong> (<a class="reference internal" href="../generated/pyspecdata.core.nddata.html#pyspecdata.core.nddata" title="pyspecdata.core.nddata"><em>nddata</em></a>) – data being plotted</p></li>
<li><p><strong>thi_fig_obj</strong> (<em>figure</em>) – size/type of figure to be plotted on</p></li>
<li><p><strong>custom_scaling</strong> (<em>boolean</em>) – allows user to scale the intensity of data presented</p></li>
<li><p><strong>grid_bottom</strong> (<em>float</em>) – coordinate for bottom of DCCT plot</p></li>
<li><p><strong>bottom_pad</strong> (<em>float</em>) – distance between bottom of grid and bottom of figure</p></li>
<li><p><strong>grid_top</strong> (<em>float</em>) – coordinate top of grid in figure</p></li>
<li><p><strong>top_pad</strong> (<em>float</em>) – distance between top of figure and top of grid</p></li>
<li><p><strong>total_spacing</strong> (<em>float</em>) – affects spacing between phase cycle dimensions</p></li>
<li><p><strong>label_spacing_multiplier</strong> (<em>int</em>) – spacing between axes labels</p></li>
<li><p><strong>allow_for_text_default</strong> (<em>int</em>) – adjusts distance between tick labels and ticks</p></li>
<li><p><strong>allow_for_ticks_default</strong> (<em>int</em>) – adjusts distance between ticks</p></li>
<li><p><strong>text_height</strong> (<em>int</em>) – adjusts sizing of axis labels and tick labels</p></li>
<li><p><strong>LHS_pad</strong> (<em>float</em>) – adjusts padding on left hand side of DCCT plot</p></li>
<li><p><strong>RHS_pad</strong> (<em>float</em>) – adjusts padding on right hand side of DCCT plot</p></li>
<li><p><strong>shareaxis</strong> (<em>boolean</em>) – subplots scale together, but currently, this means there must be tick
labels on both top and bottom</p></li>
<li><p><strong>cmap</strong> (<em>str</em>) – string for color mapping if specified</p></li>
<li><p><strong>pass_frq_slice</strong> (<em>boolean</em>) – if true will show the frequency sliced out with hatching</p></li>
<li><p><strong>just_2D</strong> (<em>boolean</em>) – If true will only return axis coordinates/shape NOT ax_list</p></li>
<li><p><strong>scaling_factor</strong> (<em>float</em>) – If using custom scaling this allows user to set the scaling factor</p></li>
<li><p><strong>max_coh_jump</strong> (<em>dict</em>) – maximum allowed transitions for each phase cycle</p></li>
<li><p><strong>direct</strong> (<em>str</em>) – name of direct axis</p></li>
<li><p><strong>plot_title</strong> (<em>str</em>) – title for DCCT plot</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-pyspecdata.axis_class">
<span id="pyspecdata-axis-class-module"></span><h2>pyspecdata.axis_class module<a class="headerlink" href="#module-pyspecdata.axis_class" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="pyspecdata.axis_class.axis_collection">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">pyspecdata.axis_class.</span></span><span class="sig-name descname"><span class="pre">axis_collection</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dimlabels</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.axis_class.axis_collection" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>A collection of <code class="xref py py-class docutils literal notranslate"><span class="pre">axis</span></code> objects.</p>
<p>Designed so that an instance of <cite>axis_collection</cite> is an attribute of <cite>nddata</cite> called <cite>axes</cite>,
which behaves like a dictionary whose keys are the <cite>dimlabels</cite> of the <cite>nddata</cite> object,
and whose values are <code class="xref py py-class docutils literal notranslate"><span class="pre">axis</span></code> objects.</p>
<p>Used to make sure that no axis names or aliases are duplicated.</p>
<p>You can add axes to the collection in any of the following ways, where <cite>example_nddata</cite> is an nddata instance.
(Remember that all <cite>nddata</cite> instances have an attribute <cite>axes</cite> of type <cite>axis_collection</cite>).</p>
<dl>
<dt>building a new axis</dt><dd><p><cite>example_nddata.axes[‘t2’] = ax_[0:1.2:100j]</cite>
or
<cite>example_nddata.axes[‘t2’] = ax_[0:1.2:0.01]</cite>
(uses the same notation as numpy <cite>r_[…]</cite>)</p>
<p>this takes the place of <cite>labels</cite> or <cite>setaxis</cite> in old versions of pyspecdata.</p>
</dd>
<dt>associating an existing axis</dt><dd><p><cite>example_nddata.axes += existing_axis</cite> <cite>existing_axis</cite> <strong>must</strong> have a
name or alias that matches one of <cite>example_nddata.dimlabels</cite>.</p>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="pyspecdata.axis_class.axis_collection.dimlabels">
<span class="sig-name descname"><span class="pre">dimlabels</span></span><a class="headerlink" href="#pyspecdata.axis_class.axis_collection.dimlabels" title="Permalink to this definition">¶</a></dt>
<dd><p>This is the same <cite>dimlabels</cite> attribute as the instance of the parent class.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pyspecdata.axis_class.axis_collection.names_used">
<span class="sig-name descname"><span class="pre">names_used</span></span><a class="headerlink" href="#pyspecdata.axis_class.axis_collection.names_used" title="Permalink to this definition">¶</a></dt>
<dd><p>Stores a list of all the names and aliases used by the <cite>axis</cite> objects
that are contained in the collection,
as well as the axes for any conjugate domains.
since these need to be unique.</p>
<p>This is simply
<cite>ChainMap(ax1.references,ax2.references,…,etc.)</cite></p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>ChainMap</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.axis_class.axis_collection.rename">
<span class="sig-name descname"><span class="pre">rename</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">oldname</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">newname</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.axis_class.axis_collection.rename" title="Permalink to this definition">¶</a></dt>
<dd><p>Rename an axis. If <cite>oldname</cite> is the preferred name of the axis,
also go into dimlabels, and change the name
(since dimlabels is the same list used by the <cite>nddata</cite> that
contains the collection, it will update the dimlabel there as
well)</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pyspecdata.axis_class.nddata_axis">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">pyspecdata.axis_class.</span></span><span class="sig-name descname"><span class="pre">nddata_axis</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.axis_class.nddata_axis" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>The axis that gives the list of coordinates along a particular dimension.</p>
<div class="admonition-todo admonition" id="id1">
<p class="admonition-title">Todo</p>
<p>There is no actual code here – this is a proposal for the new axis class</p>
</div>
<p>Internally uses the minimum number of variables to store information about the axis.</p>
<p>Also includes information about the chosen location (alias) in infinitely periodic domains.
This is analogous to the concept of using <cite>fftshift</cite> in matlab or traditional numpy,
but more general.</p>
<p>The <cite>nddata_axis</cite> has overloading routines to deal with the following operations like a standard numpy array
(<cite>example_axis</cite> below is an instance of <cite>nddata_axis</cite>)</p>
<dl>
<dt>indexing</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">retval</span> <span class="o">=</span> <span class="n">example_axis</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
</pre></div>
</div>
<p>returns the second value along the axis</p>
</dd>
<dt>slicing</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">retval</span> <span class="o">=</span> <span class="n">example_axis</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">20</span><span class="p">:</span><span class="mi">5</span><span class="p">]</span>
</pre></div>
</div>
<p>returns every fifth value from zero up to, but not including, 20</p>
</dd>
<dt>nddata-like slicing</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">retval</span> <span class="o">=</span> <span class="n">example_axis</span><span class="p">[(</span><span class="mi">0</span><span class="p">,</span><span class="mf">5.5</span><span class="p">)]</span>
</pre></div>
</div>
<p>returns everything where the values of the axis coordinates are between 0 and 5.5 (inclusive)</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">retval</span> <span class="o">=</span> <span class="n">example_axis</span><span class="p">[(</span><span class="mi">0</span><span class="p">,</span><span class="kc">None</span><span class="p">)]</span>
</pre></div>
</div>
<p>returns everything where the values of the axis coordinates are 0 (inclusive) or above</p>
</dd>
<dt>multiplication</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">retval</span> <span class="o">=</span> <span class="n">example_axis</span> <span class="o">*</span> <span class="n">b</span>
</pre></div>
</div>
<p>or</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">retval</span> <span class="o">=</span> <span class="n">b</span> <span class="o">*</span> <span class="n">example_axis</span>
</pre></div>
</div>
<dl class="simple">
<dt>if <code class="docutils literal notranslate"><span class="pre">b</span></code> is a numpy array</dt><dd><p>will return another numpy array</p>
</dd>
<dt>if <code class="docutils literal notranslate"><span class="pre">b</span></code> is an nddata</dt><dd><p>will return another nddata
– note that this replaces the previous use of <code class="docutils literal notranslate"><span class="pre">fromaxis</span></code>.</p>
</dd>
</dl>
</dd>
<dt>addition + subtraction + division</dt><dd><p>same rules as multiplication</p>
</dd>
<dt>argument of a function</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">retval</span> <span class="o">=</span> <span class="n">exp</span><span class="p">(</span><span class="n">example_axis</span><span class="p">)</span>
</pre></div>
</div>
<p>(or <code class="docutils literal notranslate"><span class="pre">sin</span></code>, <code class="docutils literal notranslate"><span class="pre">cos</span></code>, <em>etc.</em>)
returns another axis object.
Note that this just amounts to setting the transf_func attribute, below.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">self.multiplier</span></code> is set to a complex number,
specialized routines are always used
(<em>e.g.</em> <code class="docutils literal notranslate"><span class="pre">exp</span></code> can be calculated more efficiently, <em>etc.</em>)</p>
</dd>
<dt>interpolation (<code class="docutils literal notranslate"><span class="pre">&#64;</span></code>)</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">retval</span> <span class="o">=</span> <span class="n">b</span> <span class="o">@</span> <span class="n">example_axis</span>
</pre></div>
</div>
<p>Here, <code class="docutils literal notranslate"><span class="pre">b</span></code> must be an nddata,
and <code class="docutils literal notranslate"><span class="pre">example_axis</span></code> must have a <code class="docutils literal notranslate"><span class="pre">name</span></code> matching one of the dimension labels of <code class="docutils literal notranslate"><span class="pre">b</span></code>.</p>
<p><code class="docutils literal notranslate"><span class="pre">retval</span></code> will consist of <code class="docutils literal notranslate"><span class="pre">b</span></code> interpolated onto the new axis.</p>
<p>Note that while <code class="docutils literal notranslate"><span class="pre">&#64;</span></code> is typically used for matrix multiplication,
it is NOT here.</p>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="pyspecdata.axis_class.nddata_axis.size">
<span class="sig-name descname"><span class="pre">size</span></span><a class="headerlink" href="#pyspecdata.axis_class.nddata_axis.size" title="Permalink to this definition">¶</a></dt>
<dd><p>the length of the axis</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>long</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pyspecdata.axis_class.nddata_axis.dx">
<span class="sig-name descname"><span class="pre">dx</span></span><a class="headerlink" href="#pyspecdata.axis_class.nddata_axis.dx" title="Permalink to this definition">¶</a></dt>
<dd><p>Step size multiplying the base array.
For a non-uniform array,
if possible,
divide by the smallest step size,
then multiply by a number that will
<a class="reference external" href="https://stackoverflow.com/questions/44587875/find-common-factor-to-convert-list-of-floats-to-list-of-integers">convert the resulting floats to integers</a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pyspecdata.axis_class.nddata_axis.start">
<span class="sig-name descname"><span class="pre">start</span></span><a class="headerlink" href="#pyspecdata.axis_class.nddata_axis.start" title="Permalink to this definition">¶</a></dt>
<dd><p>determines the starting value of the axis:
&gt;&gt;&gt; self.start+self.dx*r_[0:self.size]</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pyspecdata.axis_class.nddata_axis.names">
<span class="sig-name descname"><span class="pre">names</span></span><a class="headerlink" href="#pyspecdata.axis_class.nddata_axis.names" title="Permalink to this definition">¶</a></dt>
<dd><p>Names for this dimension that this axis is used to label, in order of preference.
The first name is the “preferred” name,
and all subsequent names are “aliases”.
For example,
you might want to have a nicely named
<span class="math notranslate nohighlight">\(B_0\)</span> (stored as <code class="docutils literal notranslate"><span class="pre">$B_0$</span></code> or a sympy variable)
to describe your axis</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>list of strings or sympy variables</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pyspecdata.axis_class.nddata_axis.domains">
<span class="sig-name descname"><span class="pre">domains</span></span><a class="headerlink" href="#pyspecdata.axis_class.nddata_axis.domains" title="Permalink to this definition">¶</a></dt>
<dd><p>The keys correspond to a list of allowed transformations.
Currently these are (future plans for <code class="docutils literal notranslate"><span class="pre">(I)LT</span></code>, <code class="docutils literal notranslate"><span class="pre">(I)NUS</span></code>, <code class="docutils literal notranslate"><span class="pre">(I)Wavelet</span></code>)</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">'FT'</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'IFT'</span></code></p></li>
</ul>
<p>These are the names of transformations that have previously been applied
(or can be applied, though the list doesn’t need to be comprehensive in that case)
to the <code class="docutils literal notranslate"><span class="pre">nddata</span></code> object that the <code class="docutils literal notranslate"><span class="pre">nddata_axis</span></code> is being used to label.
<code class="docutils literal notranslate"><span class="pre">I...</span></code> must <strong>always</strong> stand for “inverse”; on application of a transformation,
the new <code class="docutils literal notranslate"><span class="pre">axis</span></code> object that is generated must have a <cite>domains</cite> attribute
with the opposite (<code class="docutils literal notranslate"><span class="pre">I</span></code> removed or added) transformation listed.</p>
<p>The values are <cite>axis</cite> objects that label the data in the conjugate domains (after the transformation has been applied).</p>
<p>For example,
on application of the <cite>nddata</cite> <code class="xref py py-func docutils literal notranslate"><span class="pre">nddata.ft()</span></code> method,
the data will be labeled with an axis that has a <cite>domains</cite> attribute with a key containing <cite>IFT</cite>.
The value of that key will point to the <cite>axis</cite> object of the data <em>before</em> transformation,
and will be used in the even of a call to <code class="xref py py-func docutils literal notranslate"><span class="pre">nddata.ift()</span></code>.</p>
<p>This makes the <cite>get_ft_props</cite> and <cite>set_ft_props</cite> of older versions of <cite>nddata</cite> obsolete.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>OrderedDict</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pyspecdata.axis_class.nddata_axis.multiplier">
<span class="sig-name descname"><span class="pre">multiplier</span></span><a class="headerlink" href="#pyspecdata.axis_class.nddata_axis.multiplier" title="Permalink to this definition">¶</a></dt>
<dd><p>this is <em>only</em> used in the event that
the axis is subjected to arithmetic involving a complex number
it changes the way that the axis acts as an argument to various functions (especially <cite>exp</cite>)</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>complex, default None</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pyspecdata.axis_class.nddata_axis.transf_func">
<span class="sig-name descname"><span class="pre">transf_func</span></span><a class="headerlink" href="#pyspecdata.axis_class.nddata_axis.transf_func" title="Permalink to this definition">¶</a></dt>
<dd><p><strong>this and following attributes pertain only to non-uniform (non-linear) axes</strong>
a function that is applied to a uniformly spaced axis to achieve non-uniform spacing
(for example, an axis with <cite>log10</cite> spacing).
If this is set, the axis is constructed as</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="bp">self</span><span class="o">.</span><span class="n">transf_func</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">start</span><span class="o">+</span><span class="bp">self</span><span class="o">.</span><span class="n">dx</span><span class="o">*</span><span class="n">r_</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="bp">self</span><span class="o">.</span><span class="n">size</span><span class="p">])</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#pyspecdata.function" title="pyspecdata.function">function</a> or (default) None</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pyspecdata.axis_class.nddata_axis.uneven_steps">
<span class="sig-name descname"><span class="pre">uneven_steps</span></span><a class="headerlink" href="#pyspecdata.axis_class.nddata_axis.uneven_steps" title="Permalink to this definition">¶</a></dt>
<dd><p>if this attribute exists, it must be an array of length <cite>self.size</cite>
and determines the axis values as follows:
<cite>self.offset+self.dx*cumsum(self.uneven_steps)</cite></p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>int or float (default non-existent)</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pyspecdata.axis_class.nddata_axis.uneven_step_coords">
<span class="sig-name descname"><span class="pre">uneven_step_coords</span></span><a class="headerlink" href="#pyspecdata.axis_class.nddata_axis.uneven_step_coords" title="Permalink to this definition">¶</a></dt>
<dd><p>if <cite>self.uneven_steps</cite> exists, this stores the value of <cite>cumsum(self.uneven_steps)</cite></p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="pyspecdata.axis_class.nddata_axis.references">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">references</span></span><a class="headerlink" href="#pyspecdata.axis_class.nddata_axis.references" title="Permalink to this definition">¶</a></dt>
<dd><p>returns OrderedDict of all names and aliases such that keys all point to the current instance (<cite>self</cite>)</p>
<p>the idea is that this should be placed in a <cite>ChainMap</cite> object to be used by the <a class="reference internal" href="#pyspecdata.axis_class.axis_collection" title="pyspecdata.axis_class.axis_collection"><code class="xref py py-class docutils literal notranslate"><span class="pre">axis_collection</span></code></a> class that contains the axis.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.axis_class.nddata_axis.to_array">
<span class="sig-name descname"><span class="pre">to_array</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.axis_class.nddata_axis.to_array" title="Permalink to this definition">¶</a></dt>
<dd><p>returns the axis as a standard numpy array</p>
</dd></dl>

</dd></dl>

</section>
<section id="module-pyspecdata.core">
<span id="pyspecdata-core-module"></span><h2>pyspecdata.core module<a class="headerlink" href="#module-pyspecdata.core" title="Permalink to this headline">¶</a></h2>
<p>Provides the core components of pyspecdata.
Currently, this is a very large file that we will slowly break down into separate modules or packages.</p>
<p>The classes <a class="reference internal" href="../generated/pyspecdata.core.nddata.html#pyspecdata.core.nddata" title="pyspecdata.core.nddata"><code class="xref py py-class docutils literal notranslate"><span class="pre">nddata</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">nddata_hdf</span></code>, <a class="reference internal" href="#pyspecdata.core.ndshape" title="pyspecdata.core.ndshape"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndshape</span></code></a>, the
function <a class="reference internal" href="#pyspecdata.core.plot" title="pyspecdata.core.plot"><code class="xref py py-func docutils literal notranslate"><span class="pre">plot()</span></code></a>, and the class <a class="reference internal" href="../generated/pyspecdata.core.fitdata.html#pyspecdata.core.fitdata" title="pyspecdata.core.fitdata"><code class="xref py py-class docutils literal notranslate"><span class="pre">fitdata</span></code></a>
are the core components of the N-Dimensional processing routines.
Start by familiarizing yourself with those.</p>
<p>The <code class="xref py py-class docutils literal notranslate"><span class="pre">figlist</span></code> is the base class for “Figure lists.”
Figure lists allows you to organize plots and text and to refer to plots
by name, rather than number.
They are designed so that same code can be used seamlessly from within
ipython, jupyter, a python script, or a python environment within latex
(JMF can also distribute latex code for this – nice python based
installer is planned).
The user does not initialize the figlist class directly,
but rather initializes <code class="docutils literal notranslate"><span class="pre">figlist_var</span></code>.
At the end of this file,
there is a snippet of code that sets
<code class="docutils literal notranslate"><span class="pre">figlist_var</span></code> to choice that’s appropriate for the working environment
(<em>i.e.</em>, python, latex environment, <a href="#id2"><span class="problematic" id="id3">*</span></a>etc.)</p>
<p>There are many helper and utility functions that need to be sorted an documented by JMF,
and can be ignored.
These are somewhat wide-ranging in nature.
For example, <a class="reference internal" href="#pyspecdata.core.box_muller" title="pyspecdata.core.box_muller"><code class="xref py py-func docutils literal notranslate"><span class="pre">box_muller()</span></code></a> is a helper function (based on numerical recipes) used by <a class="reference internal" href="#pyspecdata.core.nddata.add_noise" title="pyspecdata.core.nddata.add_noise"><code class="xref py py-func docutils literal notranslate"><span class="pre">nddata.add_noise()</span></code></a>,
while h5 functions are helper functions for using pytables in a fashion that
will hopefull be intuitive to those familiar with SQL, etc.</p>
<dl class="py exception">
<dt class="sig sig-object py" id="pyspecdata.core.CustomError">
<em class="property"><span class="pre">exception</span> </em><span class="sig-prename descclassname"><span class="pre">pyspecdata.core.</span></span><span class="sig-name descname"><span class="pre">CustomError</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">value</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.CustomError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.core.addlabels">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.core.</span></span><span class="sig-name descname"><span class="pre">addlabels</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">labelstring</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">labels</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.addlabels" title="Permalink to this definition">¶</a></dt>
<dd><p>obsolete – use plot_label_points</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.core.apply_oom">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.core.</span></span><span class="sig-name descname"><span class="pre">apply_oom</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">average_oom</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">numbers</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prev_label</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.apply_oom" title="Permalink to this definition">¶</a></dt>
<dd><p>scale numbers by the order of magnitude average_oom and change the
name of the units by adding the appropriate SI prefix</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>average_oom</strong> (<em>int</em><em> or </em><em>float</em>) – the average order of magnitude to use</p></li>
<li><p><strong>numbers</strong> (<em>np.ndarray</em>) – The numbers to be scaled by average_oom.
The np.array is modified in-place.</p></li>
<li><p><strong>prev_label</strong> (<em>str</em>) – a string representing the units</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>new_label</strong> – prev_label is prefixed by the appropriate SI prefix</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.core.applyto_rec">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.core.</span></span><span class="sig-name descname"><span class="pre">applyto_rec</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">myfunc</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">myarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mylist</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.applyto_rec" title="Permalink to this definition">¶</a></dt>
<dd><p>apply myfunc to myarray with the intention of collapsing it to a smaller number of values</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.core.autolegend">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.core.</span></span><span class="sig-name descname"><span class="pre">autolegend</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.autolegend" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.core.autopad_figure">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.core.</span></span><span class="sig-name descname"><span class="pre">autopad_figure</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pad</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">centered</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">figname</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'unknown'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.autopad_figure" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.core.box_muller">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.core.</span></span><span class="sig-name descname"><span class="pre">box_muller</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">length</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_complex</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.box_muller" title="Permalink to this definition">¶</a></dt>
<dd><p>algorithm to generate normally distributed noise</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.core.colormap">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.core.</span></span><span class="sig-name descname"><span class="pre">colormap</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">points</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">colors</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">256</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.colormap" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.core.concat">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.core.</span></span><span class="sig-name descname"><span class="pre">concat</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">datalist</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dimname</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">chop</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.concat" title="Permalink to this definition">¶</a></dt>
<dd><p>concatenate multiple datasets together along a new dimension.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>datalist</strong> (<em>list of nddata</em>) – the data you want to concatenate – they must have the same ndshape!</p></li>
<li><p><strong>dimname</strong> (<em>str</em>) – name of the new dimension</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.core.contour_plot">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.core.</span></span><span class="sig-name descname"><span class="pre">contour_plot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">xvals</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">yvals</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">zvals</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">color</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'k'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">alpha</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">npts</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">300</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.contour_plot" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.core.decorate_rec">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.core.</span></span><span class="sig-name descname"><span class="pre">decorate_rec</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">xxx_todo_changeme2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xxx_todo_changeme3</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">drop_rows</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.decorate_rec" title="Permalink to this definition">¶</a></dt>
<dd><p>Decorate the rows in A with information in B –&gt; if names overlap,
keep the np.ones in A
b_ind and a_ind can be either a single key, or a list of keys;
if more than one element in B matches that in A, include both options!!</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.core.det_oom">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.core.</span></span><span class="sig-name descname"><span class="pre">det_oom</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data_to_test</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.det_oom" title="Permalink to this definition">¶</a></dt>
<dd><p>determine the average order of magnitude – for prefixing units</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>data_to_test</strong> (<em>ndarray</em>) – a numpy array (e.g. the result of a .getaxis( call</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>average_oom</strong> – the average order of magnitude, rounded to the nearest multiple of 3</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.core.dp">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.core.</span></span><span class="sig-name descname"><span class="pre">dp</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">number</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">decimalplaces</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scientific</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_front</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">3</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.dp" title="Permalink to this definition">¶</a></dt>
<dd><p>format out to a certain decimal places, potentially in scientific notation</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>decimalplaces</strong> (<em>int</em><em> (</em><em>optional</em><em>, </em><em>default 3</em><em>)</em>) – number of decimal places</p></li>
<li><p><strong>scientific</strong> (<em>boolean</em><em> (</em><em>optional</em><em>, </em><em>default False</em><em>)</em>) – use scientific notation</p></li>
<li><p><strong>max_front</strong> (<em>int</em><em> (</em><em>optional</em><em>, </em><em>default 3</em><em>)</em>) – at most this many places in front of the decimal before switching
automatically to scientific notation.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.core.emptyfunction">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.core.</span></span><span class="sig-name descname"><span class="pre">emptyfunction</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.emptyfunction" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.core.emptytest">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.core.</span></span><span class="sig-name descname"><span class="pre">emptytest</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.emptytest" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.core.expand_x">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.core.</span></span><span class="sig-name descname"><span class="pre">expand_x</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.expand_x" title="Permalink to this definition">¶</a></dt>
<dd><p>expand the axes.  If an argument is passed, then it refers to the position relative to the current coordinates.  Values can be:
:0: set this side of the axis to 0
:None: leave this side of the axis alone
:a double: rescale the distance from the center of the axis to this side by this number</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.core.expand_y">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.core.</span></span><span class="sig-name descname"><span class="pre">expand_y</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.expand_y" title="Permalink to this definition">¶</a></dt>
<dd><p>expand the axes.  If an argument is passed, then it refers to the position relative to the current coordinates.  Values can be:
:0: set this side of the axis to 0
:None: leave this side of the axis alone
:a double: rescale the distance from the center of the axis to this side by this number</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.core.fa">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.core.</span></span><span class="sig-name descname"><span class="pre">fa</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">input</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dtype</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'complex128'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.fa" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.core.figlistini">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.core.</span></span><span class="sig-name descname"><span class="pre">figlistini</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">first_figure</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.figlistini" title="Permalink to this definition">¶</a></dt>
<dd><p>processes a figure list argument:
typically, you want to have a figure_list keyword argument for every function, which is by default set to None, then call this on the argument – it always returns a figure list, creating a new one if required
similarly, somewhere I have another guy that processes the output, so that if it’s set to None, it will by default dump and show the figure list,
and not return a figure list in the output</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.core.figlistini_old">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.core.</span></span><span class="sig-name descname"><span class="pre">figlistini_old</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">first_figure</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.figlistini_old" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.core.figlistret">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.core.</span></span><span class="sig-name descname"><span class="pre">figlistret</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">first_figure</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">figure_list</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.figlistret" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pyspecdata.core.fitdata">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">pyspecdata.core.</span></span><span class="sig-name descname"><span class="pre">fitdata</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.fitdata" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="../generated/pyspecdata.core.nddata.html#pyspecdata.core.nddata" title="pyspecdata.core.nddata"><code class="xref py py-class docutils literal notranslate"><span class="pre">pyspecdata.core.nddata</span></code></a></p>
<p>Inherits from an nddata and enables curve fitting through use of a sympy expression.</p>
<p>The user creates a fitdata class object from an existing nddata
class object, and on this fitdata object can define the
<a class="reference internal" href="../fitdata.html#pyspecdata.core.fitdata.functional_form" title="pyspecdata.core.fitdata.functional_form"><code class="xref py py-func docutils literal notranslate"><span class="pre">functional_form()</span></code></a> of the curve it would like to fit to the
data of the original nddata.
This functional form must be provided as a sympy expression, with
one of its variables matching the name of the dimension that the
user would like to fit to.
The user provides fit coefficients using <code class="xref py py-func docutils literal notranslate"><span class="pre">fit_coeff()</span></code> and
obtains output using <a class="reference internal" href="../fitdata.html#pyspecdata.core.fitdata.fit" title="pyspecdata.core.fitdata.fit"><code class="xref py py-func docutils literal notranslate"><span class="pre">fit()</span></code></a> and <a class="reference internal" href="../fitdata.html#pyspecdata.core.fitdata.eval" title="pyspecdata.core.fitdata.eval"><code class="xref py py-func docutils literal notranslate"><span class="pre">eval()</span></code></a>.</p>
<p>If you haven’t done this before,
create a jupyter notebook (not checked in, just for your own playing around) with:
<code class="docutils literal notranslate"><span class="pre">`</span>
<span class="pre">import</span> <span class="pre">sympy</span> <span class="pre">as</span> <span class="pre">s</span>
<span class="pre">s.init_printing()</span>
<span class="pre">`</span></code>
you can then use <cite>s.symbols(</cite> to create symbols/variables that
allow you to build the mathematical expression for your fitting
function</p>
<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.core.fitdata.add_inactive_p">
<span class="sig-name descname"><span class="pre">add_inactive_p</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">p</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.fitdata.add_inactive_p" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.core.fitdata.analytical_covariance">
<span class="sig-name descname"><span class="pre">analytical_covariance</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.fitdata.analytical_covariance" title="Permalink to this definition">¶</a></dt>
<dd><p>Not up to date</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.core.fitdata.bootstrap">
<span class="sig-name descname"><span class="pre">bootstrap</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">points</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">swap_out</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.36787944117144233</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">seedval</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10347</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">minbounds</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">maxbounds</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.fitdata.bootstrap" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.core.fitdata.copy">
<span class="sig-name descname"><span class="pre">copy</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.fitdata.copy" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a full copy of this instance.</p>
<p>Because methods typically change the data in place, you might want to
use this frequently.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>data</strong> (<em>boolean</em>) – <p>Default to True.
False doesn’t copy the data – this is for internal use,
<em>e.g.</em> when you want to copy all the metadata and perform a
calculation on the data.</p>
<p>The code for this also provides the definitive list of the
nddata metadata.</p>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.core.fitdata.covar">
<span class="sig-name descname"><span class="pre">covar</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">names</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.fitdata.covar" title="Permalink to this definition">¶</a></dt>
<dd><p>give the covariance for the different symbols</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.core.fitdata.covarmat">
<span class="sig-name descname"><span class="pre">covarmat</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">names</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.fitdata.covarmat" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.core.fitdata.eval">
<span class="sig-name descname"><span class="pre">eval</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">taxis</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">set_what</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">set_to</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.fitdata.eval" title="Permalink to this definition">¶</a></dt>
<dd><p>calculate the fit function along the axis taxis.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>taxis</strong> (<em>ndarray</em><em>, </em><em>int</em>) – <dl class="field-list simple">
<dt class="field-odd">if ndarray</dt>
<dd class="field-odd"><p>the new axis coordinates along which we want to calculate the fit.</p>
</dd>
<dt class="field-even">if int</dt>
<dd class="field-even"><p>number of evenly spaced points along the t-axis along the fit</p>
</dd>
</dl>
</p></li>
<li><p><strong>set_what</strong> (<em>'str'</em><em>, </em><em>optional</em>) – forcibly sets a specific symbol</p></li>
<li><p><strong>set_to</strong> (<em>double</em><em>, </em><em>optional</em>) – the specific value (int) you are assigning the symbol you included</p></li>
</ul>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>self</strong> – the fit function evaluated along the axis coordinates that were passed</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference internal" href="../generated/pyspecdata.core.nddata.html#pyspecdata.core.nddata" title="pyspecdata.core.nddata">nddata</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.core.fitdata.fit">
<span class="sig-name descname"><span class="pre">fit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">set_what</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">set_to</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force_analytical</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.fitdata.fit" title="Permalink to this definition">¶</a></dt>
<dd><p>actually run the fit</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.core.fitdata.fitfunc">
<span class="sig-name descname"><span class="pre">fitfunc</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">p</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.fitdata.fitfunc" title="Permalink to this definition">¶</a></dt>
<dd><p>This is the function that does the actual fitting, and takes a properly ordered list of parameters as well as an np.ndarray for the x axis.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="pyspecdata.core.fitdata.function_string">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">function_string</span></span><a class="headerlink" href="#pyspecdata.core.fitdata.function_string" title="Permalink to this definition">¶</a></dt>
<dd><p>A property of the fitdata class which stores a string
output of the functional form of the desired fit expression
provided in func:<cite>functional_form</cite> in LaTeX format</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="pyspecdata.core.fitdata.functional_form">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">functional_form</span></span><a class="headerlink" href="#pyspecdata.core.fitdata.functional_form" title="Permalink to this definition">¶</a></dt>
<dd><p>A property of the fitdata class which is set by the user,
takes as input a sympy expression of the desired fit
expression</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.core.fitdata.gen_indices">
<span class="sig-name descname"><span class="pre">gen_indices</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">this_set</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">set_to</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.fitdata.gen_indices" title="Permalink to this definition">¶</a></dt>
<dd><p>pass this this_set and this_set_to parameters, and it will return:
indices,values,mask
indices –&gt; gives the indices that are forced
values –&gt; the values they are forced to
mask –&gt; p[mask] are actually active in the fit</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.core.fitdata.guess">
<span class="sig-name descname"><span class="pre">guess</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">use_pseudoinverse</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.fitdata.guess" title="Permalink to this definition">¶</a></dt>
<dd><p>old code that I am preserving here – provide the guess for our parameters; by default, based on pseudoinverse</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.core.fitdata.latex">
<span class="sig-name descname"><span class="pre">latex</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.fitdata.latex" title="Permalink to this definition">¶</a></dt>
<dd><p>show the latex string for the function, with all the symbols substituted by their values</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.core.fitdata.linear">
<span class="sig-name descname"><span class="pre">linear</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.fitdata.linear" title="Permalink to this definition">¶</a></dt>
<dd><p>return the linear-form function, either smoothly along the fit function, or on the raw data, depending on whether or not the taxis argument is given
can take optional arguments and pass them on to eval</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.core.fitdata.makereal">
<span class="sig-name descname"><span class="pre">makereal</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.fitdata.makereal" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.core.fitdata.output">
<span class="sig-name descname"><span class="pre">output</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.fitdata.output" title="Permalink to this definition">¶</a></dt>
<dd><p>give the fit value of a particular symbol, or a dictionary of all values.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>name</strong> (<em>str</em><em> (</em><em>optional</em><em>)</em>) – name of the symbol.
If no name is passed, then output returns a dictionary of the
resulting values.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>retval</strong> – Either a dictionary of all the values, or the value itself.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict or float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.core.fitdata.parameter_derivatives">
<span class="sig-name descname"><span class="pre">parameter_derivatives</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">xvals</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">set</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">set_to</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.fitdata.parameter_derivatives" title="Permalink to this definition">¶</a></dt>
<dd><p>return a matrix containing derivatives of the parameters, can set dict set, or keys set, vals set_to</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.core.fitdata.pinv">
<span class="sig-name descname"><span class="pre">pinv</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.fitdata.pinv" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.core.fitdata.remove_inactive_p">
<span class="sig-name descname"><span class="pre">remove_inactive_p</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">p</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.fitdata.remove_inactive_p" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.core.fitdata.rename">
<span class="sig-name descname"><span class="pre">rename</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">previous</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">new</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.fitdata.rename" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.core.fitdata.residual">
<span class="sig-name descname"><span class="pre">residual</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">p</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sigma</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.fitdata.residual" title="Permalink to this definition">¶</a></dt>
<dd><p>just the residual (error) function</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.core.fitdata.set_guess">
<span class="sig-name descname"><span class="pre">set_guess</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dict_of_values</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.fitdata.set_guess" title="Permalink to this definition">¶</a></dt>
<dd><p>sets parameters to guess/estimated value to compare fit.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>dict_of_values</strong> (<em>dict</em>) – dictionary of values set to parameters in fit equation.
Allows for the setting of multiple variables depending on
what’s defined in this dictionary. The keys of the dictionary
must be sympy symbols</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>self</strong> – The modified nddata</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="../generated/pyspecdata.core.nddata.html#pyspecdata.core.nddata" title="pyspecdata.core.nddata">nddata</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.core.fitdata.settoguess">
<span class="sig-name descname"><span class="pre">settoguess</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.fitdata.settoguess" title="Permalink to this definition">¶</a></dt>
<dd><p>a debugging function, to easily plot the initial guess</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.core.gensearch">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.core.</span></span><span class="sig-name descname"><span class="pre">gensearch</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">labelname</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">format</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'%0.3f'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">precision</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.gensearch" title="Permalink to this definition">¶</a></dt>
<dd><p>obsolete – use h5gensearch</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.core.gridandtick">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.core.</span></span><span class="sig-name descname"><span class="pre">gridandtick</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ax</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rotation</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(0,</span> <span class="pre">0)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">precision</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(2,</span> <span class="pre">2)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">labelstring</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">('',</span> <span class="pre">'')</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gridcolor</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">array([0,</span> <span class="pre">0,</span> <span class="pre">0],</span> <span class="pre">dtype=int32)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">formatonly</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fixed_y_locator</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_grid</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spines</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.gridandtick" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.core.gridon">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.core.</span></span><span class="sig-name descname"><span class="pre">gridon</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">gridcolor</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">array([0,</span> <span class="pre">0,</span> <span class="pre">0],</span> <span class="pre">dtype=int32)</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.gridon" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.core.h5addrow">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.core.</span></span><span class="sig-name descname"><span class="pre">h5addrow</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bottomnode</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tablename</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.h5addrow" title="Permalink to this definition">¶</a></dt>
<dd><p>add a row to a table, creating it if necessary, but don’t add if the data matches the search condition indicated by <cite>match_row</cite>
<cite>match_row</cite> can be either text or a dictionary – in the latter case it’s passed to h5searchstring</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.core.h5attachattributes">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.core.</span></span><span class="sig-name descname"><span class="pre">h5attachattributes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">node</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">listofattributes</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">myvalues</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.h5attachattributes" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.core.h5child">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.core.</span></span><span class="sig-name descname"><span class="pre">h5child</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">thisnode</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">childname</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">clear</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">create</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.h5child" title="Permalink to this definition">¶</a></dt>
<dd><p>grab the child, optionally clearing it and/or (by default) creating it</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.core.h5inlist">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.core.</span></span><span class="sig-name descname"><span class="pre">h5inlist</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">columnname</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mylist</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.h5inlist" title="Permalink to this definition">¶</a></dt>
<dd><p>returns rows where the column named columnname is in the value of mylist</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.core.h5join">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.core.</span></span><span class="sig-name descname"><span class="pre">h5join</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">firsttuple</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">secondtuple</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">additional_search</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">select_fields</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pop_fields</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.h5join" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.core.h5loaddict">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.core.</span></span><span class="sig-name descname"><span class="pre">h5loaddict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">thisnode</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.h5loaddict" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.core.h5nodebypath">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.core.</span></span><span class="sig-name descname"><span class="pre">h5nodebypath</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">h5path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">only_lowest</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">check_only</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">directory</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'.'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.h5nodebypath" title="Permalink to this definition">¶</a></dt>
<dd><p>return the node based on an absolute path, including the filename</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.core.h5remrows">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.core.</span></span><span class="sig-name descname"><span class="pre">h5remrows</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bottomnode</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tablename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">searchstring</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.h5remrows" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.core.h5searchstring">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.core.</span></span><span class="sig-name descname"><span class="pre">h5searchstring</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.h5searchstring" title="Permalink to this definition">¶</a></dt>
<dd><p>generate robust search strings
:parameter fieldname,value:
search AROUND a certain value (overcomes some type conversion issues) optional arguments are the format specifier and the fractional precision:
<strong>OR</strong>
:parameter field_and_value_dictionary:
generate a search string that matches one or more criteria</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.core.h5table">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.core.</span></span><span class="sig-name descname"><span class="pre">h5table</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bottomnode</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tablename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tabledata</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.h5table" title="Permalink to this definition">¶</a></dt>
<dd><p>create the table, or if tabledata is None, just check if it exists</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.core.issympy">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.core.</span></span><span class="sig-name descname"><span class="pre">issympy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.issympy" title="Permalink to this definition">¶</a></dt>
<dd><p>tests if something is sympy (based on the module name)</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.core.join_rec">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.core.</span></span><span class="sig-name descname"><span class="pre">join_rec</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">xxx_todo_changeme</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xxx_todo_changeme1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.join_rec" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.core.lambda_rec">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.core.</span></span><span class="sig-name descname"><span class="pre">lambda_rec</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">myarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">myname</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">myfunction</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">varargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.lambda_rec" title="Permalink to this definition">¶</a></dt>
<dd><p>make a new field “myname” which consists of “myfunction” evaluated with the fields given by “myargs” as arguments
the new field is always placed after the last argument name
if myname is in myargs, the original row is popped</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.core.lookup_rec">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.core.</span></span><span class="sig-name descname"><span class="pre">lookup_rec</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">A</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">B</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">indexpair</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.lookup_rec" title="Permalink to this definition">¶</a></dt>
<dd><p>look up information about A in table B (i.e. chemical by index, etc)
indexpair is either the name of the index
or – if it’s differently named – the pair of indices
given in (A,B) respectively</p>
<p>This will just drop any fields in B that are also in A,
and the output uses the first indexname</p>
<p>note that it it seems like the join_rec function above may be more efficient!!</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.core.lrecordarray">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.core.</span></span><span class="sig-name descname"><span class="pre">lrecordarray</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.lrecordarray" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.core.lsafe">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.core.</span></span><span class="sig-name descname"><span class="pre">lsafe</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">string</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.lsafe" title="Permalink to this definition">¶</a></dt>
<dd><p>replacement for normal lsafe – no escaping</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.core.make_bar_graph_indices">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.core.</span></span><span class="sig-name descname"><span class="pre">make_bar_graph_indices</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mystructarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">list_of_text_fields</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">recursion_depth</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spacing</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.make_bar_graph_indices" title="Permalink to this definition">¶</a></dt>
<dd><p>This is a recursive function that is used as part of textlabel_bargraph; it does NOT work without the sorting given at the beginning of that function</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.core.make_ndarray">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.core.</span></span><span class="sig-name descname"><span class="pre">make_ndarray</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">array_to_conv</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name_forprint</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'unknown'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.make_ndarray" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.core.make_rec">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.core.</span></span><span class="sig-name descname"><span class="pre">make_rec</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.make_rec" title="Permalink to this definition">¶</a></dt>
<dd><p>input,names or a single argument, which is a dictionarynstrlen = 100 gives length of the strings (which need to be specified in record arrays)nyou can also specify (especially useful with the dictionary format) the list order = [str1,str2,…] which orders the output records with the field containing str1 first, then the field containing str2, then any remaining fields</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.core.maprep">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.core.</span></span><span class="sig-name descname"><span class="pre">maprep</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">mylist</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.maprep" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.core.meanstd_rec">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.core.</span></span><span class="sig-name descname"><span class="pre">meanstd_rec</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">myarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mylist</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">standard_error</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.meanstd_rec" title="Permalink to this definition">¶</a></dt>
<dd><p>this is something like applyto_rec, except that it applies the mean and creates new rows for the “error,” where it puts the standard deviation</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.core.mybasicfunction">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.core.</span></span><span class="sig-name descname"><span class="pre">mybasicfunction</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">first_figure</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.mybasicfunction" title="Permalink to this definition">¶</a></dt>
<dd><p>this gives the format for doing the image thing
note also
nextfigure(fl,’name’)
and
nextfigure({‘lplotproperty’:value})</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.core.mydiff">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.core.</span></span><span class="sig-name descname"><span class="pre">mydiff</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">axis</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-</span> <span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.mydiff" title="Permalink to this definition">¶</a></dt>
<dd><p>this will replace np.diff with a version that has the same number of indices, with the last being the copy of the first</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.core.myfilter">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.core.</span></span><span class="sig-name descname"><span class="pre">myfilter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">center</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">250000.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sigma</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">100000.0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.myfilter" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pyspecdata.core.nddata">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">pyspecdata.core.</span></span><span class="sig-name descname"><span class="pre">nddata</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>This is the detailed API reference.
For an introduction on how to use ND-Data, see the <a class="reference internal" href="../nddata.html#nddata-summary-label"><span class="std std-ref">Main ND-Data Documentation</span></a>.</p>
<dl class="py property">
<dt class="sig sig-object py" id="pyspecdata.core.nddata.C">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">C</span></span><a class="headerlink" href="#pyspecdata.core.nddata.C" title="Permalink to this definition">¶</a></dt>
<dd><p>shortcut for copy</p>
<p>btw, what we are doing is analogous to a ruby function with
functioname!() modify result, and we can use the “out” keyword in
numpy.</p>
<dl>
<dt>..todo::</dt><dd><p>(new idea)
This should just set a flag that says “Do not allow this data to be substituted in place,”
so that if something goes to edit the data in place,
it instead first makes a copy.</p>
<p>also here, see <a class="reference external" href="https://docs.python.org/2/library/copy.html">Definition of shallow and deep copy</a></p>
<p>(older idea)
We should offer “N”, which generates something like a copy,
but which is sets the equivalent of “nopop”.
For example, currently, you need to do something like
<code class="docutils literal notranslate"><span class="pre">d.C.argmax('t2')</span></code>,
which is very inefficient, since it copies the whole np.array.
So, instead, we should do
<code class="docutils literal notranslate"><span class="pre">d.N.argmax('t2')</span></code>, which tells argmax and all other
functions not to overwrite “self” but to return a new object.
This would cause things like “run_nopop” to become obsolete.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.core.nddata.add_noise">
<span class="sig-name descname"><span class="pre">add_noise</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">intensity</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.add_noise" title="Permalink to this definition">¶</a></dt>
<dd><p>Add Gaussian (box-muller) noise to the data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>intensity</strong> (<em>double OR function</em>) – If a double, gives the standard deviation of the noise.
If a function, used to calculate the standard deviation of the noise from the data:
<em>e.g.</em> <code class="docutils literal notranslate"><span class="pre">lambda</span> <span class="pre">x:</span> <span class="pre">max(abs(x))/10.</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.core.nddata.aligndata">
<span class="sig-name descname"><span class="pre">aligndata</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">arg</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.aligndata" title="Permalink to this definition">¶</a></dt>
<dd><p>This is a fundamental method used by all of the arithmetic operations.
It uses the dimension labels of <cite>self</cite> (the current instance) and <cite>arg</cite>
(an nddata passed to this method) to generate two corresponding output
nddatas that I refer to here, respectively, as <cite>A</cite> and <cite>B</cite>.  <cite>A</cite> and
<cite>B</cite> have dimensions that are “aligned” – that is, they are identical
except for singleton dimensions (note that numpy automatically tiles
singleton dimensions).  Regardless of how the dimensions of <cite>self.data</cite>
and <cite>arg.data</cite> (the underlying numpy data) were ordered, <cite>A.data</cite> and
<cite>B.data</cite> are now ordered identically, where dimensions with the same
label (<cite>.dimlabel</cite>) correspond to the same numpy index.  This allows
you do do math.</p>
<p>Note that, currently, both <cite>A</cite> and <cite>B</cite> are given a full set of axis
labels, even for singleton dimensions.  This is because we’re assuming
you’re going to do math with them, and that the singleton dimensions
will be expanded.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>arg</strong> (<a class="reference internal" href="../generated/pyspecdata.core.nddata.html#pyspecdata.core.nddata" title="pyspecdata.core.nddata"><em>nddata</em></a><em> or </em><em>np.ndarray</em>) – The nddata that you want to align to <cite>self</cite>.
If arg is an np.ndarray, it will try to match dimensions to self based
on the length of the dimension.
<strong>Note:</strong> currently there is an issue where this will only really
work for 1D data, since it first makes an nddata instance based on
arg, which apparently collapses multi-D data to 1D data.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>A</strong> (<em>nddata</em>) – realigned version of <cite>self</cite></p></li>
<li><p><strong>B</strong> (<em>nddata</em>) – realigned version of <cite>arg</cite> (the argument)</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.core.nddata.along">
<span class="sig-name descname"><span class="pre">along</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dimname</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.along" title="Permalink to this definition">¶</a></dt>
<dd><p>Specifies the dimension for the next matrix
multiplication (represents the rows/columns).</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="pyspecdata.core.nddata.angle">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">angle</span></span><a class="headerlink" href="#pyspecdata.core.nddata.angle" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the angle component of the data</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.core.nddata.argmax">
<span class="sig-name descname"><span class="pre">argmax</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.argmax" title="Permalink to this definition">¶</a></dt>
<dd><p>find the max along a particular axis, and get rid of that axis, replacing it with the index number of the max value</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>raw_index</strong> (<em>bool</em>) – return the raw (np.ndarray) numerical index, rather than the corresponding axis value
Note that the result returned is still, however, an nddata (rather than numpy np.ndarray) object.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.core.nddata.argmin">
<span class="sig-name descname"><span class="pre">argmin</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">axes</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.argmin" title="Permalink to this definition">¶</a></dt>
<dd><p>If <cite>np.argmin(‘axisname’)</cite> find the min along a particular axis, and get rid of that
axis, replacing it with the index number of the max value.
If <cite>np.argmin()</cite>: return a dictionary giving the coordinates of the overall minimum point.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>raw_index</strong> (<em>bool</em>) – Return the raw (np.ndarray) numerical index, rather than the corresponding axis value.
Note that the result returned is still, however, an nddata (rather than numpy np.ndarray) object.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.core.nddata.axis">
<span class="sig-name descname"><span class="pre">axis</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">axisname</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.axis" title="Permalink to this definition">¶</a></dt>
<dd><p>returns a 1-D axis for further manipulation</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.core.nddata.axlen">
<span class="sig-name descname"><span class="pre">axlen</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">axis</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.axlen" title="Permalink to this definition">¶</a></dt>
<dd><p>return the size (length) of an axis, by name</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>axis</strong> (<em>str</em>) – name of the axis whos length you are interested in</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.core.nddata.axn">
<span class="sig-name descname"><span class="pre">axn</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">axis</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.axn" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the index number for the axis with the name “axis”</p>
<p>This is used by many other methods.
As a simple example,
self.:func:<cite>axlen`(axis) (the axis length) returns
``np.shape(self.data)[self.axn(axis)]`</cite></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>axis</strong> (<em>str</em>) – name of the axis</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.core.nddata.cdf">
<span class="sig-name descname"><span class="pre">cdf</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">normalized</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_bins</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">500</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.cdf" title="Permalink to this definition">¶</a></dt>
<dd><p>calculate the Cumulative Distribution Function for the data along <cite>axis_name</cite></p>
<p>only for 1D data right now</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p></p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>A new nddata object with an axis labeled <cite>values</cite>, and data corresponding to the CDF.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.core.nddata.check_axis_coords_errors">
<span class="sig-name descname"><span class="pre">check_axis_coords_errors</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.check_axis_coords_errors" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.core.nddata.chunk">
<span class="sig-name descname"><span class="pre">chunk</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">axisin</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">otherargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.chunk" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>“Chunking” is defined here to be the opposite of taking a direct product, increasing the number of dimensions by the inverse of the process by which taking a direct product decreases the number of dimensions.  This function chunks axisin into multiple new axes arguments.:</dt><dd><p>axesout – gives the names of the output axes
shapesout – optional – if not given, it assumes equal length – if given, one of the values can be -1, which is assumed length</p>
</dd>
</dl>
<p>When there are axes, it assumes that the axes of the new dimensions
are nested – <em>e.g.</em>, it will chunk a dimension with axis:
[1,2,3,4,5,6,7,8,9,10]
into dimensions with axes:
[0,1,2,3,4], [1,6]</p>
<dl class="simple">
<dt>..todo::</dt><dd><p>Deal with this efficiently when we move to new-style axes</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.core.nddata.chunk_auto">
<span class="sig-name descname"><span class="pre">chunk_auto</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">axis_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">which_field</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dimname</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.chunk_auto" title="Permalink to this definition">¶</a></dt>
<dd><p>assuming that axis “axis_name” is currently labeled with a structured np.array, choose one field (“which_field”) of that structured np.array to generate a new dimension
Note that for now, by definition, no error is allowed on the axes.
However, once I upgrade to using structured arrays to handle axis and data errors, I will want to deal with that appropriately here.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.core.nddata.circshift">
<span class="sig-name descname"><span class="pre">circshift</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">axis</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">amount</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.circshift" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.core.nddata.contiguous">
<span class="sig-name descname"><span class="pre">contiguous</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lambdafunc</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">axis</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.contiguous" title="Permalink to this definition">¶</a></dt>
<dd><p>Return contiguous blocks that satisfy the condition given by <cite>lambdafunc</cite></p>
<p>this function returns the start and stop positions along the
axis for the contiguous blocks for which lambdafunc returns
true
<strong>Currently only supported for 1D data</strong></p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>adapted from stackexchange post <a class="reference external" href="http://stackoverflow.com/questions/4494404/find-large-number-of-consecutive-values-fulfilling-condition-in-a-numpy-array">http://stackoverflow.com/questions/4494404/find-large-number-of-consecutive-values-fulfilling-condition-in-a-numpy-array</a></p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>lambdafunc</strong> (<em>types.FunctionType</em>) – If only one argument (lambdafunc) is given,
then lambdafunc is
a function that accepts a copy of the current nddata object
(<cite>self</cite>) as the argument.
If two arguments are given,
the second is <cite>axis</cite>, and lambdafunc has two arguments,
<cite>self</cite> and the value of <cite>axis</cite>.</p></li>
<li><p><strong>axis</strong> (<em>{None</em><em>,</em><em>str}</em>) – the name of the axis along which you want to find contiguous
blocks</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>retval</strong> – An <span class="math notranslate nohighlight">\(N\times 2\)</span> matrix, where the <span class="math notranslate nohighlight">\(N\)</span> rows correspond to pairs of axis
label that give ranges over which <cite>lambdafunc</cite> evaluates to <cite>True</cite>.
These are ordered according to descending range width.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>np.ndarray</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">sum_for_contiguous</span> <span class="o">=</span> <span class="nb">abs</span><span class="p">(</span><span class="n">forplot</span><span class="p">)</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="s1">&#39;t1&#39;</span><span class="p">)</span>
<span class="n">fl</span><span class="o">.</span><span class="n">next</span><span class="p">(</span><span class="s2">&quot;test contiguous&quot;</span><span class="p">)</span>
<span class="n">forplot</span> <span class="o">=</span> <span class="n">sum_for_contiguous</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span><span class="o">.</span><span class="n">set_error</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>
<span class="n">fl</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">forplot</span><span class="p">,</span><span class="n">alpha</span> <span class="o">=</span> <span class="mf">0.25</span><span class="p">,</span><span class="n">linewidth</span> <span class="o">=</span> <span class="mi">3</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;this is what the max looks like&quot;</span><span class="p">,</span><span class="mf">0.5</span><span class="o">*</span><span class="n">sum_for_contiguous</span><span class="o">.</span><span class="n">set_error</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span><span class="o">.</span><span class="n">runcopy</span><span class="p">(</span><span class="nb">max</span><span class="p">,</span><span class="s1">&#39;t2&#39;</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">sum_for_contiguous</span> <span class="o">&gt;</span> <span class="mf">0.5</span><span class="o">*</span><span class="n">sum_for_contiguous</span><span class="o">.</span><span class="n">runcopy</span><span class="p">(</span><span class="nb">max</span><span class="p">,</span><span class="s1">&#39;t2&#39;</span><span class="p">))</span>
<span class="n">retval</span> <span class="o">=</span> <span class="n">sum_for_contiguous</span><span class="o">.</span><span class="n">contiguous</span><span class="p">(</span><span class="n">quarter_of_max</span><span class="p">,</span><span class="s1">&#39;t2&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;contiguous range / 1e6:&quot;</span><span class="p">,</span><span class="n">retval</span><span class="o">/</span><span class="mf">1e6</span><span class="p">)</span>
<span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">retval</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]):</span>
    <span class="n">a</span><span class="p">,</span><span class="n">b</span> <span class="o">=</span> <span class="n">retval</span><span class="p">[</span><span class="n">j</span><span class="p">,:]</span>
    <span class="n">fl</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">forplot</span><span class="p">[</span><span class="s1">&#39;t2&#39;</span><span class="p">:(</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">)])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.core.nddata.contour">
<span class="sig-name descname"><span class="pre">contour</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">labels</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.contour" title="Permalink to this definition">¶</a></dt>
<dd><p>Contour plot – kwargs are passed to the matplotlib
<cite>contour</cite> function.</p>
<p>See docstring of <cite>figlist_var.image()</cite> for an example</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="pyspecdata.core.nddata.labels">
<span class="sig-name descname"><span class="pre">labels</span></span><a class="headerlink" href="#pyspecdata.core.nddata.labels" title="Permalink to this definition">¶</a></dt>
<dd><p>Whether or not the levels should be labeled.
Defaults to True</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>boolean</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.core.nddata.convolve">
<span class="sig-name descname"><span class="pre">convolve</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">axisname</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filterwidth</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">convfunc</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'gaussian'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">enforce_causality</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.convolve" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform a convolution.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>axisname</strong> (<em>str</em>) – apply the convolution along <cite>axisname</cite></p></li>
<li><p><strong>filterwidth</strong> (<em>double</em>) – width of the convolution function
(the units of this value are specified in the
same domain as that in which the data exists
when you call this function on said data)</p></li>
<li><p><strong>convfunc</strong> (<a class="reference internal" href="#pyspecdata.function" title="pyspecdata.function"><em>function</em></a>) – A function that takes two
arguments – the first are the axis
coordinates and the second is
<cite>filterwidth</cite> (see <cite>filterwidth</cite>).
Default is a normalized Gaussian of FWHM
(<span class="math notranslate nohighlight">\(\lambda\)</span>) <cite>filterwidth</cite>
For example if you want a complex Lorentzian with <cite>filterwidth</cite> controlled by the rate <span class="math notranslate nohighlight">\(R\)</span>,
<em>i.e.</em>
<span class="math notranslate nohighlight">\(\frac{-1}{-i 2 \pi f - R}\)</span>
then <code class="docutils literal notranslate"><span class="pre">convfunc</span> <span class="pre">=</span> <span class="pre">lambda</span> <span class="pre">f,R:</span> <span class="pre">-1./(-1j*2*pi*f-R)</span></code></p></li>
<li><p><strong>enforce_causality</strong> (<em>boolean</em>) – <p>make sure that the ift of the filter doesn’t get aliased to high
time values.</p>
<p>”Causal” data here means data derived as the FT of time-domain
data that starts at time zero – like an FID – for which real
and abs parts are Hermite transform pairs.</p>
<p><cite>enforce_causality</cite> should be <cite>True</cite> for frequency-domain data
whose corresponding time-domain data has a startpoint at or near
zero, with no negative time values – like data derived from the
FT of an IFT.
In contrast, for example, if you have frequency-domain data that
is entirely real (like a power spectral density) then you want to
set enforce_causality to False.</p>
<p>It is ignored if you call a convolution on time-domain data.</p>
</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.core.nddata.copy">
<span class="sig-name descname"><span class="pre">copy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.copy" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a full copy of this instance.</p>
<p>Because methods typically change the data in place, you might want to
use this frequently.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>data</strong> (<em>boolean</em>) – <p>Default to True.
False doesn’t copy the data – this is for internal use,
<em>e.g.</em> when you want to copy all the metadata and perform a
calculation on the data.</p>
<p>The code for this also provides the definitive list of the
nddata metadata.</p>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.core.nddata.copy_axes">
<span class="sig-name descname"><span class="pre">copy_axes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">other</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.copy_axes" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.core.nddata.copy_props">
<span class="sig-name descname"><span class="pre">copy_props</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">other</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.copy_props" title="Permalink to this definition">¶</a></dt>
<dd><p>Copy all properties (see <a class="reference internal" href="#pyspecdata.core.nddata.get_prop" title="pyspecdata.core.nddata.get_prop"><code class="xref py py-func docutils literal notranslate"><span class="pre">get_prop()</span></code></a>) from another nddata
object – note that these include properties pertaining the the FT
status of various dimensions.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.core.nddata.copyaxes">
<span class="sig-name descname"><span class="pre">copyaxes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">other</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.copyaxes" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.core.nddata.cropped_log">
<span class="sig-name descname"><span class="pre">cropped_log</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">subplot_axes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">magnitude</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">4</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.cropped_log" title="Permalink to this definition">¶</a></dt>
<dd><p>For the purposes of plotting, this generates a copy where I take the log, spanning “magnitude” orders of magnitude
This is designed to be called as abs(instance).cropped_log(), so it doesn’t make a copy</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.core.nddata.diff">
<span class="sig-name descname"><span class="pre">diff</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">thisaxis</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">backwards</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.diff" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.core.nddata.dot">
<span class="sig-name descname"><span class="pre">dot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">arg</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.dot" title="Permalink to this definition">¶</a></dt>
<dd><p>Tensor dot of self with arg – dot all matching dimension labels.  This can be used to do matrix multiplication, but note that the order of doesn’t matter, since the dimensions that are contracted are determined by matching the dimension names, not the order of the dimension.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">nddata</span><span class="p">(</span><span class="n">r_</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">9</span><span class="p">],[</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">],[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span><span class="s1">&#39;b&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span> <span class="o">=</span> <span class="n">nddata</span><span class="p">(</span><span class="n">r_</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">3</span><span class="p">],</span><span class="s1">&#39;b&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">a</span><span class="o">.</span><span class="n">C</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">a</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">b</span><span class="o">.</span><span class="n">data</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">nddata</span><span class="p">(</span><span class="n">r_</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">27</span><span class="p">],[</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">],[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span><span class="s1">&#39;b&#39;</span><span class="p">,</span><span class="s1">&#39;c&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span> <span class="o">=</span> <span class="n">nddata</span><span class="p">(</span><span class="n">r_</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">9</span><span class="p">],[</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">],[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span><span class="s1">&#39;b&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">a</span><span class="o">.</span><span class="n">C</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">tensordot</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">data</span><span class="p">,</span><span class="n">b</span><span class="o">.</span><span class="n">data</span><span class="p">,</span><span class="n">axes</span><span class="o">=</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">),(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">)))</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">nddata</span><span class="p">(</span><span class="n">r_</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">27</span><span class="p">],[</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">],[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span><span class="s1">&#39;b&#39;</span><span class="p">,</span><span class="s1">&#39;c&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span> <span class="o">=</span> <span class="n">nddata</span><span class="p">(</span><span class="n">r_</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">9</span><span class="p">],[</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">],[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span><span class="s1">&#39;d&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">a</span><span class="o">.</span><span class="n">C</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">tensordot</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">data</span><span class="p">,</span><span class="n">b</span><span class="o">.</span><span class="n">data</span><span class="p">,</span><span class="n">axes</span><span class="o">=</span><span class="p">((</span><span class="mi">0</span><span class="p">),(</span><span class="mi">0</span><span class="p">)))</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.core.nddata.eval_poly">
<span class="sig-name descname"><span class="pre">eval_poly</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">c</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">axis</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">inplace</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.eval_poly" title="Permalink to this definition">¶</a></dt>
<dd><p>Take <cite>c</cite> output (array of polynomial coefficents in ascending order) from <a class="reference internal" href="../pyspecdata.html#pyspecdata.nddata.polyfit" title="pyspecdata.nddata.polyfit"><code class="xref py py-func docutils literal notranslate"><span class="pre">polyfit()</span></code></a>, and apply it along axis <cite>axis</cite></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>c</strong> (<em>ndarray</em>) – polynomial coefficients in ascending polynomial order</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.core.nddata.extend">
<span class="sig-name descname"><span class="pre">extend</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">axis</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extent</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fill_with</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tolerance</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1e-05</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.extend" title="Permalink to this definition">¶</a></dt>
<dd><p>Extend the (domain of the) dataset and fill with a pre-set value.</p>
<p>The coordinates associated with
<cite>axis</cite> must be uniformly ascending with spacing <span class="math notranslate nohighlight">\(dx\)</span>.
The function will extend <cite>self</cite>
by adding a point every <span class="math notranslate nohighlight">\(dx\)</span> until the axis
includes the point <cite>extent</cite>.  Fill the newly created datapoints with <cite>fill_with</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>axis</strong> (<em>str</em>) – name of the axis to extend</p></li>
<li><p><strong>extent</strong> (<em>double</em>) – <p>Extend the axis coordinates of <cite>axis</cite> out to this value.</p>
<p>The value of <cite>extent</cite> must be less the smallest (most negative)
axis coordinate or greater than the largest (most positive)
axis coordinate.</p>
</p></li>
<li><p><strong>fill_with</strong> (<em>double</em>) – fill the new data points with this value (defaults to 0)</p></li>
<li><p><strong>tolerance</strong> (<em>double</em>) – when checking for ascending axis labels, etc.,
values/differences must match to within tolerance
(assumed to represent the actual precision, given
various errors, etc.)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.core.nddata.extend_for_shear">
<span class="sig-name descname"><span class="pre">extend_for_shear</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">altered_axis</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">propto_axis</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">skew_amount</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.extend_for_shear" title="Permalink to this definition">¶</a></dt>
<dd><p>this is propto_axis helper function for <cite>.fourier.shear</cite></p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.core.nddata.fld">
<span class="sig-name descname"><span class="pre">fld</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dict_in</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">noscalar</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.fld" title="Permalink to this definition">¶</a></dt>
<dd><p>flatten dictionary – return list</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.core.nddata.fourier_shear">
<span class="sig-name descname"><span class="pre">fourier_shear</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">altered_axis</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">propto_axis</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">by_amount</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">zero_fill</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_in_conj</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.fourier_shear" title="Permalink to this definition">¶</a></dt>
<dd><p>the fourier shear method – see .shear() documentation</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.core.nddata.fromaxis">
<span class="sig-name descname"><span class="pre">fromaxis</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.fromaxis" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate an nddata object from one of the axis labels.</p>
<p>Can be used in one of several ways:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">self.fromaxis('axisname')</span></code>: Returns an nddata where <cite>retval.data</cite> consists of the given axis values.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">self.fromaxis('axisname',inputfunc)</span></code>: use <cite>axisname</cite> as the input for <cite>inputfunc</cite>, and load the result into <cite>retval.data</cite></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">self.fromaxis(inputsymbolic)</span></code>: Evaluate <cite>inputsymbolic</cite> and load the result into <cite>retval.data</cite></p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>axisname</strong> (<em>str</em><em> | </em><em>list</em>) – The axis (or list of axes) to that is used as the argument of <cite>inputfunc</cite> or the function represented by <cite>inputsymbolic</cite>.
If this is the only argument, it cannot be a list.</p></li>
<li><p><strong>inputsymbolic</strong> (<em>sympy.Expr</em>) – A sympy expression whose only symbols are the names of axes.
It is preferred, though not required, that this is passed
without an <cite>axisname</cite> argument – the axis names are then
inferred from the symbolic expression.</p></li>
<li><p><strong>inputfunc</strong> (<a class="reference internal" href="#pyspecdata.function" title="pyspecdata.function"><em>function</em></a>) – A function (typically a lambda function) that taxes the values of the axis given by <cite>axisname</cite> as input.</p></li>
<li><p><strong>overwrite</strong> (<em>bool</em>) – Defaults to <cite>False</cite>. If set to <cite>True</cite>, it overwrites <cite>self</cite> with <cite>retval</cite>.</p></li>
<li><p><strong>as_array</strong> (<em>bool</em>) – Defaults to <cite>False</cite>. If set to <cite>True</cite>, <cite>retval</cite> is a properly dimensioned numpy ndarray rather than an nddata.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>retval</strong> – An expression calculated from the axis(es) given by <cite>axisname</cite> or inferred from <cite>inputsymbolic</cite>.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="../generated/pyspecdata.core.nddata.html#pyspecdata.core.nddata" title="pyspecdata.core.nddata">nddata</a> | ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.core.nddata.ft">
<span class="sig-name descname"><span class="pre">ft</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">axes</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tolerance</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1e-05</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cosine</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unitary</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.ft" title="Permalink to this definition">¶</a></dt>
<dd><p>This performs a Fourier transform along the axes identified by the string or list of strings <cite>axes</cite>.</p>
<dl class="simple">
<dt>It adjusts normalization and units so that the result conforms to</dt><dd><p><span class="math notranslate nohighlight">\(\tilde{s}(f)=\int_{x_{min}}^{x_{max}} s(t) e^{-i 2 \pi f t} dt\)</span></p>
</dd>
</dl>
<p><strong>pre-FT</strong>, we use the axis to cyclically permute <span class="math notranslate nohighlight">\(t=0\)</span> to the first index</p>
<p><strong>post-FT</strong>, we assume that the data has previously been IFT’d
If this is the case, passing <code class="docutils literal notranslate"><span class="pre">shift=True</span></code> will cause an error
If this is not the case, passing <code class="docutils literal notranslate"><span class="pre">shift=True</span></code> generates a standard fftshift
<code class="docutils literal notranslate"><span class="pre">shift=None</span></code> will choose True, if and only if this is not the case</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pad</strong> (<em>int</em><em> or </em><em>boolean</em>) – <cite>pad</cite> specifies a zero-filling.  If it’s a number, then it gives
the length of the zero-filled dimension.  If it is just <cite>True</cite>,
then the size of the dimension is determined by rounding the
dimension size up to the nearest integral power of 2.</p></li>
<li><p><strong>automix</strong> (<em>double</em>) – <cite>automix</cite> can be set to the approximate frequency value.  This is
useful for the specific case where the data has been captured on a
sampling scope, and it’s severely aliased over.</p></li>
<li><p><strong>cosine</strong> (<em>boolean</em>) – yields a sum of the fft and ifft, for a cosine transform</p></li>
<li><p><strong>unitary</strong> (<em>boolean</em><em> (</em><em>None</em><em>)</em>) – return a result that is vector-unitary</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.core.nddata.ft_clear_startpoints">
<span class="sig-name descname"><span class="pre">ft_clear_startpoints</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">axis</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">t</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">f</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nearest</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.ft_clear_startpoints" title="Permalink to this definition">¶</a></dt>
<dd><p>Clears memory of where the origins in the time and frequency domain are.
This is useful, <em>e.g.</em> when you want to ift and center about time=0.
By setting shift=True you can also manually set the points.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>t</strong> (<em>float</em><em>, </em><em>'current'</em><em>, </em><em>'reset'</em><em>, or </em><em>None</em>) – keyword arguments <cite>t</cite> and <cite>f</cite> can be set by (1) manually setting
the start point (2) using the string ‘current’ to leave the
current setting a lone (3) ‘reset’, which clears the startpoint
and (4) None, which will be changed to ‘current’ when the other is set to a number or ‘rest’ if both are set to None.</p></li>
<li><p><strong>t</strong> – see <cite>t</cite></p></li>
<li><p><strong>nearest</strong> (<em>bool</em>) – <p>Shifting the startpoint can only be done
by an integral number of datapoints
(<em>i.e.</em> an integral number of dwell
times, dt, in the time domain or
integral number of df in the frequency
domain).
While it is possible to shift by a
non-integral number of datapoints,
this is done by applying a
phase-dependent shift in the inverse
domain.
Applying such a axis-dependent shift
can have vary unexpected effects if the
data in the inverse domain is aliased,
and is therefore heavily discouraged.
(For example, consider what happens if
we attempt to apply a
frequency-dependent phase shift to data
where a peak at 110 Hz is aliased and
appears at the 10 Hz position.)</p>
<p>Setting <cite>nearest</cite> to <strong>True</strong>
will choose a startpoint at the closest
integral datapoint to what you have
specified.</p>
<p>Setting <cite>nearest</cite> to <strong>False</strong>
will explicitly override the safeties –
essentially telling the code that you
know the data is not aliased in the
inverse domain and/or are willing to
deal with the consequences.</p>
</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.core.nddata.ft_state_to_str">
<span class="sig-name descname"><span class="pre">ft_state_to_str</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">axes</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.ft_state_to_str" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a string that lists the FT domain for the given axes.</p>
<p><span class="math notranslate nohighlight">\(u\)</span> refers to the original domain (typically time) and <span class="math notranslate nohighlight">\(v\)</span> refers to the FT’d domain (typically frequency)
If no axes are passed as arguments, it does this for all axes.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.core.nddata.ftshift">
<span class="sig-name descname"><span class="pre">ftshift</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">axis</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.ftshift" title="Permalink to this definition">¶</a></dt>
<dd><p>FT-based shift.  Currently only works in time domain.</p>
<p>This was previously made obsolete, but is now a demo of how to use the ft properties.
It is not the most efficient way to do this.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.core.nddata.get_covariance">
<span class="sig-name descname"><span class="pre">get_covariance</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.get_covariance" title="Permalink to this definition">¶</a></dt>
<dd><p>this returns the covariance matrix of the data</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.core.nddata.get_error">
<span class="sig-name descname"><span class="pre">get_error</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.get_error" title="Permalink to this definition">¶</a></dt>
<dd><p>get a copy of the errors
either set_error(‘axisname’,error_for_axis) or set_error(error_for_data)</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.core.nddata.get_ft_prop">
<span class="sig-name descname"><span class="pre">get_ft_prop</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">axis</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">propname</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.get_ft_prop" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the FT property given by <cite>propname</cite>.  For both setting and getting, <cite>None</cite> is equivalent to an unset value if no <cite>propname</cite> is given, this just sets the <cite>FT</cite> property, which tells if a dimension is frequency or time domain</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.core.nddata.get_plot_color">
<span class="sig-name descname"><span class="pre">get_plot_color</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.get_plot_color" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.core.nddata.get_prop">
<span class="sig-name descname"><span class="pre">get_prop</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">propname</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.get_prop" title="Permalink to this definition">¶</a></dt>
<dd><p>return arbitrary ND-data properties (typically acquisition parameters <em>etc.</em>) by name (<cite>propname</cite>)</p>
<p>In order to allow ND-data to store acquisition parameters and other info that accompanies the data,
but might not be structured in a gridded format, nddata instances
always have a <cite>other_info</cite> dictionary attribute,
which stores these properties by name.</p>
<p>If the property doesn’t exist, this returns <cite>None</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>propname</strong> (<em>str</em>) – <p>Name of the property that you’re want returned.
If this is left out or set to “None” (not given), the names of the available
properties are returned.
If no exact match is found, and propname contains a . or * or [, it’s
assumed to be a regular expression.
If several such matches are found, the error message is informative.</p>
<div class="admonition-todo admonition" id="id4">
<p class="admonition-title">Todo</p>
<p>have it recursively search dictionaries (e.g. bruker acq)</p>
</div>
</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>The value of the property (can by any type) or <cite>None</cite> if the property doesn’t exist.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.core.nddata.get_range">
<span class="sig-name descname"><span class="pre">get_range</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dimname</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stop</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.get_range" title="Permalink to this definition">¶</a></dt>
<dd><p>get raw indices that can be used to generate a slice for the start and (non-inclusive) stop</p>
<p>Uses the same code as the standard slicing format (the ‘range’ option of parseslices)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dimname</strong> (<em>str</em>) – name of the dimension</p></li>
<li><p><strong>start</strong> (<em>float</em>) – the coordinate for the start of the range</p></li>
<li><p><strong>stop</strong> (<em>float</em>) – the coordinate for the stop of the range</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>start</strong> (<em>int</em>) – the index corresponding to the start of the range</p></li>
<li><p><strong>stop</strong> (<em>int</em>) – the index corresponding to the stop of the range</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.core.nddata.get_units">
<span class="sig-name descname"><span class="pre">get_units</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.get_units" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.core.nddata.getaxis">
<span class="sig-name descname"><span class="pre">getaxis</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">axisname</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.getaxis" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.core.nddata.getaxisshape">
<span class="sig-name descname"><span class="pre">getaxisshape</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">axisname</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.getaxisshape" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.core.nddata.gnuplot_save">
<span class="sig-name descname"><span class="pre">gnuplot_save</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.gnuplot_save" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.core.nddata.hdf5_write">
<span class="sig-name descname"><span class="pre">hdf5_write</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">h5path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">directory</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'.'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.hdf5_write" title="Permalink to this definition">¶</a></dt>
<dd><p>Write the nddata to an HDF5 file.</p>
<p><cite>h5path</cite> is the name of the file followed by the node path where
you want to put it – it does <strong>not</strong> include the directory where
the file lives.
The directory can be passed to the <cite>directory</cite> argument.</p>
<p>You can use either <a class="reference internal" href="#pyspecdata.find_file" title="pyspecdata.find_file"><code class="xref py py-func docutils literal notranslate"><span class="pre">find_file()</span></code></a> or
<a class="reference internal" href="#pyspecdata.nddata_hdf5" title="pyspecdata.nddata_hdf5"><code class="xref py py-func docutils literal notranslate"><span class="pre">nddata_hdf5()</span></code></a> to read the data, as shown below.
When reading this, please note that HDF5 files store <em>multiple</em> datasets,
and each is named (here, the name is <cite>test_data</cite>).</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">pyspecdata</span> <span class="kn">import</span> <span class="o">*</span>
<span class="n">init_logging</span><span class="p">(</span><span class="s1">&#39;debug&#39;</span><span class="p">)</span>
<span class="n">a</span> <span class="o">=</span> <span class="n">nddata</span><span class="p">(</span><span class="n">r_</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">5</span><span class="p">:</span><span class="mi">10</span><span class="n">j</span><span class="p">],</span> <span class="s1">&#39;x&#39;</span><span class="p">)</span>
<span class="n">a</span><span class="o">.</span><span class="n">name</span><span class="p">(</span><span class="s1">&#39;test_data&#39;</span><span class="p">)</span>
<span class="k">try</span><span class="p">:</span>
    <span class="n">a</span><span class="o">.</span><span class="n">hdf5_write</span><span class="p">(</span><span class="s1">&#39;example.h5&#39;</span><span class="p">,</span><span class="n">getDATADIR</span><span class="p">(</span><span class="n">exp_type</span><span class="o">=</span><span class="s1">&#39;Sam&#39;</span><span class="p">))</span>
<span class="k">except</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;file already exists, not creating again -- delete the file or node if wanted&quot;</span><span class="p">)</span>
<span class="c1"># read the file by the &quot;raw method&quot;</span>
<span class="n">b</span> <span class="o">=</span> <span class="n">nddata_hdf5</span><span class="p">(</span><span class="s1">&#39;example.h5/test_data&#39;</span><span class="p">,</span>
        <span class="n">getDATADIR</span><span class="p">(</span><span class="n">exp_type</span><span class="o">=</span><span class="s1">&#39;Sam&#39;</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;found data:&quot;</span><span class="p">,</span><span class="n">b</span><span class="p">)</span>
<span class="c1"># or use the find file method</span>
<span class="n">c</span> <span class="o">=</span> <span class="n">find_file</span><span class="p">(</span><span class="s1">&#39;example.h5&#39;</span><span class="p">,</span> <span class="n">exp_type</span><span class="o">=</span><span class="s1">&#39;Sam&#39;</span><span class="p">,</span>
        <span class="n">expno</span><span class="o">=</span><span class="s1">&#39;test_data&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;found data:&quot;</span><span class="p">,</span><span class="n">c</span><span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>h5path</strong> (<em>str</em>) – The name of the file followed by the node path where
you want to put it – it does <strong>not</strong> include the directory where
the file lives.
(Because HDF5 files contain an internal directory-like group
structure.)</p></li>
<li><p><strong>directory</strong> (<em>str</em>) – the directory where the HDF5 file lives.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.core.nddata.histogram">
<span class="sig-name descname"><span class="pre">histogram</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.histogram" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.core.nddata.human_units">
<span class="sig-name descname"><span class="pre">human_units</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.human_units" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.core.nddata.ift">
<span class="sig-name descname"><span class="pre">ift</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">axes</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tolerance</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1e-05</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unitary</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.ift" title="Permalink to this definition">¶</a></dt>
<dd><p>This performs an inverse Fourier transform along the axes identified by the string or list of strings <cite>axes</cite>.</p>
<dl class="simple">
<dt>It adjusts normalization and units so that the result conforms to</dt><dd><p><span class="math notranslate nohighlight">\(s(t)=\int_{x_{min}}^{x_{max}} \tilde{s}(f) e^{i 2 \pi f t} df\)</span></p>
</dd>
</dl>
<p><strong>pre-IFT</strong>, we use the axis to cyclically permute <span class="math notranslate nohighlight">\(f=0\)</span> to the first index</p>
<p><strong>post-IFT</strong>, we assume that the data has previously been FT’d
If this is the case, passing <code class="docutils literal notranslate"><span class="pre">shift=True</span></code> will cause an error
If this is not the case, passing <code class="docutils literal notranslate"><span class="pre">shift=True</span></code> generates a standard ifftshift
<code class="docutils literal notranslate"><span class="pre">shift=None</span></code> will choose True, if and only if this is not the case</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pad</strong> (<em>int</em><em> or </em><em>boolean</em>) – <p><cite>pad</cite> specifies a zero-filling.  If it’s a number, then it gives
the length of the zero-filled dimension.  If it is just <cite>True</cite>,
then the size of the dimension is determined by rounding the
dimension size up to the nearest integral power of 2.   It uses the
<cite>start_time</cite> ft property to determine the start of the axis.  To
do this, it assumes that it is a stationary signal
(convolved with infinite comb function).
The value of <cite>start_time</cite> can differ from by a non-integral multiple of
<span class="math notranslate nohighlight">\(\Delta t\)</span>, though the routine will check whether or not it is safe to
do this.</p>
<dl class="simple">
<dt>..note ::</dt><dd><p>In the code, this is controlled by <cite>p2_post</cite> (the integral
<span class="math notranslate nohighlight">\(\Delta t\)</span> and <cite>p2_post_discrepancy</cite> – the non-integral.</p>
</dd>
</dl>
</p></li>
<li><p><strong>unitary</strong> (<em>boolean</em><em> (</em><em>None</em><em>)</em>) – return a result that is vector-unitary</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="pyspecdata.core.nddata.imag">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">imag</span></span><a class="headerlink" href="#pyspecdata.core.nddata.imag" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the imag component of the data</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.core.nddata.indices">
<span class="sig-name descname"><span class="pre">indices</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">axis_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">values</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.indices" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a string of indeces that most closely match the axis labels corresponding to values. Filter them to make sure they are unique.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.core.nddata.inhomog_coords">
<span class="sig-name descname"><span class="pre">inhomog_coords</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">direct_dim</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">indirect_dim</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tolerance</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1e-05</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'linear'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plot_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">debug_kwargs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.inhomog_coords" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply the “inhomogeneity transform,” which rotates the data by <span class="math notranslate nohighlight">\(45^{\circ}\)</span>, and then mirrors the portion with <span class="math notranslate nohighlight">\(t_2&lt;0\)</span> in order to transform from a <span class="math notranslate nohighlight">\((t_1,t_2)\)</span> coordinate system to a <span class="math notranslate nohighlight">\((t_{inh},t_{homog})\)</span> coordinate system.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>direct_dim</strong> (<em>str</em>) – Label of the direct dimension (typically <span class="math notranslate nohighlight">\(t_2\)</span>)</p></li>
<li><p><strong>indirect_dim</strong> (<em>str</em>) – Label of the indirect dimension (typically <span class="math notranslate nohighlight">\(t_1\)</span>)</p></li>
<li><p><strong>method</strong> (<em>'linear'</em><em>, </em><em>'fourier'</em>) – The interpolation method used to rotate the data and to mirror the data.
<strong>Note</strong> currently, both use a fourier-based mirroring method.</p></li>
<li><p><strong>plot_name</strong> (<em>str</em>) – the base name for the plots that are generated</p></li>
<li><p><strong>fl</strong> (<em>figlist_var</em>) – </p></li>
<li><p><strong>debug_kwargs</strong> (<em>dict</em>) – <p>with keys:</p>
<dl class="field-list simple">
<dt class="field-odd"><cite>correct_overlap</cite></dt>
<dd class="field-odd"><p>if False, doesn’t correct for the overlap error that occurs during mirroring</p>
</dd>
</dl>
</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.core.nddata.integrate">
<span class="sig-name descname"><span class="pre">integrate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">thisaxis</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">backwards</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cumulative</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.integrate" title="Permalink to this definition">¶</a></dt>
<dd><p>Performs an integration – which is similar to a sum, except that it takes the axis into account, <em>i.e.</em>, it performs:
<span class="math notranslate nohighlight">\(\int f(x) dx\)</span>
rather than
<span class="math notranslate nohighlight">\(\sum_i f(x_i)\)</span></p>
<p>Gaussian quadrature, etc, is planned for a future version.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>thisaxis</strong> – The dimension that you want to integrate along</p></li>
<li><p><strong>cumulative</strong> (<em>boolean</em><em> (</em><em>default False</em><em>)</em>) – Perform a cumulative integral (analogous to a cumulative sum)
– <em>e.g.</em> for ESR.</p></li>
<li><p><strong>backwards</strong> (<em>boolean</em><em> (</em><em>default False</em><em>)</em>) – for cumulative integration – perform the integration backwards</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.core.nddata.interp">
<span class="sig-name descname"><span class="pre">interp</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">axis</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">axisvalues</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">past_bounds</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_func</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.interp" title="Permalink to this definition">¶</a></dt>
<dd><p>interpolate data values given axis values</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>return_func</strong> (<em>boolean</em>) – defaults to False.  If True, it returns a function that accepts
axis values and returns a data value.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.core.nddata.invinterp">
<span class="sig-name descname"><span class="pre">invinterp</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">axis</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">values</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.invinterp" title="Permalink to this definition">¶</a></dt>
<dd><p>interpolate axis values given data values</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.core.nddata.item">
<span class="sig-name descname"><span class="pre">item</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.item" title="Permalink to this definition">¶</a></dt>
<dd><p>like numpy item – returns a number when zero-dimensional</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="id0">
<span class="sig-name descname"><span class="pre">labels</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#id0" title="Permalink to this definition">¶</a></dt>
<dd><p>label the dimensions, given in listofstrings with the axis labels given in listofaxes – listofaxes must be a numpy np.array;
you can pass either a dictionary or a axis name (string)/axis label (numpy np.array) pair</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.core.nddata.like">
<span class="sig-name descname"><span class="pre">like</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.like" title="Permalink to this definition">¶</a></dt>
<dd><p>provide “zeros_like” and “ones_like” functionality</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>value</strong> (<em>float</em>) – 1 is “ones_like” 0 is “zeros_like”, etc.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.core.nddata.linear_shear">
<span class="sig-name descname"><span class="pre">linear_shear</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">along_axis</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">propto_axis</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shear_amnt</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">zero_fill</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.linear_shear" title="Permalink to this definition">¶</a></dt>
<dd><p>the linear shear – see <cite>self.shear</cite> for documentation</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.core.nddata.matchdims">
<span class="sig-name descname"><span class="pre">matchdims</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">other</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.matchdims" title="Permalink to this definition">¶</a></dt>
<dd><p>add any dimensions to self that are not present in other</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.core.nddata.matrices_3d">
<span class="sig-name descname"><span class="pre">matrices_3d</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">also1d</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">invert</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_dimsize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1024</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">downsample_self</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.matrices_3d" title="Permalink to this definition">¶</a></dt>
<dd><p>returns X,Y,Z,x_axis,y_axis
matrices X,Y,Z, are suitable for a variety of mesh plotting, etc, routines
x_axis and y_axis are the x and y axes</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.core.nddata.max">
<span class="sig-name descname"><span class="pre">max</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.max" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.core.nddata.mayavi_surf">
<span class="sig-name descname"><span class="pre">mayavi_surf</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.mayavi_surf" title="Permalink to this definition">¶</a></dt>
<dd><p>use the mayavi surf function, assuming that we’ve already loaded mlab
during initialization</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.core.nddata.mean">
<span class="sig-name descname"><span class="pre">mean</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.mean" title="Permalink to this definition">¶</a></dt>
<dd><p>Take the mean and (optionally) set the error to the standard deviation</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>std</strong> (<em>bool</em>) – whether or not to return the standard deviation as an error</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.core.nddata.mean_all_but">
<span class="sig-name descname"><span class="pre">mean_all_but</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">listofdims</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.mean_all_but" title="Permalink to this definition">¶</a></dt>
<dd><p>take the mean over all dimensions not in the list</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.core.nddata.mean_nopop">
<span class="sig-name descname"><span class="pre">mean_nopop</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">axis</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.mean_nopop" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.core.nddata.mean_weighted">
<span class="sig-name descname"><span class="pre">mean_weighted</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">axisname</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.mean_weighted" title="Permalink to this definition">¶</a></dt>
<dd><p>perform  the weighted mean along <cite>axisname</cite> (use $sigma$ from $sigma = $self.get_error() do generate $1/sigma$ weights)
for now, it clears the error of <cite>self</cite>, though it would be easy to calculate the new error, since everything is linear</p>
<p>unlike other functions, this creates working objects that are themselves nddata objects
this strategy is easier than coding out the raw numpy math, but probably less efficient</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.core.nddata.meshplot">
<span class="sig-name descname"><span class="pre">meshplot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">stride=None</span></em>, <em class="sig-param"><span class="pre">alpha=1.0</span></em>, <em class="sig-param"><span class="pre">onlycolor=False</span></em>, <em class="sig-param"><span class="pre">light=None</span></em>, <em class="sig-param"><span class="pre">rotation=None</span></em>, <em class="sig-param"><span class="pre">cmap=&lt;matplotlib.colors.LinearSegmentedColormap</span> <span class="pre">object&gt;</span></em>, <em class="sig-param"><span class="pre">ax=None</span></em>, <em class="sig-param"><span class="pre">invert=False</span></em>, <em class="sig-param"><span class="pre">**kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.meshplot" title="Permalink to this definition">¶</a></dt>
<dd><p>takes both rotation and light as elevation, azimuth
only use the light kwarg to generate a black and white shading display</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.core.nddata.min">
<span class="sig-name descname"><span class="pre">min</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.min" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.core.nddata.mkd">
<span class="sig-name descname"><span class="pre">mkd</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">arg</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.mkd" title="Permalink to this definition">¶</a></dt>
<dd><p>make dictionary format</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.core.nddata.multimin">
<span class="sig-name descname"><span class="pre">multimin</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">minfunc</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">axisname</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filterwidth</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">numberofmins</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.multimin" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.core.nddata.name">
<span class="sig-name descname"><span class="pre">name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">arg</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.name" title="Permalink to this definition">¶</a></dt>
<dd><p>args:
.name(newname) –&gt; Name the object (for storage, etc)
.name() –&gt; Return the name</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.core.nddata.nnls">
<span class="sig-name descname"><span class="pre">nnls</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dimname</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">newaxis_dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kernel_func</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">l</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.nnls" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform regularized non-negative least-squares “fit” on self.</p>
<p>Capable of solving for solution in 1 or 2 dimensions.</p>
<p>We seek to minimize
<span class="math notranslate nohighlight">\(Q = \| Ax - b \|_2 + \|\lambda x\|_2\)</span>
in order to obtain solution vector <span class="math notranslate nohighlight">\(x\)</span> subject to non-negativity constraint
given input matrix <span class="math notranslate nohighlight">\(A\)</span>, the kernel, and input vector <span class="math notranslate nohighlight">\(b\)</span>, the data.</p>
<p>The first term assesses agreement between the fit <span class="math notranslate nohighlight">\(Ax\)</span> and the data <span class="math notranslate nohighlight">\(b\)</span>,
and the second term accounts for noise with the regularization parameter <span class="math notranslate nohighlight">\(\lambda\)</span>
according to Tikhonov regularization.</p>
<p>To perform regularized minimization in 2 dimensions, set <cite>l</cite> to <a href="#id5"><span class="problematic" id="id6">:str:`BRD`</span></a> and provide a
tuple of parameters <a href="#id7"><span class="problematic" id="id8">:str:`dimname`</span></a>, <a href="#id9"><span class="problematic" id="id10">:nddata:`newaxis_dict`</span></a>, and <a href="#id11"><span class="problematic" id="id12">:function:`kernel_func`</span></a>.
Algorithm described in Venkataramanan et al. 2002 is performed which determines optimal <span class="math notranslate nohighlight">\(\lambda\)</span>
for the data (DOI:10.1109/78.995059).</p>
<p>See: <a class="reference external" href="https://en.wikipedia.org/wiki/Non-negative_least_squares">Wikipedia page on NNLS</a>,
<a class="reference external" href="https://en.wikipedia.org/wiki/Tikhonov_regularization">Wikipedia page on Tikhonov regularization</a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dimname</strong> (<em>str</em>) – Name of the “data” dimension that is to be replaced by a
distribution (the “fit” dimension);
<em>e.g.</em> if you are regularizing a set of functions
<span class="math notranslate nohighlight">\(\np.exp(-\tau*R_1)\)</span>, then this is <span class="math notranslate nohighlight">\(\tau\)</span></p></li>
<li><p><strong>newaxis_dict</strong> (<em>dict</em><em> or </em><a class="reference internal" href="../generated/pyspecdata.core.nddata.html#pyspecdata.core.nddata" title="pyspecdata.core.nddata"><em>nddata</em></a>) – a dictionary whose key is the name of the “fit” dimension
(<span class="math notranslate nohighlight">\(R_1\)</span> in the example above)
and whose value is an np.array with the new axis labels.
OR
this can be a 1D nddata
– if it has an axis, the axis will be used to create the
fit axis; if it has no axis, the data will be used</p></li>
<li><p><strong>kernel_func</strong> (<a class="reference internal" href="#pyspecdata.function" title="pyspecdata.function"><em>function</em></a>) – a function giving the kernel for the regularization.
The first argument is the “data” variable
and the second argument is the “fit” variable
(in the example above, this would be something like
<code class="docutils literal notranslate"><span class="pre">lambda</span> <span class="pre">x,y:</span> <span class="pre">np.exp(-x*y)</span></code>)</p></li>
<li><p><strong>l</strong> (<em>double</em><em> (</em><em>default 0</em><em>) or </em><em>str</em>) – the regularization parameter
<span class="math notranslate nohighlight">\(lambda\)</span> – if this is set to 0, the algorithm reverts to
standard nnls.
If this is set to <a href="#id13"><span class="problematic" id="id14">:str:`BRD`</span></a>, then algorithm expects tuple of each parameter
described above in order to perform a 2-dimensional fit.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The regularized result.
For future use, both the kernel (as an nddata, in a property called
“nnls_kernel”) and the residual (as an nddata, in a property called
“nnls_residual”) are stored as properties of the nddata.
The regularized dimension is always last
(innermost).
If <a href="#id15"><span class="problematic" id="id16">:str:`BRD`</span></a> is specified, then the individual, uncompressed kernels <span class="math notranslate nohighlight">\(K_{1}\)</span> and <span class="math notranslate nohighlight">\(K_{2}\)</span> are returned as properties of the nddata “K1” and “K2” respectively. The number of singular values used to compressed each kernel is returned in properties of the nddata called, respectively, “s1” and “s2”.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>self</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.core.nddata.normalize">
<span class="sig-name descname"><span class="pre">normalize</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">axis</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">first_figure</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.normalize" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.core.nddata.oldtimey">
<span class="sig-name descname"><span class="pre">oldtimey</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">alpha</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">linewidth</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sclinewidth</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">20.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">light</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rotation</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">invert</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.oldtimey" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.core.nddata.plot_labels">
<span class="sig-name descname"><span class="pre">plot_labels</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">labels</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fmt</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs_passed</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.plot_labels" title="Permalink to this definition">¶</a></dt>
<dd><p>this only works for one axis now</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.core.nddata.polyfit">
<span class="sig-name descname"><span class="pre">polyfit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">axis</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">order</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force_y_intercept</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.polyfit" title="Permalink to this definition">¶</a></dt>
<dd><p>polynomial fitting routine – return the coefficients and the fit
.. note:</p>
<blockquote>
<div><p>previously, this returned the fit data as a second argument called <cite>formult</cite>– you
very infrequently want it to be in the same size as the data, though;
to duplicate the old behavior, just add the line <code class="docutils literal notranslate"><span class="pre">formult</span> <span class="pre">=</span> <span class="pre">mydata.eval_poly(c,'axisname')</span></code>.</p>
</div></blockquote>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="../pyspecdata.html#pyspecdata.nddata.eval_poly" title="pyspecdata.nddata.eval_poly"><code class="xref py py-func docutils literal notranslate"><span class="pre">eval_poly()</span></code></a></p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>axis</strong> (<em>str</em>) – name of the axis that you want to fit along
(not sure if this is currently tested for multi-dimensional data,
but the idea should be that multiple fits would be returned.)</p></li>
<li><p><strong>order</strong> (<em>int</em>) – the order of the polynomial to be fit</p></li>
<li><p><strong>force_y_intercept</strong> (<em>double</em><em> or </em><em>None</em>) – force the y intercept to a particular value (e.g. 0)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>c</strong> – a standard numpy np.array containing the coefficients (in ascending polynomial order)</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>np.ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.core.nddata.popdim">
<span class="sig-name descname"><span class="pre">popdim</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dimname</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.popdim" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.core.nddata.random_mask">
<span class="sig-name descname"><span class="pre">random_mask</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">axisname</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">threshold</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.36787944117144233</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">inversion</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.random_mask" title="Permalink to this definition">¶</a></dt>
<dd><p>generate a random mask with about ‘threshold’ of the points thrown out</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="pyspecdata.core.nddata.real">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">real</span></span><a class="headerlink" href="#pyspecdata.core.nddata.real" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the real component of the data</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.core.nddata.register_axis">
<span class="sig-name descname"><span class="pre">register_axis</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">arg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nearest</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.register_axis" title="Permalink to this definition">¶</a></dt>
<dd><p>Interpolate the data so that the given axes are in register with a set of specified values. Does not change the spacing of the axis labels.</p>
<p>It finds the axis label position that is closest to the values given in <cite>arg</cite>, then interpolates (Fourier/sinc method) the data onto a new, slightly shifted, axis that passes exactly through the value given.
To do this, it uses
<a class="reference internal" href="#pyspecdata.core.nddata.ft_clear_startpoints" title="pyspecdata.core.nddata.ft_clear_startpoints"><code class="xref py py-func docutils literal notranslate"><span class="pre">.ft_clear_startpoints()</span></code></a>
and uses
<a class="reference internal" href="#pyspecdata.core.nddata.set_ft_prop" title="pyspecdata.core.nddata.set_ft_prop"><code class="xref py py-func docutils literal notranslate"><span class="pre">.set_ft_prop()</span></code></a>
to override the “not aliased” flag.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>arg</strong> (<em>dict</em><em> (</em><em>key</em><em>,</em><em>value = str</em><em>,</em><em>double</em><em>)</em>) – A list of the dimensions that you want to place in register, and the values you want them registered to.</p></li>
<li><p><strong>nearest</strong> (<em>bool</em><em>, </em><em>optional</em>) – Passed through to ft_clear_startpoints</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.core.nddata.rename">
<span class="sig-name descname"><span class="pre">rename</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">previous</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">new</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.rename" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.core.nddata.reorder">
<span class="sig-name descname"><span class="pre">reorder</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">axes</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.reorder" title="Permalink to this definition">¶</a></dt>
<dd><p>Reorder the dimensions
the first arguments are a list of dimensions</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>*axes</strong> (<em>str</em>) – Accept any number of arguments that gives the dimensions, in the
order that you want thee.</p></li>
<li><p><strong>first</strong> (<em>bool</em>) – (default True)
Put this list of dimensions first, while False puts them last (where they then come in the order given).</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.core.nddata.replicate_units">
<span class="sig-name descname"><span class="pre">replicate_units</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">other</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.replicate_units" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.core.nddata.repwlabels">
<span class="sig-name descname"><span class="pre">repwlabels</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">axis</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.repwlabels" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.core.nddata.retaxis">
<span class="sig-name descname"><span class="pre">retaxis</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">axisname</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.retaxis" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.core.nddata.run">
<span class="sig-name descname"><span class="pre">run</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.run" title="Permalink to this definition">¶</a></dt>
<dd><p>run a standard numpy function on the nddata:</p>
<p><code class="docutils literal notranslate"><span class="pre">d.run(func,'axisname')</span></code> will run function <cite>func</cite> (<em>e.g.</em> a
lambda function) along axis named ‘axisname’</p>
<p><code class="docutils literal notranslate"><span class="pre">d.run(func)</span></code> will run function <cite>func</cite> on the data</p>
<p><strong>in general</strong>: if the result of func reduces a dimension size to
1, the ‘axisname’ dimension will be “popped” (it will not exist in
the result) – if this is not what you want, use <code class="docutils literal notranslate"><span class="pre">run_nopop</span></code></p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.core.nddata.run_avg">
<span class="sig-name descname"><span class="pre">run_avg</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">thisaxisname</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">decimation</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">20</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">centered</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.run_avg" title="Permalink to this definition">¶</a></dt>
<dd><p>a simple running average</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.core.nddata.run_nopop">
<span class="sig-name descname"><span class="pre">run_nopop</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">axis</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.run_nopop" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.core.nddata.runcopy">
<span class="sig-name descname"><span class="pre">runcopy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.runcopy" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.core.nddata.secsy_transform">
<span class="sig-name descname"><span class="pre">secsy_transform</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">direct_dim</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">indirect_dim</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">has_indirect</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'fourier'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">truncate</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.secsy_transform" title="Permalink to this definition">¶</a></dt>
<dd><p>Shift the time-domain data backwards by the echo time.</p>
<p>As opposed to <a class="reference internal" href="pyspecdata.axis_manipulation.html#pyspecdata.axis_manipulation.secsy_transform_manual" title="pyspecdata.axis_manipulation.secsy_transform_manual"><code class="xref py py-func docutils literal notranslate"><span class="pre">secsy_transform_manual</span></code></a>, this calls on on <code class="xref py py-func docutils literal notranslate"><span class="pre">skew</span></code>,
rather than directly manipulating the phase of the function, which can lead to aliasing.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>has_indirect</strong> (<em>bool</em>) – <p>(This option is largely specific to data loaded by <code class="xref py py-func docutils literal notranslate"><span class="pre">acert_hdf5</span></code>)</p>
<p>Does the data actually have an indirect dimension?
If not, assume that there is a constant echo time,
that can be retrieved with <code class="docutils literal notranslate"><span class="pre">.get_prop('te')</span></code>.</p>
</p></li>
<li><p><strong>truncate</strong> (<em>bool</em>) – If this is set, <cite>register_axis &lt;pyspecdata.axis_manipulation.register_axis&gt;</cite> to <span class="math notranslate nohighlight">\(t_{direct}=0\)</span>,
and then throw out the data for which <span class="math notranslate nohighlight">\(t_{direct}&lt;0\)</span>.</p></li>
<li><p><strong>method</strong> (<em>str</em>) – The shear method (linear or fourier).</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.core.nddata.secsy_transform_manual">
<span class="sig-name descname"><span class="pre">secsy_transform_manual</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">direct_dim</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">indirect_dim</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">has_indirect</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">truncate</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.secsy_transform_manual" title="Permalink to this definition">¶</a></dt>
<dd><p>Shift the time-domain data backwards by the echo time.
As opposed to <a class="reference internal" href="pyspecdata.axis_manipulation.html#pyspecdata.axis_manipulation.secsy_transform" title="pyspecdata.axis_manipulation.secsy_transform"><code class="xref py py-func docutils literal notranslate"><span class="pre">secsy_transform</span></code></a>, this directlly manipulates the phase of the function, rather than calling on <code class="xref py py-func docutils literal notranslate"><span class="pre">skew</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>has_indirect</strong> (<em>bool</em>) – <p>(This option is largely specific to data loaded by <code class="xref py py-func docutils literal notranslate"><span class="pre">acert_hdf5</span></code>)</p>
<p>Does the data actually have an indirect dimension?
If not, assume that there is a constant echo time,
that can be retrieved with <code class="docutils literal notranslate"><span class="pre">.get_prop('te')</span></code>.</p>
</p></li>
<li><p><strong>truncate</strong> (<em>bool</em>) – If this is set, <cite>register_axis &lt;pyspecdata.axis_manipulation.register_axis&gt;</cite> to <span class="math notranslate nohighlight">\(t_{direct}=0\)</span>,
and then throw out the data for which <span class="math notranslate nohighlight">\(t_{direct}&lt;0\)</span>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.core.nddata.set_error">
<span class="sig-name descname"><span class="pre">set_error</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.set_error" title="Permalink to this definition">¶</a></dt>
<dd><p>set the errors: either</p>
<p><cite>set_error(‘axisname’,error_for_axis)</cite> or <cite>set_error(error_for_data)</cite></p>
<p><cite>error_for_data</cite> can be a scalar, in which case, <strong>all</strong> the data errors are set to <cite>error_for_data</cite></p>
<div class="admonition-todo admonition" id="id17">
<p class="admonition-title">Todo</p>
<p>several options below – enumerate them in the documentation</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.core.nddata.set_ft_prop">
<span class="sig-name descname"><span class="pre">set_ft_prop</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">axis</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">propname</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.set_ft_prop" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the FT property given by <cite>propname</cite>.  For both setting and getting, <cite>None</cite> is equivalent to an unset value if <cite>propname</cite> is a boolean, and <cite>value</cite> is True (the default), it’s assumed that propname is actually None, and that <cite>value</cite> is set to the <cite>propname</cite> argument (this allows us to set the <cite>FT</cite> property more easily)</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.core.nddata.set_plot_color">
<span class="sig-name descname"><span class="pre">set_plot_color</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">thiscolor</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.set_plot_color" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.core.nddata.set_prop">
<span class="sig-name descname"><span class="pre">set_prop</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.set_prop" title="Permalink to this definition">¶</a></dt>
<dd><p>set a ‘property’ of the nddata
This is where you can put all unstructured information (e.g. experimental parameters, etc)</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.core.nddata.set_to">
<span class="sig-name descname"><span class="pre">set_to</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">otherinst</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.set_to" title="Permalink to this definition">¶</a></dt>
<dd><p>Set data inside the current instance to that of the other instance.</p>
<p>Goes through the list of attributes specified in copy,
and assigns them to the element of the current instance.</p>
<p>This is to be used:</p>
<ul class="simple">
<li><p>for constructing classes that inherit nddata with additional methods.</p></li>
<li><p>for overwriting the current data with the result of a slicing operation</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.core.nddata.set_units">
<span class="sig-name descname"><span class="pre">set_units</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.set_units" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.core.nddata.setaxis">
<span class="sig-name descname"><span class="pre">setaxis</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.setaxis" title="Permalink to this definition">¶</a></dt>
<dd><p>set or alter the value of the coordinate axis</p>
<p>Can be used in one of several ways:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">self.setaxis('axisname',</span> <span class="pre">values)</span></code>: just sets the values</p></li>
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">self.setaxis('axisname',</span> <span class="pre">'#')</span></code>: just</dt><dd><p>number the axis in numerically increasing order,
with integers,
(e.g. if you have smooshed it from a couple
other dimensions.)</p>
</dd>
</dl>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">self.fromaxis('axisname',inputfunc)</span></code>: take the existing function, apply inputfunc, and replace</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">self.fromaxis(inputsymbolic)</span></code>: Evaluate <cite>inputsymbolic</cite> and load the result into the axes, appropriately</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.core.nddata.shear">
<span class="sig-name descname"><span class="pre">shear</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">along_axis</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">propto_axis</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shear_amnt</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">zero_fill</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_in_conj</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'linear'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.shear" title="Permalink to this definition">¶</a></dt>
<dd><p>Shear the data <span class="math notranslate nohighlight">\(s\)</span>:</p>
<p><span class="math notranslate nohighlight">\(s(x',y,z) = s(x+ay,y,z)\)</span></p>
<p>where <span class="math notranslate nohighlight">\(x\)</span> is the <cite>altered_axis</cite> and <span class="math notranslate nohighlight">\(y\)</span> is the
<cite>propto_axis</cite>.  (Actually typically 2D, but <span class="math notranslate nohighlight">\(z\)</span> included
just to illustrate other dimensions that aren’t involved)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>method</strong> (<em>{'fourier'</em><em>,</em><em>'linear'}</em>) – <dl>
<dt>fourier</dt><dd><p>Use the Fourier shift theorem (<em>i.e.</em>, sinc interpolation).  A
shear is equivalent to the following in the conjugate domain:</p>
<p>..math: <cite>tilde{s}(f_x,f’_y,z) = tilde{s}(f_x,f_y-af_x,f_z)</cite></p>
<p>Because of this, the algorithm <strong>also</strong>
automatically <cite>extend`s the data in `f_y</cite> axis.
Equivalently, it increases the resolution
(decreases the interval between points) in the
<cite>propto_axis</cite> dimension.  This prevents aliasing
in the conjugate domain, which will corrupt the
data <em>w.r.t.</em> successive transformations. It does
this whether or not <cite>zero_fill</cite> is set
(<cite>zero_fill</cite> only controls filling in the
“current” dimension)</p>
</dd>
<dt>linear</dt><dd><p>Use simple linear interpolation.</p>
</dd>
</dl>
</p></li>
<li><p><strong>altered_axis</strong> (<em>str</em>) – The coordinate for which data is altered, <em>i.e.</em>
..math: <cite>x</cite> such that ..math: <cite>f(x+ay,y)</cite>.</p></li>
<li><p><strong>by_amount</strong> (<em>double</em>) – The amount of the shear (..math: <cite>a</cite> in the previous)</p></li>
<li><p><strong>propto_axis</strong> (<em>str</em>) – The shift along the <cite>altered_axis</cite> dimension is
proportional to the shift along <cite>propto_axis</cite>.
The position of data relative to the <cite>propto_axis</cite> is not
changed.
Note that by the shift theorem, in the frequency domain,
an equivalent magnitude, opposite sign, shear is applied
with the <cite>propto_axis</cite> and <cite>altered_axis</cite> dimensions
flipped.</p></li>
<li><p><strong>start_in_conj</strong> (<em>{False</em><em>, </em><em>True}</em><em>, </em><em>optional</em>) – <p>Defaults to False</p>
<p>For efficiency, one can replace a double (I)FT call followed by a
shear call with a single shear call where <cite>start_in_conj</cite> is set.</p>
<p><cite>self</cite> before the call is given in the conjugate domain  (<em>i.e.</em>,
<span class="math notranslate nohighlight">\(f\)</span> <em>vs.</em> <span class="math notranslate nohighlight">\(t\)</span>) along both dimensions from the one that’s
desired.  This means: (1) <cite>self</cite> after the function call transformed
into the conjugate domain from that before the call and (2)
<cite>by_amount</cite>, <cite>altered_axis</cite>, and <cite>propto_axis</cite> all refer to the shear
in the conjugate domain that the data is in at the end of the
function call.</p>
</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.core.nddata.smoosh">
<span class="sig-name descname"><span class="pre">smoosh</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dimstocollapse</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dimname</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">noaxis</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.smoosh" title="Permalink to this definition">¶</a></dt>
<dd><p>Collapse (smoosh) multiple dimensions into one dimension.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dimstocollapse</strong> (<em>list of strings</em>) – the dimensions you want to collapse to one result dimension</p></li>
<li><p><strong>dimname</strong> (<em>None</em><em>, </em><em>string</em><em>, </em><em>integer</em><em> (</em><em>default 0</em><em>)</em>) – <p>if dimname is:</p>
<ul>
<li><p>None: create a new (direct product) name,</p></li>
<li><p>a number: an index to the <code class="docutils literal notranslate"><span class="pre">dimstocollapse</span></code> list.  The resulting smooshed dimension will be named <code class="docutils literal notranslate"><span class="pre">dimstocollapse[dimname]</span></code>. Because the default is the number 0, the new dimname will be the first dimname given in the list.</p></li>
<li><p>a string: the name of the resulting smooshed dimension (can be part of the <code class="docutils literal notranslate"><span class="pre">dimstocollapse</span></code> list or not)</p></li>
</ul>
</p></li>
<li><p><strong>noaxis</strong> (<em>bool</em>) – if set, then just skip calculating the axis for the new dimension,
which otherwise is typically a complicated record array</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>self</strong> (<em>nddata</em>) – the dimensions <cite>dimstocollapse</cite> are smooshed into a single dimension,
whose name is determined by <cite>dimname</cite>.
The axis for the resulting, smooshed dimension is a structured
np.array consisting of two fields that give the labels along the
original axes.</p></li>
<li><p><em>..todo::</em> – when we transition to axes that are stored using a
slice/linspace-like format,
allow for smooshing to determine a new axes that is standard
(not a structured np.array) and that increases linearly.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.core.nddata.sort">
<span class="sig-name descname"><span class="pre">sort</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">axisname</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reverse</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.sort" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.core.nddata.sort_and_xy">
<span class="sig-name descname"><span class="pre">sort_and_xy</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.sort_and_xy" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.core.nddata.squeeze">
<span class="sig-name descname"><span class="pre">squeeze</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">return_dropped</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.squeeze" title="Permalink to this definition">¶</a></dt>
<dd><p>squeeze singleton dimensions</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>return_dropped</strong> (<em>bool</em><em> (</em><em>default False</em><em>)</em>) – return a list of the dimensions that were dropped as a second argument</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><em>self</em></p></li>
<li><p><strong>return_dropped</strong> (<em>list</em>) – (optional, only if return_dropped is True)</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.core.nddata.sum">
<span class="sig-name descname"><span class="pre">sum</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">axes</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.sum" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.core.nddata.sum_nopop">
<span class="sig-name descname"><span class="pre">sum_nopop</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">axes</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.sum_nopop" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.core.nddata.to_ppm">
<span class="sig-name descname"><span class="pre">to_ppm</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.to_ppm" title="Permalink to this definition">¶</a></dt>
<dd><p>Function that converts from Hz to ppm using Bruker parameters</p>
<div class="admonition-todo admonition" id="id18">
<p class="admonition-title">Todo</p>
<p>Figure out what the units of PHC1 in Topspin are (degrees per <em>what??</em>), and apply those as well.</p>
<p>make this part of an inherited bruker class</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.core.nddata.unitify_axis">
<span class="sig-name descname"><span class="pre">unitify_axis</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">axis_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">is_axis</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.unitify_axis" title="Permalink to this definition">¶</a></dt>
<dd><p>this just generates an axis label with appropriate units</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.core.nddata.units_texsafe">
<span class="sig-name descname"><span class="pre">units_texsafe</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.units_texsafe" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.core.nddata.unset_prop">
<span class="sig-name descname"><span class="pre">unset_prop</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">arg</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.unset_prop" title="Permalink to this definition">¶</a></dt>
<dd><p>remove a ‘property’</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pyspecdata.core.nddata.want_to_prospa_decim_correct">
<span class="sig-name descname"><span class="pre">want_to_prospa_decim_correct</span></span><em class="property"> <span class="pre">=</span> <span class="pre">False</span></em><a class="headerlink" href="#pyspecdata.core.nddata.want_to_prospa_decim_correct" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.core.nddata.waterfall">
<span class="sig-name descname"><span class="pre">waterfall</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">alpha</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.3</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rotation</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">color</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'b'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">edgecolor</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'k'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata.waterfall" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pyspecdata.core.nddata_hdf5">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">pyspecdata.core.</span></span><span class="sig-name descname"><span class="pre">nddata_hdf5</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pathstring</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">directory</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'.'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nddata_hdf5" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="../generated/pyspecdata.core.nddata.html#pyspecdata.core.nddata" title="pyspecdata.core.nddata"><code class="xref py py-class docutils literal notranslate"><span class="pre">pyspecdata.core.nddata</span></code></a></p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.core.ndgrid">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.core.</span></span><span class="sig-name descname"><span class="pre">ndgrid</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">input</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.ndgrid" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pyspecdata.core.ndshape">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">pyspecdata.core.</span></span><span class="sig-name descname"><span class="pre">ndshape</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.ndshape" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pyspecdata.ndshape.ndshape_base" title="pyspecdata.ndshape.ndshape_base"><code class="xref py py-class docutils literal notranslate"><span class="pre">pyspecdata.ndshape.ndshape_base</span></code></a></p>
<p>A class for describing the shape and dimension names of nddata objects.</p>
<p>A main goal of this class is to allow easy generation (allocation) of new
arrays – see <a class="reference internal" href="#pyspecdata.core.ndshape.alloc" title="pyspecdata.core.ndshape.alloc"><code class="xref py py-func docutils literal notranslate"><span class="pre">alloc()</span></code></a>.</p>
<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.core.ndshape.alloc">
<span class="sig-name descname"><span class="pre">alloc</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dtype</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'complex128'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">labels</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">format</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.ndshape.alloc" title="Permalink to this definition">¶</a></dt>
<dd><p>Use the shape object to allocate an empty nddata object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>labels</strong> – Needs documentation</p></li>
<li><p><strong>format</strong> (<em>0</em><em>, </em><em>1</em><em>, or </em><em>None</em>) – What goes in the allocated array.
<cite>None</cite> uses numpy empty.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Example</p>
<p>If you want to create new empty array that’s 10x3 with dimensions “x” and “y”:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ndshape</span><span class="p">([</span><span class="mi">10</span><span class="p">,</span><span class="mi">3</span><span class="p">],[</span><span class="s1">&#39;x&#39;</span><span class="p">,</span><span class="s1">&#39;y&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">alloc</span><span class="p">(</span><span class="nb">format</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
</pre></div>
</div>
<p>You can also do things like creating a new array based on the size of
an existing array (create a new array without dimension x, but with new
dimension z)</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">myshape</span> <span class="o">=</span> <span class="n">ndshape</span><span class="p">(</span><span class="n">mydata</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">myshape</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s1">&#39;x&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">myshape</span> <span class="o">+</span> <span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="s1">&#39;z&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">myshape</span><span class="o">.</span><span class="n">alloc</span><span class="p">(</span><span class="nb">format</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.core.newcol_rec">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.core.</span></span><span class="sig-name descname"><span class="pre">newcol_rec</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">A</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">new_dtypes</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.newcol_rec" title="Permalink to this definition">¶</a></dt>
<dd><p>add new, np.empty (i.e. random numbers) fields to A, as given by new_dtypes
–&gt; note that there are deeply nested numpy functions to do this, but the options are confusing, and I think the way these work is efficient</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.core.nextfigure">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.core.</span></span><span class="sig-name descname"><span class="pre">nextfigure</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">figurelist</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.nextfigure" title="Permalink to this definition">¶</a></dt>
<dd><p>obsolete – now use class</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.core.normal_attrs">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.core.</span></span><span class="sig-name descname"><span class="pre">normal_attrs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obj</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.normal_attrs" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.core.obs">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.core.</span></span><span class="sig-name descname"><span class="pre">obs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">x</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.obs" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.core.obsn">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.core.</span></span><span class="sig-name descname"><span class="pre">obsn</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">x</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.obsn" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.core.othergridandtick">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.core.</span></span><span class="sig-name descname"><span class="pre">othergridandtick</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ax</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rotation</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(0,</span> <span class="pre">0)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">precision</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(2,</span> <span class="pre">2)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">labelstring</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">('',</span> <span class="pre">'')</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gridcolor</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">array([0,</span> <span class="pre">0,</span> <span class="pre">0],</span> <span class="pre">dtype=int32)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spines</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.othergridandtick" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.core.pinvr">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.core.</span></span><span class="sig-name descname"><span class="pre">pinvr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">C</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">alpha</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.pinvr" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.core.plot">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.core.</span></span><span class="sig-name descname"><span class="pre">plot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.plot" title="Permalink to this definition">¶</a></dt>
<dd><p>The base plotting function that wraps around matplotlib to do a couple convenient things.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>label_format_string</strong> (<em>str</em>) – If supplied, it formats the values of the other dimension to turn them into a label string.</p></li>
<li><p><strong>human_units</strong> (<em>bool</em>) – </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.core.plot_color_counter">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.core.</span></span><span class="sig-name descname"><span class="pre">plot_color_counter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.plot_color_counter" title="Permalink to this definition">¶</a></dt>
<dd><p>Try not to use this function any more – the version-to-version support for capturing and setting color cycles in matplotlib is very very bad.  (And, the cycler object in newer versions of matplolib is confusing.) So, just import <cite>cycle</cite> from <cite>itertools</cite>, and use it to build a cycle that you directly call to set your properties.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>previous description:</p>
<p>if passed an argument: make it so that the next line will have the properties given by the argument</p>
<p>if not passed an argument: just return the current plot properties,so that I can cycle back to it</p>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.core.plot_label_points">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.core.</span></span><span class="sig-name descname"><span class="pre">plot_label_points</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">labels</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs_passed</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.plot_label_points" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.core.plot_updown">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.core.</span></span><span class="sig-name descname"><span class="pre">plot_updown</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">axis</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">color1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">color2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">symbol</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.plot_updown" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.core.reorder_rec">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.core.</span></span><span class="sig-name descname"><span class="pre">reorder_rec</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">myarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">listofnames</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">first</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.reorder_rec" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.core.sech">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.core.</span></span><span class="sig-name descname"><span class="pre">sech</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.sech" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.core.showtype">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.core.</span></span><span class="sig-name descname"><span class="pre">showtype</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.showtype" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.core.spectrogram">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.core.</span></span><span class="sig-name descname"><span class="pre">spectrogram</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">waveform</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">f_start</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">f_stop</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">npoints_fdom</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">40</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tdom_div</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.spectrogram" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.core.sqrt">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.core.</span></span><span class="sig-name descname"><span class="pre">sqrt</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">arg</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.sqrt" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pyspecdata.core.subplot_dim">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">pyspecdata.core.</span></span><span class="sig-name descname"><span class="pre">subplot_dim</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">firstdim</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">seconddim</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.subplot_dim" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.core.subplot_dim.set">
<span class="sig-name descname"><span class="pre">set</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">g</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">t</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">a</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.subplot_dim.set" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pyspecdata.core.testclass">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">pyspecdata.core.</span></span><span class="sig-name descname"><span class="pre">testclass</span></span><a class="headerlink" href="#pyspecdata.core.testclass" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.core.text_on_plot">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.core.</span></span><span class="sig-name descname"><span class="pre">text_on_plot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">thistext</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">coord</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'axes'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.text_on_plot" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.core.textlabel_bargraph">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.core.</span></span><span class="sig-name descname"><span class="pre">textlabel_bargraph</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mystructarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">othersort</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spacing</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tickfontsize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">8</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.textlabel_bargraph" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.core.unmake_ndarray">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.core.</span></span><span class="sig-name descname"><span class="pre">unmake_ndarray</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">array_to_conv</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name_forprint</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'unknown'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.unmake_ndarray" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert this item to an np.ndarray</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.core.whereblocks">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.core.</span></span><span class="sig-name descname"><span class="pre">whereblocks</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">a</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.core.whereblocks" title="Permalink to this definition">¶</a></dt>
<dd><p>returns contiguous chunks where the condition is true
but, see the “contiguous” method, which is more OO</p>
</dd></dl>

</section>
<section id="module-pyspecdata.datadir">
<span id="pyspecdata-datadir-module"></span><h2>pyspecdata.datadir module<a class="headerlink" href="#module-pyspecdata.datadir" title="Permalink to this headline">¶</a></h2>
<p>Allows the user to run the same code on different machines,
even though the location of the raw spectral data might change.</p>
<p>This is controlled by the <code class="docutils literal notranslate"><span class="pre">~/.pyspecdata</span></code> or <code class="docutils literal notranslate"><span class="pre">~/_pyspecdata</span></code> config file.</p>
<dl class="py class">
<dt class="sig sig-object py" id="pyspecdata.datadir.MyConfig">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">pyspecdata.datadir.</span></span><span class="sig-name descname"><span class="pre">MyConfig</span></span><a class="headerlink" href="#pyspecdata.datadir.MyConfig" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Provides an easy interface to the pyspecdata configuration file.
Only one instance pyspec_config should be created – this instance is used by
the other functions in this module.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="pyspecdata.datadir.MyConfig.config_vars">
<span class="sig-name descname"><span class="pre">config_vars</span></span><a class="headerlink" href="#pyspecdata.datadir.MyConfig.config_vars" title="Permalink to this definition">¶</a></dt>
<dd><p>The dictionary that stores the current settings – keep these in a dictionary, which should be faster than reading from environ, or from a file.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.datadir.MyConfig.get_setting">
<span class="sig-name descname"><span class="pre">get_setting</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">this_key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">environ</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">section</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'General'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.datadir.MyConfig.get_setting" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a settings from the “General” group.
If the file does not exist, or the option is not set, then set the option, creating the file as needed.
The option is determined in the following order:</p>
<blockquote>
<div><ul class="simple">
<li><p>The value in the <cite>config_vars</cite> dictionary.</p></li>
<li><p>The value of the environment variable named <cite>environ</cite>.</p></li>
<li><p>The value stored in the configuration file at <code class="docutils literal notranslate"><span class="pre">~/.pyspecdata</span></code> (<code class="docutils literal notranslate"><span class="pre">~/_pyspecdata</span></code> on Windows).</p></li>
<li><p>The value given by the <cite>default</cite> argument.  If <cite>default</cite> is <code class="docutils literal notranslate"><span class="pre">None</span></code>, then return <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p></li>
</ul>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>this_key</strong> (<em>str</em>) – The name of the settings that we want to retrieve.</p></li>
<li><p><strong>environ</strong> (<em>str</em>) – If the value corresponding to <cite>this_key</cite> is not present in the
<cite>self.config_vars</cite> dictionary, look for an environment variable
called <cite>environ</cite> that stores the value of <cite>this_key</cite>.  If this is
not set, it’s set from the config file or the default argument.</p></li>
<li><p><strong>default</strong> (<em>str</em>) – <p>If the value for <cite>this_key</cite> is not in
<cite>self.config_vars</cite>, not in the environment variable
called <cite>environ</cite>, and not in the config file, set it
to this value, and ask for user response to confirm.
Then, set the config file value, the environment, and the
<cite>self.config_vars</cite> value to the result.</p>
<p>For platform compatibility, leading period characters are converted
to <cite>self.hide_start</cite>, and ‘/’ are converted to <cite>os.path.sep</cite>.</p>
</p></li>
<li><p><strong>section</strong> (<em>str</em>) – Look in this section of the config file.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>The value corresponding to <cite>this_key</cite>.</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pyspecdata.datadir.MyConfig.hide_start">
<span class="sig-name descname"><span class="pre">hide_start</span></span><a class="headerlink" href="#pyspecdata.datadir.MyConfig.hide_start" title="Permalink to this definition">¶</a></dt>
<dd><p>This filename prefix denotes a configuration file on the OS.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.datadir.MyConfig.set_setting">
<span class="sig-name descname"><span class="pre">set_setting</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">this_section</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">this_key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">this_value</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.datadir.MyConfig.set_setting" title="Permalink to this definition">¶</a></dt>
<dd><p>set <cite>this_key</cite> to <cite>this_value</cite> inside section <cite>this_section</cite>, creating it if necessary</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pyspecdata.datadir.cached_searcher">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">pyspecdata.datadir.</span></span><span class="sig-name descname"><span class="pre">cached_searcher</span></span><a class="headerlink" href="#pyspecdata.datadir.cached_searcher" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.datadir.cached_searcher.grab_dirlist">
<span class="sig-name descname"><span class="pre">grab_dirlist</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.datadir.cached_searcher.grab_dirlist" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.datadir.cached_searcher.search_for">
<span class="sig-name descname"><span class="pre">search_for</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">exp_type</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.datadir.cached_searcher.search_for" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.datadir.dirformat">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.datadir.</span></span><span class="sig-name descname"><span class="pre">dirformat</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.datadir.dirformat" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.datadir.getDATADIR">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.datadir.</span></span><span class="sig-name descname"><span class="pre">getDATADIR</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.datadir.getDATADIR" title="Permalink to this definition">¶</a></dt>
<dd><p>Used to find a directory containing data in a way that works
seamlessly across different computers (and operating systems).
Supports the case where data is processed both on a laboratory
computer and (<em>e.g.</em> after transferring via ssh or a syncing client) on a
user’s laptop.
While it will return a default directory without any arguments, it is
typically used with the keyword argument <cite>exp_type</cite>, described below.</p>
<p>Note that <strong>the most common way</strong> to use this mechanism is to set up your directories using
the pyspecdata_register_dir shell command – see
<a class="reference internal" href="#pyspecdata.datadir.register_directory" title="pyspecdata.datadir.register_directory"><code class="xref py py-func docutils literal notranslate"><span class="pre">register_directory()</span></code></a>.</p>
<p>It returns the directory ending in a trailing (back)slash.</p>
<p>It is determined by a call to <cite>MyConfig.get_setting</cite> with the setting name
<cite>data_directory</cite> and the environment variable set to <code class="docutils literal notranslate"><span class="pre">PYTHON_DATA_DIR</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>exp_type</strong> (<em>str</em>) – <p>A string identifying the name of a subdirectory where the data is stored.
It can contain slashes.
Typically, this gives the path relative to a google drive, rclone,
dropbox, etc, repository.
To make code portable, <cite>exp_type</cite> should <strong>not</strong> contain a full path or
or portions of the path that are specific to the computer/user.</p>
<p>If the directory has note been used before, all the directories listed
in the user’s <cite>_pyspecdata</cite> or <cite>.pyspecdata</cite> config file will be
searched recursively up to 2 levels deep.</p>
<p>It searches for <cite>exp_type</cite> in this order:</p>
<ul class="simple">
<li><dl class="simple">
<dt>Look in the <code class="docutils literal notranslate"><span class="pre">ExpTypes</span></code> section of the config file.</dt><dd><ul>
<li><dl class="simple">
<dt>Note that by using this, you can store data in locations other</dt><dd><p>than your main data directory.
For example, consider the following section of the
<code class="docutils literal notranslate"><span class="pre">~/.pyspecdata</span></code> config file:
<code class="docutils literal notranslate"><span class="pre">`</span>
<span class="pre">[ExpTypes]</span>
<span class="pre">alternate_base</span> <span class="pre">=</span> <span class="pre">/opt/other_data</span>
<span class="pre">alternate_type_one</span> <span class="pre">=</span> <span class="pre">%(alternate_base)s/type_one</span>
<span class="pre">`</span></code>
which would find data with <cite>exp_type</cite> <code class="docutils literal notranslate"><span class="pre">alternate_type_one</span></code> in
<code class="docutils literal notranslate"><span class="pre">/opt/other_data/type_one</span></code>.</p>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>use <cite>os.walk</cite> to search for a directory with this name</dt><dd><p>inside the directory identified by <cite>experimental_data</cite>.
excluding things that start with ‘.’, ‘_’ or
containing ‘.hfssresults’, always choosing the
thing that’s highest up in the tree.
If it doesn’t find a directory inside <cite>experimental_data</cite>, it will
search inside all the directories already listed in <cite>ExpTypes</cite>.
Currently, in both attempts, it will only walk 2 levels deep (since NMR directories
can be rather complex, and otherwise it would take forever).</p>
</dd>
</dl>
</li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.datadir.get_notebook_dir">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.datadir.</span></span><span class="sig-name descname"><span class="pre">get_notebook_dir</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.datadir.get_notebook_dir" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the notebook directory.  If arguments are passed, it returns the directory underneath the notebook directory, ending in a trailing (back)slash</p>
<p>It is determined by a call to <cite>MyConfig.get_setting</cite> with the environment variable set to <code class="docutils literal notranslate"><span class="pre">PYTHON_NOTEBOOK_DIR</span></code> and default <code class="docutils literal notranslate"><span class="pre">~/notebook</span></code>.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.datadir.grab_data_directory">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.datadir.</span></span><span class="sig-name descname"><span class="pre">grab_data_directory</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.datadir.grab_data_directory" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.datadir.log_fname">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.datadir.</span></span><span class="sig-name descname"><span class="pre">log_fname</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">logname</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fname</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dirname</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exp_type</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.datadir.log_fname" title="Permalink to this definition">¶</a></dt>
<dd><p>logs the file name either used or missing into a csv file.</p>
<p>Also, by setting the <cite>err</cite> flag to True, you can generate an error message
that will guide you on how to selectively copy down this data from a remote source
(google drive, etc.), <em>e.g.</em>:</p>
<dl class="simple">
<dt><a href="#id19"><span class="problematic" id="id20">``</span></a>Traceback (most recent call last):</dt><dd><dl class="simple">
<dt>File “proc_square_refl.py”, line 21, in &lt;module&gt;</dt><dd><p>directory=getDATADIR(exp_type=’test_equip’))</p>
</dd>
<dt>File “c:usersjohnfnotebookpyspecdatapyspecdatacore.py”, line 6630, in __init__</dt><dd><p>check_only=True, directory=directory)</p>
</dd>
<dt>File “c:usersjohnfnotebookpyspecdatapyspecdatacore.py”, line 1041, in h5nodebypath</dt><dd><p>+errmsg)</p>
</dd>
</dl>
</dd>
</dl>
<p>AttributeError: You’re checking for a node in a file (200110_pulse_2.h5) that does not exist
I can’t find 200110_pulse_2.h5 in C:Usersjohnfexp_datatest_equip, so I’m going to search for t in your rclone remotes
checking remote g_syr:
You should be able to retrieve this file with:
rclone copy -v –include ‘200110_pulse_2.h5’ g_syr:exp_data/test_equip C:\Users\johnf\exp_data\test_equip``</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.datadir.proc_data_target_dir">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.datadir.</span></span><span class="sig-name descname"><span class="pre">proc_data_target_dir</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">exp_type</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.datadir.proc_data_target_dir" title="Permalink to this definition">¶</a></dt>
<dd><p>A convenience function for getting a data directory you’re going to write data to.</p>
<p>Provides the full path to the directory corresponding to exp_type.</p>
<p>If this is the first time you’re trying to write to that exp_type, it will create the directory</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.datadir.rclone_search">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.datadir.</span></span><span class="sig-name descname"><span class="pre">rclone_search</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fname</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exp_type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dirname</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.datadir.rclone_search" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.datadir.register_directory">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.datadir.</span></span><span class="sig-name descname"><span class="pre">register_directory</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.datadir.register_directory" title="Permalink to this definition">¶</a></dt>
<dd><p>The shell command <cite>pyspecdata_register_dir WHICHDIR</cite> will register the
directory WHICHDIR (substitute with the name of a directory on your
computer) so that it can be automatically discovered by
<a class="reference internal" href="#pyspecdata.find_file" title="pyspecdata.find_file"><code class="xref py py-func docutils literal notranslate"><span class="pre">find_file()</span></code></a> or
<a class="reference internal" href="#pyspecdata.search_filename" title="pyspecdata.search_filename"><code class="xref py py-func docutils literal notranslate"><span class="pre">search_filename()</span></code></a>
after executing this shell command
you can use the <cite>exp_type</cite> argument of those commands where you only give
the lowest level subdirectory (or the final couple subdirectories) that
contains your data.
If the <cite>exp_type</cite> that you are trying to access has a slash in it, you should register the top-most directory.
(For example, if you want <cite>UV_Vis/Liam</cite>, then register the directory that provides <cite>UV_Vis</cite>).</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>this feature was installed on 9/24/20: you need to re-run
<cite>setup.py</cite> in order to get this command to work for the first time if
you installed pyspecdata before that date.</p>
</div>
</dd></dl>

</section>
<section id="module-pyspecdata.figlist">
<span id="pyspecdata-figlist-module"></span><h2>pyspecdata.figlist module<a class="headerlink" href="#module-pyspecdata.figlist" title="Permalink to this headline">¶</a></h2>
<p>Contains the figure list class</p>
<p>The figure list gives us three things:</p>
<ul>
<li><p>Automatically handle the display and scaling of nddata units.</p></li>
<li><p>Refer to plots by name, rather than number (matplotlib has a mechanism for this, which we ignore)</p></li>
<li><p>A “basename” allowing us to generate multiple sets of plots for different datasets – <em>e.g.</em> 5 plots with 5 names plotted for 3 different datasets and labeled by 3 different basenames to give 15 plots total</p></li>
<li><p>Ability to run the same code from the command line or from within a python environment inside latex.
*   this is achieved by choosing figlist (default gui) and figlistl (inherits</p>
<blockquote>
<div><p>from figlist – renders to latex – the <a class="reference internal" href="#pyspecdata.figlist.figlist.show" title="pyspecdata.figlist.figlist.show"><code class="xref py py-func docutils literal notranslate"><span class="pre">figlist.show()</span></code></a> method is
changed)</p>
</div></blockquote>
<ul class="simple">
<li><p>potential planned future ability to handle html</p></li>
</ul>
</li>
<li><p>Ability to handle mayavi plots and matplotlib plots (switch to glumpy, etc.?)
*   potential planned future ability to handle gnuplot</p></li>
</ul>
<div class="admonition-todo admonition" id="id21">
<p class="admonition-title">Todo</p>
<p>Currently the “items” that the list tracks correspond to either plot formatting directives (see <a class="reference internal" href="#pyspecdata.figlist.figlist.setprops" title="pyspecdata.figlist.figlist.setprops"><code class="xref py py-func docutils literal notranslate"><span class="pre">figlist.setprops()</span></code></a>), text, or figures.</p>
<p>We should scrap most elements of the current implementation of figlist and rebuild it</p>
<ul>
<li><p>currently the figlist is set up to use a context block.  We will not only keep this, but also make it so the individual axes.  Syntax (following a <code class="docutils literal notranslate"><span class="pre">fl</span> <span class="pre">=</span> <span class="pre">figlist_var()</span></code> should look like this: <code class="docutils literal notranslate"><span class="pre">with</span> <span class="pre">fl['my</span> <span class="pre">plot</span> <span class="pre">name']</span> <span class="pre">as</span> <span class="pre">p:</span></code> and contents of the block would then be <code class="docutils literal notranslate"><span class="pre">p.plot(...)</span></code>, <em>etc.</em></p></li>
<li><p>define an “organization” function of the figlist block.  This allows us
to use standard matplotlib commands to set up and organize the axes, using
standard matplotlib commands (twinx, subplot, etc.)</p></li>
<li><p>figlist will still have a “next” function, but its purpose will be to simply:
*   grab the current axis using matplotlib gca() (assuming the id of the axis isn’t yet assigned to an existing figlist_axis – see below)
*   otherwise, if the name argument to “next” has not yet been called,</p>
<blockquote>
<div><p>call matplotlib’s figure(), followed by subplot(111), then do the
previous bullet point</p>
</div></blockquote>
<ul class="simple">
<li><p>the next function is only intended to be called explicitly from within the organization function</p></li>
</ul>
</li>
<li><p>figlist will consist simply of a list of figlist_axis objects (a new object type), which have the following attributes:
*   type – indicating the type of object:</p>
<blockquote>
<div><ul class="simple">
<li><p>axis (default)</p></li>
<li><p>text (raw latex (or html))</p></li>
<li><p>H1 (first level header – translates to latex section)</p></li>
<li><p>H2 (second level…)</p></li>
</ul>
</div></blockquote>
<ul>
<li><p>the name of the plot</p></li>
<li><p>a matplotlib or mayavi axes object</p></li>
<li><p>the units associated with the axes</p></li>
<li><p>a collection.OrderedDict giving the nddata that are associated with the plot, by name.
*   If these do not have a name, they will be automatically assigned a name.
*   The name should be used by the new “plot” method to generate</p>
<blockquote>
<div><p>the “label” for the legend, and can be subsequently used to quickly
replace data – e.g. in a Qt application.</p>
</div></blockquote>
</li>
<li><p>a dictionary giving any arguments to the pyspecdata.core.plot (or countour, waterfall, etc) function</p></li>
<li><p>the title – by default the name of the plot – can be a setter</p></li>
<li><p>the result of the id(…) function, called on the axes object –&gt;
this can be used to determine if the axes has been used yet</p></li>
<li><p>do not use check_units – the plot method (or contour, waterfall,
etc.) will only add the nddata objects to the OrderedDict, add the
arguments to the argument dictionary, then exit
*   In the event that more than one plot method is called, the name of the underlying nddaata should be changed</p></li>
<li><p>a boolean legend_suppress attribute</p></li>
<li><p>a boolean legend_internal attribute (to place the legend internally, rather than outside the axis)</p></li>
<li><p>a show method that is called by the figlistl show method.  This
will determine the appropriate units and use them to determine the
units and scale of the axes, and then go through and call
pyspecdata.core.plot on each dataset
(in matplotlib, this should be done with a formatting statement rather than by manipulating the axes themselves)
and finally call autolegend, unless the legend is supressed</p></li>
</ul>
</li>
<li><p>The “plottype” (currently an argument to the plot function) should be an attribute of the axis object</p></li>
</ul>
</div>
<dl class="py class">
<dt class="sig sig-object py" id="pyspecdata.figlist.figlist">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">pyspecdata.figlist.</span></span><span class="sig-name descname"><span class="pre">figlist</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">arg</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.figlist.figlist" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="pyspecdata.figlist.figlist.basename">
<span class="sig-name descname"><span class="pre">basename</span></span><a class="headerlink" href="#pyspecdata.figlist.figlist.basename" title="Permalink to this definition">¶</a></dt>
<dd><p>A basename that can be changed to generate different sets of figures with different basenames.
For example, this is useful if you are looping over different sets of data,
and generating the same set of figures for each set of data (which would correspond to a basename).</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pyspecdata.figlist.figlist.figurelist">
<span class="sig-name descname"><span class="pre">figurelist</span></span><a class="headerlink" href="#pyspecdata.figlist.figlist.figurelist" title="Permalink to this definition">¶</a></dt>
<dd><p>A list of the figure names</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pyspecdata.figlist.figlist.figdict">
<span class="sig-name descname"><span class="pre">figdict</span></span><a class="headerlink" href="#pyspecdata.figlist.figlist.figdict" title="Permalink to this definition">¶</a></dt>
<dd><p>A dictionary containing the figurelist and the figure numbers or objects that they correspond to.
Keys of this dictionary must be elements of <cite>figurelist</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pyspecdata.figlist.figlist.propdict">
<span class="sig-name descname"><span class="pre">propdict</span></span><a class="headerlink" href="#pyspecdata.figlist.figlist.propdict" title="Permalink to this definition">¶</a></dt>
<dd><p>Maintains various properties for each element in figurelist.
Keys of this dictionary must be elements of <cite>figurelist</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.figlist.figlist.adjust_spines">
<span class="sig-name descname"><span class="pre">adjust_spines</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">spines</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.figlist.figlist.adjust_spines" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.figlist.figlist.check_units">
<span class="sig-name descname"><span class="pre">check_units</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">testdata</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x_index</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_index</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.figlist.figlist.check_units" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.figlist.figlist.generate_ticks">
<span class="sig-name descname"><span class="pre">generate_ticks</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">plotdata</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">axes</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rescale</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">z_norm</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_rescale</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">text_scale</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.05</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">follow_surface</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lensoffset</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.005</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">line_width</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.001</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tube_radius</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.001</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fine_grid</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.figlist.figlist.generate_ticks" title="Permalink to this definition">¶</a></dt>
<dd><p>generate 3d ticks and grid for mayavi</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.figlist.figlist.get_fig_number">
<span class="sig-name descname"><span class="pre">get_fig_number</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.figlist.figlist.get_fig_number" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.figlist.figlist.get_num_figures">
<span class="sig-name descname"><span class="pre">get_num_figures</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.figlist.figlist.get_num_figures" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.figlist.figlist.grid">
<span class="sig-name descname"><span class="pre">grid</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.figlist.figlist.grid" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.figlist.figlist.header">
<span class="sig-name descname"><span class="pre">header</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">number_above</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">input_string</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.figlist.figlist.header" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.figlist.figlist.image">
<span class="sig-name descname"><span class="pre">image</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">A</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.figlist.figlist.image" title="Permalink to this definition">¶</a></dt>
<dd><p>Called as <cite>fl.image()</cite> where <cite>fl</cite> is the <cite>figlist_var</cite>
object</p>
<p>Note that this code just wraps the figlist properties, and
the heavy lifting is done by the <cite>image(</cite> function.
Together, the effect is as follows:</p>
<ul>
<li><p><cite>check_units</cite> converts to human-readable units, and
makes sure they match the units already used in the plot.</p></li>
<li><p>if <cite>A</cite> has more than two dimensions, the final dimension in
<cite>A.dimlabels</cite> is used as the column dimension, and a
direct-product of all non-column dimensions (a Kronecker
product, such that the innermost index comes the latest in
the list <cite>A.dimlabels</cite>) is used as the row dimension. A
white/black line is drawn after the innermost index used to
create the direct product is finished iterating.</p></li>
<li><p>If <cite>A</cite> consists of complex data, then an HSV plot
(misnomer, actually an HV plot) is used:
- convert to polar form: <span class="math notranslate nohighlight">\(z=\rho \exp(i \phi)\)</span>
- <span class="math notranslate nohighlight">\(\phi\)</span> determines the color (Hue)</p>
<blockquote>
<div><ul class="simple">
<li><p>Color wheel is cyclical, like <span class="math notranslate nohighlight">\(\exp(i \phi)\)</span></p></li>
<li><p>red is taken as <span class="math notranslate nohighlight">\(\phi=0\)</span>, purely real and positive</p></li>
<li><p>green-blue is <span class="math notranslate nohighlight">\(pi\)</span> radians out of phase with red and
therefore negative real</p></li>
</ul>
</div></blockquote>
<ul>
<li><p><span class="math notranslate nohighlight">\(\rho\)</span> determines the intensity (value)
- Depending on whether or not <cite>black</cite> is set (either as a</p>
<blockquote>
<div><p>keyword argument, or <cite>fl.black</cite>, the background will be
black with high <span class="math notranslate nohighlight">\(\rho\)</span> values “lit up” (intended for
screen plotting) or the background will be white with
the high <span class="math notranslate nohighlight">\(\rho\)</span> values “colored in” (intended for
printing)</p>
</div></blockquote>
</li>
</ul>
</li>
<li><p>If the data type (<cite>dtype</cite>) of the data in <cite>A</cite> is real
(typically achieved by calling <cite>abs(A)</cite> or
<cite>A.runcopy(real)</cite>), then <cite>A</cite> is plotted with a colormap and
corresponding colorbar.</p></li>
<li><p>If no title has been given, it’s set to the name of the
current plot in the figurelist</p></li>
</ul>
<dl class="py attribute">
<dt class="sig sig-object py" id="pyspecdata.figlist.figlist.A">
<span class="sig-name descname"><span class="pre">A</span></span><a class="headerlink" href="#pyspecdata.figlist.figlist.A" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference internal" href="../generated/pyspecdata.core.nddata.html#pyspecdata.core.nddata" title="pyspecdata.core.nddata">nddata</a> or numpy array</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pyspecdata.figlist.figlist.x">
<span class="sig-name descname"><span class="pre">x</span></span><a class="headerlink" href="#pyspecdata.figlist.figlist.x" title="Permalink to this definition">¶</a></dt>
<dd><p>If <cite>A</cite> is a numpy array, then this gives the values along
the x axis (columns).
Defaults to the size of the array.
Not used if <cite>A</cite> is <cite>nddata</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>Optional[double] or Optional[scalar]</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pyspecdata.figlist.figlist.y">
<span class="sig-name descname"><span class="pre">y</span></span><a class="headerlink" href="#pyspecdata.figlist.figlist.y" title="Permalink to this definition">¶</a></dt>
<dd><p>If <cite>A</cite> is a numpy array, then this gives the values along
the y axis (columns).
Defaults to the size of the array.
Not used if <cite>A</cite> is <cite>nddata</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>Optional[double] or Optional[scalar]</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pyspecdata.figlist.figlist.x_first">
<span class="sig-name descname"><span class="pre">x_first</span></span><a class="headerlink" href="#pyspecdata.figlist.figlist.x_first" title="Permalink to this definition">¶</a></dt>
<dd><p>Since it’s designed to represent matrices, an image plot
by defaults is “transposed” relative to all other plots.
If you want the first dimension on the x-axis (<em>e.g.</em>, if
you are plotting a contour plot on top of an image), then set
<cite>x_first</cite> to <cite>True</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>boolean</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pyspecdata.figlist.figlist.spacing">
<span class="sig-name descname"><span class="pre">spacing</span></span><a class="headerlink" href="#pyspecdata.figlist.figlist.spacing" title="Permalink to this definition">¶</a></dt>
<dd><p>Determines the size of the white/black line drawn
Defaults to 1</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>integer</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pyspecdata.figlist.figlist.ax">
<span class="sig-name descname"><span class="pre">ax</span></span><a class="headerlink" href="#pyspecdata.figlist.figlist.ax" title="Permalink to this definition">¶</a></dt>
<dd><p>the Axis object where the plot should go.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>matplotlib Axes</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">all</span> <span class="pre">remaning</span></span></dt>
<dd><p>are passed through to matplotlib <cite>imshow</cite></p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pyspecdata.figlist.figlist.origin">
<span class="sig-name descname"><span class="pre">origin</span></span><a class="headerlink" href="#pyspecdata.figlist.figlist.origin" title="Permalink to this definition">¶</a></dt>
<dd><p>upper and lower are passed to matplotlib.
Flip is for 2D nmr, and flips the data manually.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>{‘upper’, ‘lower’, ‘flip’}</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">..</span> <span class="pre">code-block::</span> <span class="pre">python</span></span></dt>
<dd><p>from pyspecdata import *
fl = figlist_var()</p>
<p>t = r_[-1:1:300j]
x = nddata(t,[-1],[‘x’]).labels(‘x’,t)
y = nddata(t,[-1],[‘y’]).labels(‘y’,t)</p>
<p>z = x**2 + 2*y**2
print “dimlabels of z:”,z.dimlabels</p>
<p>fl.next(‘image with contours’)
fl.image(z,x_first = True) #  x_first is needed to align
#                             with the contour plot
z.contour(colors = ‘w’,alpha = 0.75)</p>
<p>fl.next(‘simple plot’) #  just to show that x is the same
#                         here as well
fl.plot(z[‘y’:(0,0.01)])</p>
<p>fl.show(‘compare_image_contour_150911.pdf’)</p>
</dd></dl>

</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.figlist.figlist.label_point">
<span class="sig-name descname"><span class="pre">label_point</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">axis</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">thislabel</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_point</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xscale</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">new_kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.figlist.figlist.label_point" title="Permalink to this definition">¶</a></dt>
<dd><p>only works for 1D data: assume you’ve passed a single-point nddata, and label it</p>
<p>xscale gives the unit scaling</p>
<p>..todo:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Improve</span> <span class="n">the</span> <span class="n">unit</span> <span class="n">scaling</span><span class="p">,</span> <span class="n">so</span> <span class="n">that</span> <span class="n">this</span> <span class="n">would</span> <span class="n">also</span> <span class="n">work</span><span class="o">.</span>

<span class="n">Allow</span> <span class="n">it</span> <span class="n">to</span> <span class="n">include</span> <span class="n">a</span> <span class="nb">format</span> <span class="n">string</span> <span class="n">that</span> <span class="n">would</span> <span class="n">use</span> <span class="n">the</span> <span class="n">value</span><span class="o">.</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>show_point</strong> (<em>bool</em>) – Defaults to <cite>True</cite>. Actually generate a point (circle), <em>vs.</em>
just the label.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.figlist.figlist.marked_text">
<span class="sig-name descname"><span class="pre">marked_text</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">marker</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">input_text</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sep</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'\n'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.figlist.figlist.marked_text" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a named <cite>marker</cite> where we can place text.   If <cite>marker</cite>
has been used, goes back and places text there.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.figlist.figlist.mesh">
<span class="sig-name descname"><span class="pre">mesh</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">plotdata</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Z_normalization</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">equal_scale</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lensoffset</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.001</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_contours</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">grey_surf</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.figlist.figlist.mesh" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.figlist.figlist.next">
<span class="sig-name descname"><span class="pre">next</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">input_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">legend</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">boundaries</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">twinx</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fig</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.figlist.figlist.next" title="Permalink to this definition">¶</a></dt>
<dd><p>Switch to the figure given by input_name, which is used not only as
a string-based name for the figure, but also as a default title and as
a base name for resulting figure files.</p>
<p><strong>In the future, we actually want this to track the appropriate axis object!</strong></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>legend</strong> (<em>bool</em>) – If this is set, a legend is created <em>outside</em> the figure.</p></li>
<li><p><strong>twinx</strong> (<em>{0</em><em>,</em><em>1}</em>) – <dl class="field-list simple">
<dt class="field-odd">1</dt>
<dd class="field-odd"><p>plots on an overlayed axis (the matplotlib twinx) whose y axis
is labeled on the right when you set this for the first time, you
can also set a <cite>color</cite> kwarg that controls the coloring of the
right axis.</p>
</dd>
<dt class="field-even">0</dt>
<dd class="field-even"><p>used to switch back to the left (default) axis</p>
</dd>
</dl>
</p></li>
<li><p><strong>boundaries</strong> – <strong>need to add description</strong></p></li>
<li><p><strong>kwargs</strong> (<em>dict</em>) – Any other keyword arguments are passed to the matplotlib (mayavi)
figure() function that’s used to switch (create) figures.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.figlist.figlist.par_break">
<span class="sig-name descname"><span class="pre">par_break</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.figlist.figlist.par_break" title="Permalink to this definition">¶</a></dt>
<dd><p>This is for adding a paragraph break between
figures when generating latex
(or html?).  By design, it does nothing when
note in tex</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.figlist.figlist.phaseplot_finalize">
<span class="sig-name descname"><span class="pre">phaseplot_finalize</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.figlist.figlist.phaseplot_finalize" title="Permalink to this definition">¶</a></dt>
<dd><p>Performs plot decorations that are typically desired for a manual phasing plot.  This assumes that the <code class="docutils literal notranslate"><span class="pre">y</span></code>-axis is given in units of half-cycles ($pi$ radians).</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.figlist.figlist.plot">
<span class="sig-name descname"><span class="pre">plot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.figlist.figlist.plot" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>linestyle</strong> (<em>{':'</em><em>,</em><em>'--'</em><em>,</em><em>'.'</em><em>,</em><em>'etc.'}</em>) – the style of the line</p></li>
<li><p><strong>plottype</strong> (<em>{'semilogy'</em><em>,</em><em>'semilogx'</em><em>,</em><em>'loglog'}</em>) – Select a logarithmic plotting style.</p></li>
<li><p><strong>nosemilog</strong> (<em>True</em>) – Typically, if you supply a log-spaced axis,
a semilogx plot will be automatically selected.
This overrides that behavior.
Defaults to False.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.figlist.figlist.pop_marker">
<span class="sig-name descname"><span class="pre">pop_marker</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.figlist.figlist.pop_marker" title="Permalink to this definition">¶</a></dt>
<dd><p>use the plot on the top of the “stack” (see push_marker) as the current plot</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.figlist.figlist.push_marker">
<span class="sig-name descname"><span class="pre">push_marker</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.figlist.figlist.push_marker" title="Permalink to this definition">¶</a></dt>
<dd><p>save the current plot to a “stack” so we can return to it with “pop_marker”</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.figlist.figlist.setprops">
<span class="sig-name descname"><span class="pre">setprops</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.figlist.figlist.setprops" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.figlist.figlist.show">
<span class="sig-name descname"><span class="pre">show</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.figlist.figlist.show" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.figlist.figlist.show_prep">
<span class="sig-name descname"><span class="pre">show_prep</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.figlist.figlist.show_prep" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.figlist.figlist.text">
<span class="sig-name descname"><span class="pre">text</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mytext</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.figlist.figlist.text" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.figlist.figlist.twinx">
<span class="sig-name descname"><span class="pre">twinx</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">autopad</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">orig</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">color</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.figlist.figlist.twinx" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.figlist.figlist.use_autolegend">
<span class="sig-name descname"><span class="pre">use_autolegend</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.figlist.figlist.use_autolegend" title="Permalink to this definition">¶</a></dt>
<dd><p>No argument sets to true if it’s not already set</p>
</dd></dl>

</dd></dl>

</section>
<section id="module-pyspecdata.fl_dummy">
<span id="pyspecdata-fl-dummy-module"></span><h2>pyspecdata.fl_dummy module<a class="headerlink" href="#module-pyspecdata.fl_dummy" title="Permalink to this headline">¶</a></h2>
<p>provides object fl_dummy that can take the place of a figure list, but doesn’t do anything.</p>
<p><cite>fl=fl_dummy</cite> is a better default than <cite>fl=None</cite>, because it doesn’t require any conditionals</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="pyspecdata.fl_dummy.fl_dummy">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.fl_dummy.</span></span><span class="sig-name descname"><span class="pre">fl_dummy</span></span><a class="headerlink" href="#pyspecdata.fl_dummy.fl_dummy" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#pyspecdata.fl_dummy.fl_dummy_class" title="pyspecdata.fl_dummy.fl_dummy_class"><code class="xref py py-class docutils literal notranslate"><span class="pre">pyspecdata.fl_dummy.fl_dummy_class</span></code></a></p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pyspecdata.fl_dummy.fl_dummy_class">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">pyspecdata.fl_dummy.</span></span><span class="sig-name descname"><span class="pre">fl_dummy_class</span></span><a class="headerlink" href="#pyspecdata.fl_dummy.fl_dummy_class" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.fl_dummy.fl_dummy_class.next">
<span class="sig-name descname"><span class="pre">next</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fl_dummy.fl_dummy_class.next" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.fl_dummy.fl_dummy_class.plot">
<span class="sig-name descname"><span class="pre">plot</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fl_dummy.fl_dummy_class.plot" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.fl_dummy.fl_dummy_class.pop_marker">
<span class="sig-name descname"><span class="pre">pop_marker</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fl_dummy.fl_dummy_class.pop_marker" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.fl_dummy.fl_dummy_class.push_marker">
<span class="sig-name descname"><span class="pre">push_marker</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fl_dummy.fl_dummy_class.push_marker" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</section>
<section id="module-pyspecdata.fornotebook">
<span id="pyspecdata-fornotebook-module"></span><h2>pyspecdata.fornotebook module<a class="headerlink" href="#module-pyspecdata.fornotebook" title="Permalink to this headline">¶</a></h2>
<p>This provides <a class="reference internal" href="#pyspecdata.fornotebook.figlistl" title="pyspecdata.fornotebook.figlistl"><code class="xref py py-class docutils literal notranslate"><span class="pre">figlistl</span></code></a>, the Latex figure list.
Any other functions here are helper functions for the class.
<a class="reference internal" href="#pyspecdata.fornotebook.figlist" title="pyspecdata.fornotebook.figlist"><code class="xref py py-class docutils literal notranslate"><span class="pre">figlist</span></code></a> is generally <strong>not chosen manually</strong>,
but <code class="docutils literal notranslate"><span class="pre">figlist_var</span></code> will be assigned to <a class="reference internal" href="#pyspecdata.fornotebook.figlistl" title="pyspecdata.fornotebook.figlistl"><code class="xref py py-class docutils literal notranslate"><span class="pre">figlistl</span></code></a> when
python code is embedded in a python environment inside latex.</p>
<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.fornotebook.calcdistance">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.fornotebook.</span></span><span class="sig-name descname"><span class="pre">calcdistance</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">freq</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">optdistance</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fornotebook.calcdistance" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.fornotebook.calcfield">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.fornotebook.</span></span><span class="sig-name descname"><span class="pre">calcfield</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">elfreq</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">elratio</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">28.113</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nmrelratio</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.5167</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fornotebook.calcfield" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.fornotebook.calcfielddata">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.fornotebook.</span></span><span class="sig-name descname"><span class="pre">calcfielddata</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">freq</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">substance</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spec</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fornotebook.calcfielddata" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.fornotebook.clear_local">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.fornotebook.</span></span><span class="sig-name descname"><span class="pre">clear_local</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inputdata</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fornotebook.clear_local" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.fornotebook.cpmgs">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.fornotebook.</span></span><span class="sig-name descname"><span class="pre">cpmgs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">exp</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">number</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tau</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">alpha</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">alphaselect</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">first</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fornotebook.cpmgs" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.fornotebook.cpmgseries">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.fornotebook.</span></span><span class="sig-name descname"><span class="pre">cpmgseries</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plotlabel</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tau</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">alpha</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">alphaselect</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fornotebook.cpmgseries" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.fornotebook.dict_to_txt">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.fornotebook.</span></span><span class="sig-name descname"><span class="pre">dict_to_txt</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mydict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'data.txt'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fornotebook.dict_to_txt" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.fornotebook.dprint">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.fornotebook.</span></span><span class="sig-name descname"><span class="pre">dprint</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">stuff</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fornotebook.dprint" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.fornotebook.ernstangle">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.fornotebook.</span></span><span class="sig-name descname"><span class="pre">ernstangle</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pulsetime</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pulsetip</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Tr</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">T1</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fornotebook.ernstangle" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.fornotebook.esr_saturation">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.fornotebook.</span></span><span class="sig-name descname"><span class="pre">esr_saturation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">powerseries</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">smoothing</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">threshold</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.8</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">figname</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hn23adjustment</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_avg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fornotebook.esr_saturation" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pyspecdata.fornotebook.figlist">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.fornotebook.</span></span><span class="sig-name descname"><span class="pre">figlist</span></span><a class="headerlink" href="#pyspecdata.fornotebook.figlist" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#pyspecdata.fornotebook.figlistl" title="pyspecdata.fornotebook.figlistl"><code class="xref py py-class docutils literal notranslate"><span class="pre">pyspecdata.fornotebook.figlistl</span></code></a></p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.fornotebook.figlisterr">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.fornotebook.</span></span><span class="sig-name descname"><span class="pre">figlisterr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">figurelist</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fornotebook.figlisterr" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pyspecdata.fornotebook.figlistl">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">pyspecdata.fornotebook.</span></span><span class="sig-name descname"><span class="pre">figlistl</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fornotebook.figlistl" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pyspecdata.figlist.figlist" title="pyspecdata.figlist.figlist"><code class="xref py py-class docutils literal notranslate"><span class="pre">pyspecdata.figlist.figlist</span></code></a></p>
<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.fornotebook.figlistl.obs">
<span class="sig-name descname"><span class="pre">obs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fornotebook.figlistl.obs" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.fornotebook.figlistl.obsn">
<span class="sig-name descname"><span class="pre">obsn</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fornotebook.figlistl.obsn" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.fornotebook.figlistl.par_break">
<span class="sig-name descname"><span class="pre">par_break</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fornotebook.figlistl.par_break" title="Permalink to this definition">¶</a></dt>
<dd><p>This is for adding a paragraph break between
figures when generating latex
(or html?).  By design, it does nothing when
note in tex</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.fornotebook.figlistl.show">
<span class="sig-name descname"><span class="pre">show</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">string</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">line_spacing</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fornotebook.figlistl.show" title="Permalink to this definition">¶</a></dt>
<dd><p>latexify the series of figures, where “string” gives the base file name</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>line_spacing</strong> (<em>bool</em>) – if false, suppress empty lines between output</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.fornotebook.lplot">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.fornotebook.</span></span><span class="sig-name descname"><span class="pre">lplot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fname</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">width</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.33</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">figure</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dpi</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">72</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">grid</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">alsosave</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gensvg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">print_string</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">centered</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">equal_aspect</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">autopad</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bytextwidth</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">showbox</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">boundaries</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">genpng</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mlab</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fig</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fornotebook.lplot" title="Permalink to this definition">¶</a></dt>
<dd><p>used with python.sty instead of savefig</p>
<p>by default, if width is less than 1,
it’s interpreted as bytextwidth = True (i.e. width given as a fraction of the linewidth)
if it’s greater than, the width is interpreted in inches.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.fornotebook.lplotfigures">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.fornotebook.</span></span><span class="sig-name descname"><span class="pre">lplotfigures</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">figurelist</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">string</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fornotebook.lplotfigures" title="Permalink to this definition">¶</a></dt>
<dd><p>obsolete, use the class!</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.fornotebook.lrecordarray">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.fornotebook.</span></span><span class="sig-name descname"><span class="pre">lrecordarray</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">recordlist</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">columnformat</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">smoosh</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">multi</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">resizebox</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">showpipe</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_only</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">format</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'%0.3f'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">std_sf</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scientific_notation</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fornotebook.lrecordarray" title="Permalink to this definition">¶</a></dt>
<dd><p>generate latex representation of a structured array
if set to True, resizebox will automatically scale down the table so it fits on the page (but it will also scale up a small table to fit the width of the page)
resizebox can also be a fractional number, so that it is resized to a fraction of the page</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.fornotebook.lrecordarray_broken">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.fornotebook.</span></span><span class="sig-name descname"><span class="pre">lrecordarray_broken</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">recordlist</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rows</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">30</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">numwide</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">5</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fornotebook.lrecordarray_broken" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.fornotebook.obs">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.fornotebook.</span></span><span class="sig-name descname"><span class="pre">obs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">arg</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fornotebook.obs" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.fornotebook.obs_repr">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.fornotebook.</span></span><span class="sig-name descname"><span class="pre">obs_repr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">arg</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fornotebook.obs_repr" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.fornotebook.obsn">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.fornotebook.</span></span><span class="sig-name descname"><span class="pre">obsn</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">arg</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fornotebook.obsn" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.fornotebook.ordplot">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.fornotebook.</span></span><span class="sig-name descname"><span class="pre">ordplot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">labels</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">formatstring</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fornotebook.ordplot" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.fornotebook.qcalc">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.fornotebook.</span></span><span class="sig-name descname"><span class="pre">qcalc</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">freq1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">freq2</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fornotebook.qcalc" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.fornotebook.save_data">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.fornotebook.</span></span><span class="sig-name descname"><span class="pre">save_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inputdata</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'data.txt'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fornotebook.save_data" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.fornotebook.save_local">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.fornotebook.</span></span><span class="sig-name descname"><span class="pre">save_local</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inputdata</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fornotebook.save_local" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.fornotebook.save_variable">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.fornotebook.</span></span><span class="sig-name descname"><span class="pre">save_variable</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">variable</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">content</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">disp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'data.txt'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fornotebook.save_variable" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.fornotebook.see_if_math">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.fornotebook.</span></span><span class="sig-name descname"><span class="pre">see_if_math</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">recnames</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fornotebook.see_if_math" title="Permalink to this definition">¶</a></dt>
<dd><p>return latex formatted strings –&gt; ultimately, have this actually check to see if the individual strings are math or not, rather than just assuming that they are.  Do this simply by seeing whether or not the thing starts with a full word (more than two characters) or not.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.fornotebook.show_matrix">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.fornotebook.</span></span><span class="sig-name descname"><span class="pre">show_matrix</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">B</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plot_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">first_figure</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fornotebook.show_matrix" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.fornotebook.standard_noise_comparison">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.fornotebook.</span></span><span class="sig-name descname"><span class="pre">standard_noise_comparison</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'franck_cnsi/nmr/'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data_subdir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'reference_data'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">expnos</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[3]</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fornotebook.standard_noise_comparison" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.fornotebook.thisjobname">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.fornotebook.</span></span><span class="sig-name descname"><span class="pre">thisjobname</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fornotebook.thisjobname" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.fornotebook.txt_to_dict">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.fornotebook.</span></span><span class="sig-name descname"><span class="pre">txt_to_dict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'data.txt'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fornotebook.txt_to_dict" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</section>
<section id="module-pyspecdata.general_functions">
<span id="pyspecdata-general-functions-module"></span><h2>pyspecdata.general_functions module<a class="headerlink" href="#module-pyspecdata.general_functions" title="Permalink to this headline">¶</a></h2>
<p>These are general functions that need to be accessible to everything inside
pyspecdata.core.  I can’t just put these inside pyspecdata.core, because that
would lead to cyclic imports, and e.g. submodules of pyspecdata can’t find
them.</p>
<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.general_functions.autostringconvert">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.general_functions.</span></span><span class="sig-name descname"><span class="pre">autostringconvert</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">arg</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.general_functions.autostringconvert" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.general_functions.balance_clims">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.general_functions.</span></span><span class="sig-name descname"><span class="pre">balance_clims</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.general_functions.balance_clims" title="Permalink to this definition">¶</a></dt>
<dd><p>works with matplotlib to generate a plot
appropriate for positive and negative
from here:</p>
<blockquote>
<div><p><a class="reference external" href="https://stackoverflow.com/questions/13060450/how-to-get-current-plots-clim-in-matplotlib">https://stackoverflow.com/questions/13060450/how-to-get-current-plots-clim-in-matplotlib</a></p>
</div></blockquote>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.general_functions.check_ascending_axis">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.general_functions.</span></span><span class="sig-name descname"><span class="pre">check_ascending_axis</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">u</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tolerance</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1e-07</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">additional_message</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">allow_descending</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.general_functions.check_ascending_axis" title="Permalink to this definition">¶</a></dt>
<dd><p>Check that the array <cite>u</cite> is ascending and equally spaced, and return the
spacing, <cite>du</cite>.  This is a common check needed for FT functions, shears,
etc.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tolerance</strong> (<em>double</em>) – The relative variation in <cite>du</cite> that is allowed.
Defaults to 1e-7.</p></li>
<li><p><strong>additional_message</strong> (<em>str</em>) – So that the user can easily figure out where the assertion error is
coming from, supply some extra text for the respective message.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>du</strong> – the spacing between the elements of u</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>double</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.general_functions.complex_str">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.general_functions.</span></span><span class="sig-name descname"><span class="pre">complex_str</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">arg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fancy_format</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">format_code</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'%.4g'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.general_functions.complex_str" title="Permalink to this definition">¶</a></dt>
<dd><p>render a complex string – leaving out imaginary if it’s real</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.general_functions.copy_maybe_none">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.general_functions.</span></span><span class="sig-name descname"><span class="pre">copy_maybe_none</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">input</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.general_functions.copy_maybe_none" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.general_functions.explain_error">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.general_functions.</span></span><span class="sig-name descname"><span class="pre">explain_error</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">e</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.general_functions.explain_error" title="Permalink to this definition">¶</a></dt>
<dd><p>Allows you to wrap existing errors with more explanation</p>
<blockquote>
<div><p>For example:</p>
<p>&gt;    except BaseException  as e:
&gt;        raise IndexError(“I can’t find the node “+pathstring+explain_error(e))
&gt;                + ‘</p>
</div></blockquote>
<p>‘.join([’&gt;      ‘+j for j in str(e).split(’
‘)]))# this indents</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.general_functions.fname_makenice">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.general_functions.</span></span><span class="sig-name descname"><span class="pre">fname_makenice</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fname</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.general_functions.fname_makenice" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.general_functions.init_logging">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.general_functions.</span></span><span class="sig-name descname"><span class="pre">init_logging</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">level</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stdout_level</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">20</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'pyspecdata.%d.log'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fileno</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.general_functions.init_logging" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize a decent logging setup to log to <cite>~/pyspecdata.log</cite> (and <cite>~/pyspecdata.XX.log</cite> if that’s taken).</p>
<p>By default, everything above “debug” is logged to a
file, while everything above “info” is printed to
stdout.</p>
<p>Do NOT log if run from within a notebook (it’s fair to
assume that you will run first before embedding)</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.general_functions.inside_sphinx">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.general_functions.</span></span><span class="sig-name descname"><span class="pre">inside_sphinx</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.general_functions.inside_sphinx" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.general_functions.level_str_to_int">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.general_functions.</span></span><span class="sig-name descname"><span class="pre">level_str_to_int</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">level</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.general_functions.level_str_to_int" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.general_functions.lsafe">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.general_functions.</span></span><span class="sig-name descname"><span class="pre">lsafe</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">string</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.general_functions.lsafe" title="Permalink to this definition">¶</a></dt>
<dd><p>Output properly escaped for latex</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.general_functions.lsafen">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.general_functions.</span></span><span class="sig-name descname"><span class="pre">lsafen</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">string</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.general_functions.lsafen" title="Permalink to this definition">¶</a></dt>
<dd><p>see lsafe, but with an added double newline</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.general_functions.process_kwargs">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.general_functions.</span></span><span class="sig-name descname"><span class="pre">process_kwargs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">listoftuples</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kwargs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pass_through</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">as_attr</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.general_functions.process_kwargs" title="Permalink to this definition">¶</a></dt>
<dd><p>This function allows dynamically processed (<em>i.e.</em> function definitions with <cite>**kwargs</cite>) kwargs (keyword arguments) to be dealt with in a fashion more like standard kwargs.
The defaults set in <cite>listoftuples</cite> are used to process <cite>kwargs</cite>, which are then returned as a set of values (that are set to defaults as needed).</p>
<p>Note that having <cite>kwargs</cite> as an explicit argument avoids errors where the user forgets to pass the <cite>kwargs</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>kwargs</strong> (<a href="#id22"><span class="problematic" id="id23">**</span></a>dictionary) – The keyword arguments that you want to process.</p></li>
<li><p><strong>listoftuples</strong> (<em>list of tuple pairs</em>) – Tuple pairs, consisting of <code class="docutils literal notranslate"><span class="pre">('param_name',param_value)</span></code>, that give the default values for the various parameters.</p></li>
<li><p><strong>pass_through</strong> (<em>bool</em>) – Defaults to False.  If it’s true, then it’s OK not to process all the kwargs here.
In that case, the used kwargs are popped out of the dictionary, and you are expected to pass the unprocessed values (in the dictionary after the call) on to subsequent processing.
Importantly, you should <em>always</em> end with a <cite>pass_through`=`False</cite> call of this function, or by passing <a href="#id24"><span class="problematic" id="id25">**</span></a>kwargs to a standard function in the standard way.
Otherwise it’s possible for the user to pass kwargs that are never processed!</p></li>
<li><p><strong>as_attr</strong> (<em>bool</em><em>, </em><em>object</em>) – Defaults to False. If not False, it must be an object whose attributes are set to the value of the respective kwargs.</p></li>
<li><p><strong>return</strong> (<em>tuple</em>) – It’s expected that the output is assigned to variables with the <strong>exact same</strong> names as the string in the first half of the tuples, in the <strong>exact same</strong> order.
These parameters will then be set to the appropriate values.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.general_functions.redim_C_to_F">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.general_functions.</span></span><span class="sig-name descname"><span class="pre">redim_C_to_F</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">a</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.general_functions.redim_C_to_F" title="Permalink to this definition">¶</a></dt>
<dd><p>see redim_F_to_C</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.general_functions.redim_F_to_C">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.general_functions.</span></span><span class="sig-name descname"><span class="pre">redim_F_to_C</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">a</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.general_functions.redim_F_to_C" title="Permalink to this definition">¶</a></dt>
<dd><p>the following creates a C array, reversing the <em>apparent</em> order of dimensions, while preserving the order in memory</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.general_functions.reformat_exp">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.general_functions.</span></span><span class="sig-name descname"><span class="pre">reformat_exp</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">arg</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.general_functions.reformat_exp" title="Permalink to this definition">¶</a></dt>
<dd><p>reformat scientific notation in a nice latex format – used in both pdf and jupyter notebooks</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.general_functions.render_matrix">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.general_functions.</span></span><span class="sig-name descname"><span class="pre">render_matrix</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">arg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">format_code</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'%.4g'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.general_functions.render_matrix" title="Permalink to this definition">¶</a></dt>
<dd><p>return latex string representing 2D matrix</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.general_functions.strm">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.general_functions.</span></span><span class="sig-name descname"><span class="pre">strm</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.general_functions.strm" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</section>
<section id="module-pyspecdata.generate_fake_data">
<span id="pyspecdata-generate-fake-data-module"></span><h2>pyspecdata.generate_fake_data module<a class="headerlink" href="#module-pyspecdata.generate_fake_data" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.generate_fake_data.fake_data">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.generate_fake_data.</span></span><span class="sig-name descname"><span class="pre">fake_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">expression,</span> <span class="pre">axis_coords,</span> <span class="pre">signal_pathway,</span> <span class="pre">direct='t2',</span> <span class="pre">SD_sigma=[0.05,</span> <span class="pre">0.003],</span> <span class="pre">SD_amp=[1,</span> <span class="pre">5],</span> <span class="pre">scale=100,</span> <span class="pre">fake_data_noise_std=1.0,</span> <span class="pre">fl=&lt;class</span> <span class="pre">'pyspecdata.fl_dummy.fl_dummy_class'&gt;</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.generate_fake_data.fake_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate fake data subject to noise and frequency variation.</p>
<p>This includes a variation of the resonance frequency.  The user can adjust the scale and the timescale of the frequency variation, which is modeled by way of spectral density function that describes the random fluctuation of the resonance frequency.  (To avoid confusion, note that this spectral density function does NOT control the noise voltage, which is given by a standard normal distribution of constant variation.)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>expression</strong> (<em>sympy expression</em>) – Gives the functional form of the data.</p></li>
<li><p><strong>axis_coords</strong> (<em>OrderedDict</em>) – <p>Gives nddata objects providing all the axis coordinates.
<strong>Very importantly</strong>, these must be listed in the loop nesting order
(outside in) in which they occur in the pulse program,
or the frequency drift will not be modeled correctly.</p>
<p>To enable <em>simulating echo-like data</em>, you can specify a direct axis
that starts at a negative number.
If you do this, the beginning of the axis will be re-set to 0 before returning.</p>
</p></li>
<li><p><strong>SD_sigma</strong> (<em>list of floats</em>) – <p>Gives the Gaussian σ for the spectral density of the
time-dependent variation of the resonance frequency.
Typically, there are more than one gaussian terms used to
create the spectral density.</p>
<p>A small σ gives rise to slow fluctuations while a large σ
gives rise to fast fluctuations.
The units of σ are in cycles per scan.</p>
</p></li>
<li><p><strong>SD_amp</strong> (<em>list of floats</em>) – Amplitudes associated with SD_sigma terms – must be the
same length.</p></li>
<li><p><strong>signal_pathway</strong> (<em>dict</em>) – Gives the signal pathway, with keys being phase cycling dimensions, and
values being the corresponding Δp.</p></li>
<li><p><strong>scale</strong> (<em>float</em><em> (</em><em>default 100</em><em>)</em>) – amplitude of frequency variation</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.generate_fake_data.normal">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.generate_fake_data.</span></span><span class="sig-name descname"><span class="pre">normal</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">loc</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scale</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.generate_fake_data.normal" title="Permalink to this definition">¶</a></dt>
<dd><p>Draw random samples from a normal (Gaussian) distribution.</p>
<p>The probability density function of the normal distribution, first
derived by De Moivre and 200 years later by both Gauss and Laplace
independently <a href="#id83"><span class="problematic" id="id26">[2]_</span></a>, is often called the bell curve because of
its characteristic shape (see the example below).</p>
<p>The normal distributions occurs often in nature.  For example, it
describes the commonly occurring distribution of samples influenced
by a large number of tiny, random disturbances, each with its own
unique distribution <a href="#id84"><span class="problematic" id="id27">[2]_</span></a>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>New code should use the <code class="docutils literal notranslate"><span class="pre">normal</span></code> method of a <code class="docutils literal notranslate"><span class="pre">default_rng()</span></code>
instance instead; please see the <span class="xref std std-ref">random-quick-start</span>.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>loc</strong> (<em>float</em><em> or </em><em>array_like of floats</em>) – Mean (“centre”) of the distribution.</p></li>
<li><p><strong>scale</strong> (<em>float</em><em> or </em><em>array_like of floats</em>) – Standard deviation (spread or “width”) of the distribution. Must be
non-negative.</p></li>
<li><p><strong>size</strong> (<em>int</em><em> or </em><em>tuple of ints</em><em>, </em><em>optional</em>) – Output shape.  If the given shape is, e.g., <code class="docutils literal notranslate"><span class="pre">(m,</span> <span class="pre">n,</span> <span class="pre">k)</span></code>, then
<code class="docutils literal notranslate"><span class="pre">m</span> <span class="pre">*</span> <span class="pre">n</span> <span class="pre">*</span> <span class="pre">k</span></code> samples are drawn.  If size is <code class="docutils literal notranslate"><span class="pre">None</span></code> (default),
a single value is returned if <code class="docutils literal notranslate"><span class="pre">loc</span></code> and <code class="docutils literal notranslate"><span class="pre">scale</span></code> are both scalars.
Otherwise, <code class="docutils literal notranslate"><span class="pre">np.broadcast(loc,</span> <span class="pre">scale).size</span></code> samples are drawn.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>out</strong> – Drawn samples from the parameterized normal distribution.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>ndarray or scalar</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><code class="xref py py-obj docutils literal notranslate"><span class="pre">scipy.stats.norm</span></code></dt><dd><p>probability density function, distribution or cumulative density function, etc.</p>
</dd>
<dt><code class="xref py py-obj docutils literal notranslate"><span class="pre">Generator.normal</span></code></dt><dd><p>which should be used for new code.</p>
</dd>
</dl>
</div>
<p class="rubric">Notes</p>
<p>The probability density for the Gaussian distribution is</p>
<div class="math notranslate nohighlight">
\[p(x) = \frac{1}{\sqrt{ 2 \pi \sigma^2 }}
e^{ - \frac{ (x - \mu)^2 } {2 \sigma^2} },\]</div>
<p>where <span class="math notranslate nohighlight">\(\mu\)</span> is the mean and <span class="math notranslate nohighlight">\(\sigma\)</span> the standard
deviation. The square of the standard deviation, <span class="math notranslate nohighlight">\(\sigma^2\)</span>,
is called the variance.</p>
<p>The function has its peak at the mean, and its “spread” increases with
the standard deviation (the function reaches 0.607 times its maximum at
<span class="math notranslate nohighlight">\(x + \sigma\)</span> and <span class="math notranslate nohighlight">\(x - \sigma\)</span> <a href="#id85"><span class="problematic" id="id28">[2]_</span></a>).  This implies that
normal is more likely to return samples lying close to the mean, rather
than those far away.</p>
<p class="rubric">References</p>
<dl class="footnote brackets">
<dt class="label" id="id29"><span class="brackets">1</span></dt>
<dd><p>Wikipedia, “Normal distribution”,
<a class="reference external" href="https://en.wikipedia.org/wiki/Normal_distribution">https://en.wikipedia.org/wiki/Normal_distribution</a></p>
</dd>
<dt class="label" id="id30"><span class="brackets">2</span></dt>
<dd><p>P. R. Peebles Jr., “Central Limit Theorem” in “Probability,
Random Variables and Random Signal Principles”, 4th ed., 2001,
pp. 51, 51, 125.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>Draw samples from the distribution:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">mu</span><span class="p">,</span> <span class="n">sigma</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="mf">0.1</span> <span class="c1"># mean and standard deviation</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="n">mu</span><span class="p">,</span> <span class="n">sigma</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>
</pre></div>
</div>
<p>Verify the mean and the variance:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">abs</span><span class="p">(</span><span class="n">mu</span> <span class="o">-</span> <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">s</span><span class="p">))</span>
<span class="go">0.0  # may vary</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">abs</span><span class="p">(</span><span class="n">sigma</span> <span class="o">-</span> <span class="n">np</span><span class="o">.</span><span class="n">std</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">ddof</span><span class="o">=</span><span class="mi">1</span><span class="p">))</span>
<span class="go">0.1  # may vary</span>
</pre></div>
</div>
<p>Display the histogram of the samples, along with
the probability density function:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">count</span><span class="p">,</span> <span class="n">bins</span><span class="p">,</span> <span class="n">ignored</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="n">density</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">bins</span><span class="p">,</span> <span class="mi">1</span><span class="o">/</span><span class="p">(</span><span class="n">sigma</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">2</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="p">))</span> <span class="o">*</span>
<span class="gp">... </span>               <span class="n">np</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span> <span class="o">-</span> <span class="p">(</span><span class="n">bins</span> <span class="o">-</span> <span class="n">mu</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span> <span class="o">/</span> <span class="p">(</span><span class="mi">2</span> <span class="o">*</span> <span class="n">sigma</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span> <span class="p">),</span>
<span class="gp">... </span>         <span class="n">linewidth</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;r&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<p>Two-by-four array of samples from N(3, 6.25):</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mf">2.5</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span>
<span class="go">array([[-4.49401501,  4.00950034, -1.81814867,  7.29718677],   # random</span>
<span class="go">       [ 0.39924804,  4.68456316,  4.99394529,  4.84057254]])  # random</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="module-pyspecdata.ipy">
<span id="pyspecdata-ipy-module"></span><h2>pyspecdata.ipy module<a class="headerlink" href="#module-pyspecdata.ipy" title="Permalink to this headline">¶</a></h2>
<p>Provides the jupyter extension:</p>
<blockquote>
<div><p>%load_ext pyspecdata.ipy</p>
</div></blockquote>
<p>That allows for fancy representation nddata instances – <em>i.e.</em> you can type the name of
an instance and hit shift-Enter, and a plot will appear rather than some text
representation.</p>
<p>Also overrides plain text representation
of numpy arrays with latex representation that we build ourselves
or pull from sympy.</p>
<p>Also known as “generalized jupyter awesomeness” in only ~150 lines of code!</p>
<p>See [O’Reilly Book](<a class="reference external" href="https://www.safaribooksonline.com/blog/2014/02/11/altering-display-existing-classes-ipython/">https://www.safaribooksonline.com/blog/2014/02/11/altering-display-existing-classes-ipython/</a>)
for minimal guidance if you’re interested.</p>
<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.ipy.load_ipython_extension">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.ipy.</span></span><span class="sig-name descname"><span class="pre">load_ipython_extension</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ip</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.ipy.load_ipython_extension" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.ipy.unload_ipython_extension">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.ipy.</span></span><span class="sig-name descname"><span class="pre">unload_ipython_extension</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ip</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.ipy.unload_ipython_extension" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</section>
<section id="module-pyspecdata.latexscripts">
<span id="pyspecdata-latexscripts-module"></span><h2>pyspecdata.latexscripts module<a class="headerlink" href="#module-pyspecdata.latexscripts" title="Permalink to this headline">¶</a></h2>
<p>Provides the <code class="docutils literal notranslate"><span class="pre">pdflatex_notebook_wrapper</span></code> shell/dos command, which you run
instead of your normal Latex command to build a lab notebook.
The results of python environments are <strong>cached</strong> and <strong>only re-run if the code changes</strong>,
even if the python environments are moved around.
This makes the compilation of a Latex lab notebook extremely efficient.</p>
<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.latexscripts.cache_output_if_needed">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.latexscripts.</span></span><span class="sig-name descname"><span class="pre">cache_output_if_needed</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">scriptnum_as_str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hashstring</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">showcode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_error</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.latexscripts.cache_output_if_needed" title="Permalink to this definition">¶</a></dt>
<dd><p>if needed, run the python script numbered by scriptnum_as_str that hashes to hashstring, and output the result to the cache ONLY</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.latexscripts.cached_filename">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.latexscripts.</span></span><span class="sig-name descname"><span class="pre">cached_filename</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">hashstring</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">returndir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.latexscripts.cached_filename" title="Permalink to this definition">¶</a></dt>
<dd><p>this sets the format for where the cached file is stored
we use the first two characters as directory names (so there are just 16 of them</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.latexscripts.check_image_path">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.latexscripts.</span></span><span class="sig-name descname"><span class="pre">check_image_path</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.latexscripts.check_image_path" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.latexscripts.det_new_pdf_name">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.latexscripts.</span></span><span class="sig-name descname"><span class="pre">det_new_pdf_name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">thisargv</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.latexscripts.det_new_pdf_name" title="Permalink to this definition">¶</a></dt>
<dd><p>based on an original tex or pdf name, determine the original basename (i.e., no extension), as well as one with the final word after the underscore removed</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.latexscripts.flush_script">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.latexscripts.</span></span><span class="sig-name descname"><span class="pre">flush_script</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">number</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.latexscripts.flush_script" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.latexscripts.genconfig">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.latexscripts.</span></span><span class="sig-name descname"><span class="pre">genconfig</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.latexscripts.genconfig" title="Permalink to this definition">¶</a></dt>
<dd><p>creates a template configuration directory</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.latexscripts.get_scripts_dir">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.latexscripts.</span></span><span class="sig-name descname"><span class="pre">get_scripts_dir</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.latexscripts.get_scripts_dir" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.latexscripts.grab_script_string">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.latexscripts.</span></span><span class="sig-name descname"><span class="pre">grab_script_string</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">scriptnum_as_str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.latexscripts.grab_script_string" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.latexscripts.main">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.latexscripts.</span></span><span class="sig-name descname"><span class="pre">main</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.latexscripts.main" title="Permalink to this definition">¶</a></dt>
<dd><p>This looks for <cite>scripts/scriptsUsed.csv</cite> inside the notebook directory, and checks whether or not it should be run
if a command line argument of “flush” is passed, it flushes that script number from the cache</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.latexscripts.script_filename">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.latexscripts.</span></span><span class="sig-name descname"><span class="pre">script_filename</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">scriptnum_as_str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.latexscripts.script_filename" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.latexscripts.sha_string">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.latexscripts.</span></span><span class="sig-name descname"><span class="pre">sha_string</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">script</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.latexscripts.sha_string" title="Permalink to this definition">¶</a></dt>
<dd><p>convert the sha hash to a string</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.latexscripts.wraplatex">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.latexscripts.</span></span><span class="sig-name descname"><span class="pre">wraplatex</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.latexscripts.wraplatex" title="Permalink to this definition">¶</a></dt>
<dd><p>runs the python scripts after running latex also creates a copy of latex without the final portion under the underscore
This prevents the viewer from hanging while it’s waiting for a refresh.
This can be used in combination with wrapviewer() and latexmk by using a <code class="docutils literal notranslate"><span class="pre">~/.latexmkrc</span></code> file that looks like this:</p>
<p>If you pass the <code class="docutils literal notranslate"><span class="pre">--xelatex</span></code> argument, xelatex is used instead of pdflatex
(note that if you’re using latexmk, you need to add this in the latexmkrc file).</p>
<div class="highlight-perl notranslate"><div class="highlight"><pre><span></span><span class="nv">$pdflatex</span><span class="o">=</span><span class="sx">q/pdflatex_notebook_wrapper %O -synctex=1 %S/</span><span class="p">;</span><span class="c1"># calls this function</span>
<span class="nv">$pdf_previewer</span><span class="o">=</span><span class="sx">q/pdflatex_notebook_view_wrapper/</span><span class="p">;</span><span class="c1"># calls the wrapviewer function</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.latexscripts.wrapviewer">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.latexscripts.</span></span><span class="sig-name descname"><span class="pre">wrapviewer</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.latexscripts.wrapviewer" title="Permalink to this definition">¶</a></dt>
<dd><p>see <a class="reference internal" href="#pyspecdata.latexscripts.wraplatex" title="pyspecdata.latexscripts.wraplatex"><code class="xref py py-func docutils literal notranslate"><span class="pre">wraplatex</span></code></a></p>
</dd></dl>

</section>
<section id="module-pyspecdata.lmfitdata">
<span id="pyspecdata-lmfitdata-module"></span><h2>pyspecdata.lmfitdata module<a class="headerlink" href="#module-pyspecdata.lmfitdata" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="pyspecdata.lmfitdata.lmfitdata">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">pyspecdata.lmfitdata.</span></span><span class="sig-name descname"><span class="pre">lmfitdata</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.lmfitdata.lmfitdata" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="../generated/pyspecdata.core.nddata.html#pyspecdata.core.nddata" title="pyspecdata.core.nddata"><code class="xref py py-class docutils literal notranslate"><span class="pre">pyspecdata.core.nddata</span></code></a></p>
<p>Inherits from an nddata and enables curve fitting through use of a sympy expression.</p>
<p>The user creates a lmfitdata class object from an existing nddata
class object, and on this lmfitdata object can define the
<a class="reference internal" href="#pyspecdata.lmfitdata.functional_form" title="pyspecdata.lmfitdata.functional_form"><code class="xref py py-func docutils literal notranslate"><span class="pre">functional_form()</span></code></a> of the curve it would like to fit to the
data of the original nddata.
This functional form must be provided as a sympy expression, with
one of its variables matching the name of the dimension that the
user would like to fit to.</p>
<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.lmfitdata.lmfitdata.add_inactive_p">
<span class="sig-name descname"><span class="pre">add_inactive_p</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">p</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.lmfitdata.lmfitdata.add_inactive_p" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.lmfitdata.lmfitdata.copy">
<span class="sig-name descname"><span class="pre">copy</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.lmfitdata.lmfitdata.copy" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a full copy of this instance.</p>
<p>Because methods typically change the data in place, you might want to
use this frequently.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>data</strong> (<em>boolean</em>) – <p>Default to True.
False doesn’t copy the data – this is for internal use,
<em>e.g.</em> when you want to copy all the metadata and perform a
calculation on the data.</p>
<p>The code for this also provides the definitive list of the
nddata metadata.</p>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.lmfitdata.lmfitdata.eval">
<span class="sig-name descname"><span class="pre">eval</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">taxis</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">set_what</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">set_to</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.lmfitdata.lmfitdata.eval" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the fit function along the axis taxis.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>taxis</strong> (<em>ndarray</em><em>, </em><em>int</em>) – <dl class="field-list simple">
<dt class="field-odd">if ndarray</dt>
<dd class="field-odd"><p>the new axis coordinates along which we want to calculate the fit.</p>
</dd>
<dt class="field-even">if int</dt>
<dd class="field-even"><p>number of evenly spaced points along the t-axis along the fit</p>
</dd>
</dl>
</p></li>
<li><p><strong>set_what</strong> (<em>'str'</em><em>, </em><em>optional</em>) – forcibly sets a specific symbol</p></li>
<li><p><strong>set_to</strong> (<em>double</em><em>, </em><em>optional</em>) – the specific value(int) you are assigning the symbol you included</p></li>
</ul>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>self</strong> – the fit function evaluated along the axis coordinates that were passed</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference internal" href="../generated/pyspecdata.core.nddata.html#pyspecdata.core.nddata" title="pyspecdata.core.nddata">nddata</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.lmfitdata.lmfitdata.fit">
<span class="sig-name descname"><span class="pre">fit</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.lmfitdata.lmfitdata.fit" title="Permalink to this definition">¶</a></dt>
<dd><p>actually run the fit</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="pyspecdata.lmfitdata.lmfitdata.function_string">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">function_string</span></span><a class="headerlink" href="#pyspecdata.lmfitdata.lmfitdata.function_string" title="Permalink to this definition">¶</a></dt>
<dd><p>A property of the myfitclass class which stores a string
output of the functional form of the desired fit expression
provided in func:<cite>functional_form</cite> in LaTeX format</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="pyspecdata.lmfitdata.lmfitdata.functional_form">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">functional_form</span></span><a class="headerlink" href="#pyspecdata.lmfitdata.lmfitdata.functional_form" title="Permalink to this definition">¶</a></dt>
<dd><p>A property of the myfitclass class which is set by the user,
takes as input a sympy expression of the desired fit
expression</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.lmfitdata.lmfitdata.gen_indices">
<span class="sig-name descname"><span class="pre">gen_indices</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">this_set</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">set_to</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.lmfitdata.lmfitdata.gen_indices" title="Permalink to this definition">¶</a></dt>
<dd><p>pass this this_set and this_set_to parameters, and it will return:
indices,values,mask
indices –&gt; gives the indices that are forced
values –&gt; the values they are forced to
mask –&gt; p[mask] are actually active in the fit</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.lmfitdata.lmfitdata.guess">
<span class="sig-name descname"><span class="pre">guess</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.lmfitdata.lmfitdata.guess" title="Permalink to this definition">¶</a></dt>
<dd><p>Old code that we are preserving here – provide the guess for our
parameters; by default, based on pseudoinverse</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.lmfitdata.lmfitdata.latex">
<span class="sig-name descname"><span class="pre">latex</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.lmfitdata.lmfitdata.latex" title="Permalink to this definition">¶</a></dt>
<dd><p>show the latex string for the function, with all the symbols substituted by their values</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.lmfitdata.lmfitdata.output">
<span class="sig-name descname"><span class="pre">output</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.lmfitdata.lmfitdata.output" title="Permalink to this definition">¶</a></dt>
<dd><p>give the fit value of a particular symbol, or a dictionary of all values.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>name</strong> (<em>str</em><em> (</em><em>optional</em><em>)</em>) – name of the symbol.
If no name is passed, then output returns a dictionary of the
resulting values.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>retval</strong> – Either a dictionary of all the values, or the value itself</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict or float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.lmfitdata.lmfitdata.residual">
<span class="sig-name descname"><span class="pre">residual</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pars</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sigma</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.lmfitdata.lmfitdata.residual" title="Permalink to this definition">¶</a></dt>
<dd><p>calculate the residual OR if data is None, return fake data</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.lmfitdata.lmfitdata.run_lambda">
<span class="sig-name descname"><span class="pre">run_lambda</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pars</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.lmfitdata.lmfitdata.run_lambda" title="Permalink to this definition">¶</a></dt>
<dd><p>actually run the lambda function we separate this in case we want
our function to involve something else, as well (e.g. taking a Fourier
transform)</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.lmfitdata.lmfitdata.set_guess">
<span class="sig-name descname"><span class="pre">set_guess</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.lmfitdata.lmfitdata.set_guess" title="Permalink to this definition">¶</a></dt>
<dd><p>set both the guess and the bounds</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>guesses</strong> (<em>dict of dicts</em>) – <p>each dict has a keyword giving the parameter and a value
that comprises a dict with guesses (value) and/or constraints
(min/max)</p>
<p>Can be passed either as the only argument, or a kwarg called
guesses, or as the kwargs themselves.</p>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.lmfitdata.lmfitdata.settoguess">
<span class="sig-name descname"><span class="pre">settoguess</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.lmfitdata.lmfitdata.settoguess" title="Permalink to this definition">¶</a></dt>
<dd><p>a debugging function, to easily plot the initial guess</p>
</dd></dl>

</dd></dl>

</section>
<section id="module-pyspecdata.ndshape">
<span id="pyspecdata-ndshape-module"></span><h2>pyspecdata.ndshape module<a class="headerlink" href="#module-pyspecdata.ndshape" title="Permalink to this headline">¶</a></h2>
<p>The <code class="xref py py-class docutils literal notranslate"><span class="pre">ndshape</span></code> class allows you to allocate arrays and determine the shape of existing arrays.</p>
<dl class="py class">
<dt class="sig sig-object py" id="pyspecdata.ndshape.ndshape_base">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">pyspecdata.ndshape.</span></span><span class="sig-name descname"><span class="pre">ndshape_base</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.ndshape.ndshape_base" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>The base ndshape class, which doesn’t include an allocation method.</p>
<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.ndshape.ndshape_base.axn">
<span class="sig-name descname"><span class="pre">axn</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">axis</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.ndshape.ndshape_base.axn" title="Permalink to this definition">¶</a></dt>
<dd><p>return the number for the axis with the name “axis”</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.ndshape.ndshape_base.copy">
<span class="sig-name descname"><span class="pre">copy</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.ndshape.ndshape_base.copy" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.ndshape.ndshape_base.matchdims">
<span class="sig-name descname"><span class="pre">matchdims</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">arg</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.ndshape.ndshape_base.matchdims" title="Permalink to this definition">¶</a></dt>
<dd><p>returns shape with [not in self, len 1] + [overlapping dims between arg + self] + [not in arg] –&gt; this is better accomplished by using sets as I do in the matchdims below</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.ndshape.ndshape_base.pop">
<span class="sig-name descname"><span class="pre">pop</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">label</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.ndshape.ndshape_base.pop" title="Permalink to this definition">¶</a></dt>
<dd><p>remove a dimension</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.ndshape.ndshape_base.rename">
<span class="sig-name descname"><span class="pre">rename</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">before</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">after</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.ndshape.ndshape_base.rename" title="Permalink to this definition">¶</a></dt>
<dd><p>rename a dimension</p>
</dd></dl>

</dd></dl>

</section>
<section id="module-pyspecdata.nnls">
<span id="pyspecdata-nnls-module"></span><h2>pyspecdata.nnls module<a class="headerlink" href="#module-pyspecdata.nnls" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.nnls.nnls_regularized">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.nnls.</span></span><span class="sig-name descname"><span class="pre">nnls_regularized</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">A</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">b</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">l</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">maxiter</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nnls.nnls_regularized" title="Permalink to this definition">¶</a></dt>
<dd><p>Solve math:<cite>argmin_x || Ax - b ||_2^2 + lambda^2 ||x||_2^2</cite> for <code class="docutils literal notranslate"><span class="pre">x&gt;=0</span></code>.
This is a wrapper for a FORTRAN non-negative least squares solver,
with regularization (added by stacking $A$ on top an identity matrix
times $lambda$ and $b$ on top of a matching array of zero.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>A</strong> (<em>ndarray</em>) – Matrix <code class="docutils literal notranslate"><span class="pre">A</span></code> as shown above.</p></li>
<li><p><strong>b</strong> (<em>ndarray</em>) – Right-hand side vector.</p></li>
<li><p><strong>l</strong> (<em>double</em><em> (</em><em>default 0</em><em>)</em>) – <span class="math notranslate nohighlight">\(lambda\)</span> – if this is set to 0, the algorithm reverts to
standard nnls (rather than stacking on top of two zero matrices
for no reason)</p></li>
<li><p><strong>maxiter</strong> (<em>int</em><em>, </em><em>optional</em>) – Maximum number of iterations, optional.
Default is <code class="docutils literal notranslate"><span class="pre">3</span> <span class="pre">*</span> <span class="pre">A.shape[1]</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>x</strong> (<em>ndarray</em>) – Solution vector.</p></li>
<li><p><strong>rnorm</strong> (<em>float</em>) – The residual, <code class="docutils literal notranslate"><span class="pre">||</span> <span class="pre">Ax-b</span> <span class="pre">||_2</span></code>.</p></li>
</ul>
</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>The FORTRAN code was published in the book below. The algorithm
is an active set method. It solves the KKT (Karush-Kuhn-Tucker)
conditions for the non-negative least squares problem.</p>
<p>This was adapted from the source distributed with scipy –
see scipy for relevant licensing.</p>
<p class="rubric">References</p>
<p>Lawson C., Hanson R.J., (1987) Solving Least Squares Problems, SIAM</p>
</dd></dl>

</section>
<section id="module-pyspecdata.placeholder">
<span id="pyspecdata-placeholder-module"></span><h2>pyspecdata.placeholder module<a class="headerlink" href="#module-pyspecdata.placeholder" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="pyspecdata.placeholder.CachedAttribute">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">pyspecdata.placeholder.</span></span><span class="sig-name descname"><span class="pre">CachedAttribute</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">method</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.placeholder.CachedAttribute" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Computes attribute value and caches it in the instance.
From the Python Cookbook (Denis Otkidach)
This decorator allows you to create a property which can be computed once and
accessed many times. Sort of like memoization.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pyspecdata.placeholder.nddata_placeholder">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">pyspecdata.placeholder.</span></span><span class="sig-name descname"><span class="pre">nddata_placeholder</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_data_hook</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.placeholder.nddata_placeholder" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="../generated/pyspecdata.core.nddata.html#pyspecdata.core.nddata" title="pyspecdata.core.nddata"><code class="xref py py-class docutils literal notranslate"><span class="pre">pyspecdata.core.nddata</span></code></a></p>
<p>When you open a file with many datasets, and only want to load one, this is used to store a placeholder to the different datasets.
Rather than passing the initialization any type of data, you simply pass it one argument: the “data hook”:
a function that accepts a single argument (self), alters the dimlabels and axes as needed, and returns an ndarray containing the data.</p>
<p>You can attach only the necessary information to the placeholder, and then
load it into a dictionary that can be explored by the user as they look for
the right dataset.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="pyspecdata.placeholder.nddata_placeholder.data">
<span class="sig-name descname"><span class="pre">data</span></span><a class="headerlink" href="#pyspecdata.placeholder.nddata_placeholder.data" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</section>
<section id="module-pyspecdata.units">
<span id="pyspecdata-units-module"></span><h2>pyspecdata.units module<a class="headerlink" href="#module-pyspecdata.units" title="Permalink to this headline">¶</a></h2>
<p>Not yet implemented – a preliminary idea for how to handle actual unit conversion.  (Currently, we only do s to Hz during FT and order of magnitude prefixes when plotting.)</p>
<dl class="py class">
<dt class="sig sig-object py" id="pyspecdata.units.units">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">pyspecdata.units.</span></span><span class="sig-name descname"><span class="pre">units</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.units.units" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Each instance of this object stores a numerical representation of a single set of units, and there are routines to set units by
(<em>i.e.</em> <code class="xref py py-func docutils literal notranslate"><span class="pre">parsing</span></code>) strings to units
and routines to convert units to an
<code class="xref py py-func docutils literal notranslate"><span class="pre">str</span></code> representation.</p>
<p>At its core, the units are represented by three numpy structured arrays per instance:
one for the coefficients in terms of base units,
one for the order of magnitude used to determine any prefixes added to the base units,
and one for any scaling factors needed to convert to base units.</p>
<p>An array of these structured arrays can be converted into a row
vector with <code class="docutils literal notranslate"><span class="pre">.view((float16,len(base_dtype.names)))</span></code>.
“Base Units” here are the same as SI base units <strong>except</strong> that it uses g instead of kg (so we can do  the prefixes correctly), and we have added rad.</p>
<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.units.units.load_derived">
<span class="sig-name descname"><span class="pre">load_derived</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.units.units.load_derived" title="Permalink to this definition">¶</a></dt>
<dd><p>Parses and loads a series of definitions for derived units.</p>
<p>It uses definition list to determine a derived dtype vector, which is
larger than the base dtype vector.</p>
<p>Then, (not yet done), based on the dictionary that this generates, it
will generate a matrix that converts from the derived dtype vector to
the base dtype vector.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.units.units.parse">
<span class="sig-name descname"><span class="pre">parse</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">in_str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.units.units.parse" title="Permalink to this definition">¶</a></dt>
<dd><p>Take <cite>in_str</cite> and parse it as a unit or series of units, and set the units associated with the current instance to the result.</p>
<p>Addition, subtraction, and parentheses are not allowed, and we define a
non-standard order of operations, as follows:</p>
<ol class="arabic simple">
<li><p><code class="docutils literal notranslate"><span class="pre">\\mu</span></code> (including a trailing space) and <code class="docutils literal notranslate"><span class="pre">u</span></code> are converted to the utf-8 equivalent (μ)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">...^-0.125</span></code> any number is assumed to be part of the exponent, and only numbers are allowed.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">*</span></code> multiplication</p></li>
<li><p>a space also represents multiplication</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">.../...</span></code> comes <strong>after</strong> all other operations, as is typical for single-line text</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">sqrt(...)</span></code> comes “last” in the sense that we take care of everything both inside and outside the sqrt first, before applying the sqrt.</p></li>
</ol>
<p>At this point, I use split to break up according to the order of operations, assign powers to each, and determine the prefix.
However, I’m currently only using base units, and I will eventually want to use derived units as well.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.units.units.str">
<span class="sig-name descname"><span class="pre">str</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">number</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">using_unicode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.units.units.str" title="Permalink to this definition">¶</a></dt>
<dd><p>Give a string that prints <cite>number</cite>, which has the units
given by the current instance of the class.
Choose the simplest possible expression for the units.</p>
<p>When printing, we have a matrix that give all our “representation” units,
and we use a pseudoinverse to give us the simplest possible expression of our units.
(This is assuming that all derived units are defined in terms of powers
greater than or equal to 1 of the base units, because powers of
magnitude less than 1 would complicate things by allowing us to reduce
the norm by spreading across several derived units – in that case, we
might want to add a threshold before taking
the pinv.)</p>
<p>Currently,  I am only giving a method for printing in the base units.</p>
<p>Also, I will want to use number in order to adjust the prefix(es) of the units.</p>
</dd></dl>

</dd></dl>

</section>
<section id="module-pyspecdata.version">
<span id="pyspecdata-version-module"></span><h2>pyspecdata.version module<a class="headerlink" href="#module-pyspecdata.version" title="Permalink to this headline">¶</a></h2>
</section>
<section id="module-pyspecdata">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-pyspecdata" title="Permalink to this headline">¶</a></h2>
<dl class="py exception">
<dt class="sig sig-object py" id="pyspecdata.CustomError">
<em class="property"><span class="pre">exception</span> </em><span class="sig-prename descclassname"><span class="pre">pyspecdata.</span></span><span class="sig-name descname"><span class="pre">CustomError</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">value</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.CustomError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.DCCT">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.</span></span><span class="sig-name descname"><span class="pre">DCCT</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">this_nddata</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">this_fig_obj</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">custom_scaling</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">grid_bottom</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bottom_pad</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.15</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">grid_top</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">top_pad</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">total_spacing</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.055</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">label_spacing_multiplier</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">50</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">allow_for_text_default</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">allow_for_ticks_default</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">70</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">text_height</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">40</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">LHS_pad</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.01</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">RHS_pad</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.05</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shareaxis</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">diagnostic</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cmap</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pass_frq_slice</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">just_2D</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scaling_factor</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_coh_jump</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{'ph1':</span> <span class="pre">1,</span> <span class="pre">'ph2':</span> <span class="pre">2}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">direct</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'t2'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plot_title</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'DCCT'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.DCCT" title="Permalink to this definition">¶</a></dt>
<dd><p>DCCT plot</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>this_nddata</strong> (<a class="reference internal" href="../pyspecdata.html#id0" title="pyspecdata.nddata"><em>nddata</em></a>) – data being plotted</p></li>
<li><p><strong>thi_fig_obj</strong> (<em>figure</em>) – size/type of figure to be plotted on</p></li>
<li><p><strong>custom_scaling</strong> (<em>boolean</em>) – allows user to scale the intensity of data presented</p></li>
<li><p><strong>grid_bottom</strong> (<em>float</em>) – coordinate for bottom of DCCT plot</p></li>
<li><p><strong>bottom_pad</strong> (<em>float</em>) – distance between bottom of grid and bottom of figure</p></li>
<li><p><strong>grid_top</strong> (<em>float</em>) – coordinate top of grid in figure</p></li>
<li><p><strong>top_pad</strong> (<em>float</em>) – distance between top of figure and top of grid</p></li>
<li><p><strong>total_spacing</strong> (<em>float</em>) – affects spacing between phase cycle dimensions</p></li>
<li><p><strong>label_spacing_multiplier</strong> (<em>int</em>) – spacing between axes labels</p></li>
<li><p><strong>allow_for_text_default</strong> (<em>int</em>) – adjusts distance between tick labels and ticks</p></li>
<li><p><strong>allow_for_ticks_default</strong> (<em>int</em>) – adjusts distance between ticks</p></li>
<li><p><strong>text_height</strong> (<em>int</em>) – adjusts sizing of axis labels and tick labels</p></li>
<li><p><strong>LHS_pad</strong> (<em>float</em>) – adjusts padding on left hand side of DCCT plot</p></li>
<li><p><strong>RHS_pad</strong> (<em>float</em>) – adjusts padding on right hand side of DCCT plot</p></li>
<li><p><strong>shareaxis</strong> (<em>boolean</em>) – subplots scale together, but currently, this means there must be tick
labels on both top and bottom</p></li>
<li><p><strong>cmap</strong> (<em>str</em>) – string for color mapping if specified</p></li>
<li><p><strong>pass_frq_slice</strong> (<em>boolean</em>) – if true will show the frequency sliced out with hatching</p></li>
<li><p><strong>just_2D</strong> (<em>boolean</em>) – If true will only return axis coordinates/shape NOT ax_list</p></li>
<li><p><strong>scaling_factor</strong> (<em>float</em>) – If using custom scaling this allows user to set the scaling factor</p></li>
<li><p><strong>max_coh_jump</strong> (<em>dict</em>) – maximum allowed transitions for each phase cycle</p></li>
<li><p><strong>direct</strong> (<em>str</em>) – name of direct axis</p></li>
<li><p><strong>plot_title</strong> (<em>str</em>) – title for DCCT plot</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pyspecdata.LightSource">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">pyspecdata.</span></span><span class="sig-name descname"><span class="pre">LightSource</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">azdeg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">315</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">altdeg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">45</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hsv_min_val</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hsv_max_val</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hsv_min_sat</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hsv_max_sat</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.LightSource" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Create a light source coming from the specified azimuth and elevation.
Angles are in degrees, with the azimuth measured
clockwise from north and elevation up from the zero plane of the surface.</p>
<p><cite>shade</cite> is used to produce “shaded” rgb values for a data array.
<cite>shade_rgb</cite> can be used to combine an rgb image with an elevation map.
<cite>hillshade</cite> produces an illumination map of a surface.</p>
<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.LightSource.blend_hsv">
<span class="sig-name descname"><span class="pre">blend_hsv</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rgb</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">intensity</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hsv_max_sat</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hsv_max_val</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hsv_min_val</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hsv_min_sat</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.LightSource.blend_hsv" title="Permalink to this definition">¶</a></dt>
<dd><p>Take the input data array, convert to HSV values in the given colormap,
then adjust those color values to give the impression of a shaded
relief map with a specified light source.  RGBA values are returned,
which can then be used to plot the shaded image with imshow.</p>
<p>The color of the resulting image will be darkened by moving the (s, v)
values (in hsv colorspace) toward (hsv_min_sat, hsv_min_val) in the
shaded regions, or lightened by sliding (s, v) toward (hsv_max_sat,
hsv_max_val) in regions that are illuminated.  The default extremes are
chose so that completely shaded points are nearly black (s = 1, v = 0)
and completely illuminated points are nearly white (s = 0, v = 1).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>rgb</strong> (<em>ndarray</em>) – An MxNx3 RGB array of floats ranging from 0 to 1 (color image).</p></li>
<li><p><strong>intensity</strong> (<em>ndarray</em>) – An MxNx1 array of floats ranging from 0 to 1 (grayscale image).</p></li>
<li><p><strong>hsv_max_sat</strong> (<em>number</em><em>, </em><em>default: 1</em>) – The maximum saturation value that the <em>intensity</em> map can shift the
output image to.</p></li>
<li><p><strong>hsv_min_sat</strong> (<em>number</em><em>, </em><em>optional</em>) – The minimum saturation value that the <em>intensity</em> map can shift the
output image to. Defaults to 0.</p></li>
<li><p><strong>hsv_max_val</strong> (<em>number</em><em>, </em><em>optional</em>) – The maximum value (“v” in “hsv”) that the <em>intensity</em> map can shift
the output image to. Defaults to 1.</p></li>
<li><p><strong>hsv_min_val</strong> (<em>number</em><em>, </em><em>optional</em>) – The minimum value (“v” in “hsv”) that the <em>intensity</em> map can shift
the output image to. Defaults to 0.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>An MxNx3 RGB array representing the combined images.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.LightSource.blend_overlay">
<span class="sig-name descname"><span class="pre">blend_overlay</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rgb</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">intensity</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.LightSource.blend_overlay" title="Permalink to this definition">¶</a></dt>
<dd><p>Combines an rgb image with an intensity map using “overlay” blending.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>rgb</strong> (<em>ndarray</em>) – An MxNx3 RGB array of floats ranging from 0 to 1 (color image).</p></li>
<li><p><strong>intensity</strong> (<em>ndarray</em>) – An MxNx1 array of floats ranging from 0 to 1 (grayscale image).</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>An MxNx3 RGB array representing the combined images.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.LightSource.blend_soft_light">
<span class="sig-name descname"><span class="pre">blend_soft_light</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rgb</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">intensity</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.LightSource.blend_soft_light" title="Permalink to this definition">¶</a></dt>
<dd><p>Combine an rgb image with an intensity map using “soft light” blending,
using the “pegtop” formula.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>rgb</strong> (<em>ndarray</em>) – An MxNx3 RGB array of floats ranging from 0 to 1 (color image).</p></li>
<li><p><strong>intensity</strong> (<em>ndarray</em>) – An MxNx1 array of floats ranging from 0 to 1 (grayscale image).</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>An MxNx3 RGB array representing the combined images.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="pyspecdata.LightSource.direction">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">direction</span></span><a class="headerlink" href="#pyspecdata.LightSource.direction" title="Permalink to this definition">¶</a></dt>
<dd><p>The unit vector direction towards the light source.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.LightSource.hillshade">
<span class="sig-name descname"><span class="pre">hillshade</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">elevation</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vert_exag</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dx</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dy</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fraction</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.LightSource.hillshade" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the illumination intensity for a surface using the defined
azimuth and elevation for the light source.</p>
<p>This computes the normal vectors for the surface, and then passes them
on to <cite>shade_normals</cite></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>elevation</strong> (<em>2D array-like</em>) – The height values used to generate an illumination map</p></li>
<li><p><strong>vert_exag</strong> (<em>number</em><em>, </em><em>optional</em>) – The amount to exaggerate the elevation values by when calculating
illumination. This can be used either to correct for differences in
units between the x-y coordinate system and the elevation
coordinate system (e.g. decimal degrees vs. meters) or to
exaggerate or de-emphasize topographic effects.</p></li>
<li><p><strong>dx</strong> (<em>number</em><em>, </em><em>optional</em>) – The x-spacing (columns) of the input <em>elevation</em> grid.</p></li>
<li><p><strong>dy</strong> (<em>number</em><em>, </em><em>optional</em>) – The y-spacing (rows) of the input <em>elevation</em> grid.</p></li>
<li><p><strong>fraction</strong> (<em>number</em><em>, </em><em>optional</em>) – Increases or decreases the contrast of the hillshade.  Values
greater than one will cause intermediate values to move closer to
full illumination or shadow (and clipping any values that move
beyond 0 or 1). Note that this is not visually or mathematically
the same as vertical exaggeration.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A 2D array of illumination values between 0-1, where 0 is
completely in shadow and 1 is completely illuminated.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.LightSource.shade">
<span class="sig-name descname"><span class="pre">shade</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cmap</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">norm</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">blend_mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'overlay'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vmin</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vmax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vert_exag</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dx</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dy</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fraction</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.LightSource.shade" title="Permalink to this definition">¶</a></dt>
<dd><p>Combine colormapped data values with an illumination intensity map
(a.k.a.  “hillshade”) of the values.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>2D array-like</em>) – The height values used to generate a shaded map.</p></li>
<li><p><strong>cmap</strong> (<cite>~matplotlib.colors.Colormap</cite>) – The colormap used to color the <em>data</em> array. Note that this must be
a <cite>~matplotlib.colors.Colormap</cite> instance.  For example, rather than
passing in <code class="docutils literal notranslate"><span class="pre">cmap='gist_earth'</span></code>, use
<code class="docutils literal notranslate"><span class="pre">cmap=plt.get_cmap('gist_earth')</span></code> instead.</p></li>
<li><p><strong>norm</strong> (<cite>~matplotlib.colors.Normalize</cite> instance, optional) – The normalization used to scale values before colormapping. If
None, the input will be linearly scaled between its min and max.</p></li>
<li><p><strong>blend_mode</strong> (<em>{'hsv'</em><em>, </em><em>'overlay'</em><em>, </em><em>'soft'}</em><em> or </em><em>callable</em><em>, </em><em>optional</em>) – The type of blending used to combine the colormapped data
values with the illumination intensity.  Default is
“overlay”.  Note that for most topographic surfaces,
“overlay” or “soft” appear more visually realistic. If a
user-defined function is supplied, it is expected to
combine an MxNx3 RGB array of floats (ranging 0 to 1) with
an MxNx1 hillshade array (also 0 to 1).  (Call signature
<code class="docutils literal notranslate"><span class="pre">func(rgb,</span> <span class="pre">illum,</span> <span class="pre">**kwargs)</span></code>) Additional kwargs supplied
to this function will be passed on to the <em>blend_mode</em>
function.</p></li>
<li><p><strong>vmin</strong> (<em>float</em><em> or </em><em>None</em><em>, </em><em>optional</em>) – The minimum value used in colormapping <em>data</em>. If <em>None</em> the
minimum value in <em>data</em> is used. If <em>norm</em> is specified, then this
argument will be ignored.</p></li>
<li><p><strong>vmax</strong> (<em>float</em><em> or </em><em>None</em><em>, </em><em>optional</em>) – The maximum value used in colormapping <em>data</em>. If <em>None</em> the
maximum value in <em>data</em> is used. If <em>norm</em> is specified, then this
argument will be ignored.</p></li>
<li><p><strong>vert_exag</strong> (<em>number</em><em>, </em><em>optional</em>) – The amount to exaggerate the elevation values by when calculating
illumination. This can be used either to correct for differences in
units between the x-y coordinate system and the elevation
coordinate system (e.g. decimal degrees vs. meters) or to
exaggerate or de-emphasize topography.</p></li>
<li><p><strong>dx</strong> (<em>number</em><em>, </em><em>optional</em>) – The x-spacing (columns) of the input <em>elevation</em> grid.</p></li>
<li><p><strong>dy</strong> (<em>number</em><em>, </em><em>optional</em>) – The y-spacing (rows) of the input <em>elevation</em> grid.</p></li>
<li><p><strong>fraction</strong> (<em>number</em><em>, </em><em>optional</em>) – Increases or decreases the contrast of the hillshade.  Values
greater than one will cause intermediate values to move closer to
full illumination or shadow (and clipping any values that move
beyond 0 or 1). Note that this is not visually or mathematically
the same as vertical exaggeration.</p></li>
<li><p><strong>function.</strong> (<em>Additional kwargs are passed on to the blend_mode</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>An MxNx4 array of floats ranging between 0-1.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.LightSource.shade_normals">
<span class="sig-name descname"><span class="pre">shade_normals</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">normals</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fraction</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.LightSource.shade_normals" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the illumination intensity for the normal vectors of a
surface using the defined azimuth and elevation for the light source.</p>
<p>Imagine an artificial sun placed at infinity in some azimuth and
elevation position illuminating our surface. The parts of the surface
that slope toward the sun should brighten while those sides facing away
should become darker.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>fraction</strong> (<em>number</em><em>, </em><em>optional</em>) – Increases or decreases the contrast of the hillshade.  Values
greater than one will cause intermediate values to move closer to
full illumination or shadow (and clipping any values that move
beyond 0 or 1). Note that this is not visually or mathematically
the same as vertical exaggeration.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A 2D array of illumination values between 0-1, where 0 is
completely in shadow and 1 is completely illuminated.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.LightSource.shade_rgb">
<span class="sig-name descname"><span class="pre">shade_rgb</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rgb</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">elevation</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fraction</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">blend_mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'hsv'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vert_exag</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dx</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dy</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.LightSource.shade_rgb" title="Permalink to this definition">¶</a></dt>
<dd><p>Use this light source to adjust the colors of the <em>rgb</em> input array to
give the impression of a shaded relief map with the given <em>elevation</em>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>rgb</strong> (<em>array-like</em>) – An (M, N, 3) RGB array, assumed to be in the range of 0 to 1.</p></li>
<li><p><strong>elevation</strong> (<em>array-like</em>) – An (M, N) array of the height values used to generate a shaded map.</p></li>
<li><p><strong>fraction</strong> (<em>number</em>) – Increases or decreases the contrast of the hillshade.  Values
greater than one will cause intermediate values to move closer to
full illumination or shadow (and clipping any values that move
beyond 0 or 1). Note that this is not visually or mathematically
the same as vertical exaggeration.</p></li>
<li><p><strong>blend_mode</strong> (<em>{'hsv'</em><em>, </em><em>'overlay'</em><em>, </em><em>'soft'}</em><em> or </em><em>callable</em><em>, </em><em>optional</em>) – The type of blending used to combine the colormapped data values
with the illumination intensity.  For backwards compatibility, this
defaults to “hsv”. Note that for most topographic surfaces,
“overlay” or “soft” appear more visually realistic. If a
user-defined function is supplied, it is expected to combine an
MxNx3 RGB array of floats (ranging 0 to 1) with an MxNx1 hillshade
array (also 0 to 1).  (Call signature
<code class="docutils literal notranslate"><span class="pre">func(rgb,</span> <span class="pre">illum,</span> <span class="pre">**kwargs)</span></code>)
Additional kwargs supplied to this function will be passed on to
the <em>blend_mode</em> function.</p></li>
<li><p><strong>vert_exag</strong> (<em>number</em><em>, </em><em>optional</em>) – The amount to exaggerate the elevation values by when calculating
illumination. This can be used either to correct for differences in
units between the x-y coordinate system and the elevation
coordinate system (e.g. decimal degrees vs. meters) or to
exaggerate or de-emphasize topography.</p></li>
<li><p><strong>dx</strong> (<em>number</em><em>, </em><em>optional</em>) – The x-spacing (columns) of the input <em>elevation</em> grid.</p></li>
<li><p><strong>dy</strong> (<em>number</em><em>, </em><em>optional</em>) – The y-spacing (rows) of the input <em>elevation</em> grid.</p></li>
<li><p><strong>function.</strong> (<em>Additional kwargs are passed on to the blend_mode</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>An (m, n, 3) array of floats ranging between 0-1.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>ndarray</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pyspecdata.Line2D">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">pyspecdata.</span></span><span class="sig-name descname"><span class="pre">Line2D</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">xdata</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ydata</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">linewidth</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">linestyle</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">color</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">marker</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">markersize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">markeredgewidth</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">markeredgecolor</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">markerfacecolor</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">markerfacecoloralt</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'none'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fillstyle</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">antialiased</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dash_capstyle</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">solid_capstyle</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dash_joinstyle</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">solid_joinstyle</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pickradius</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">drawstyle</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">markevery</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">matplotlib.artist.Artist</span></code></p>
<p>A line - the line can have both a solid linestyle connecting all
the vertices, and a marker at each vertex.  Additionally, the
drawing of the solid line is influenced by the drawstyle, e.g., one
can create “stepped” lines in various styles.</p>
<dl class="py property">
<dt class="sig sig-object py" id="pyspecdata.Line2D.axes">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">axes</span></span><a class="headerlink" href="#pyspecdata.Line2D.axes" title="Permalink to this definition">¶</a></dt>
<dd><p>The <cite>~.axes.Axes</cite> instance the artist resides in, or <em>None</em>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.Line2D.contains">
<span class="sig-name descname"><span class="pre">contains</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mouseevent</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.contains" title="Permalink to this definition">¶</a></dt>
<dd><p>Test whether <em>mouseevent</em> occurred on the line.</p>
<p>An event is deemed to have occurred “on” the line if it is less
than <code class="docutils literal notranslate"><span class="pre">self.pickradius</span></code> (default: 5 points) away from it.  Use
<cite>~.Line2D.get_pickradius</cite> or <cite>~.Line2D.set_pickradius</cite> to get or set
the pick radius.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>mouseevent</strong> (<cite>matplotlib.backend_bases.MouseEvent</cite>) – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul>
<li><p><strong>contains</strong> (<em>bool</em>) – Whether any values are within the radius.</p></li>
<li><p><strong>details</strong> (<em>dict</em>) – A dictionary <code class="docutils literal notranslate"><span class="pre">{'ind':</span> <span class="pre">pointlist}</span></code>, where <em>pointlist</em> is a
list of points of the line that are within the pickradius around
the event position.</p>
<p>TODO: sort returned indices by distance</p>
</li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.Line2D.draw">
<span class="sig-name descname"><span class="pre">draw</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">renderer</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.draw" title="Permalink to this definition">¶</a></dt>
<dd><p>Draw the Artist (and its children) using the given renderer.</p>
<p>This has no effect if the artist is not visible (<cite>.Artist.get_visible</cite>
returns False).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>renderer</strong> (<cite>.RendererBase</cite> subclass.) – </p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>This method is overridden in the Artist subclasses.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pyspecdata.Line2D.drawStyleKeys">
<span class="sig-name descname"><span class="pre">drawStyleKeys</span></span><em class="property"> <span class="pre">=</span> <span class="pre">['default',</span> <span class="pre">'steps-mid',</span> <span class="pre">'steps-pre',</span> <span class="pre">'steps-post',</span> <span class="pre">'steps']</span></em><a class="headerlink" href="#pyspecdata.Line2D.drawStyleKeys" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pyspecdata.Line2D.drawStyles">
<span class="sig-name descname"><span class="pre">drawStyles</span></span><em class="property"> <span class="pre">=</span> <span class="pre">{'default':</span> <span class="pre">'_draw_lines',</span> <span class="pre">'steps':</span> <span class="pre">'_draw_steps_pre',</span> <span class="pre">'steps-mid':</span> <span class="pre">'_draw_steps_mid',</span> <span class="pre">'steps-post':</span> <span class="pre">'_draw_steps_post',</span> <span class="pre">'steps-pre':</span> <span class="pre">'_draw_steps_pre'}</span></em><a class="headerlink" href="#pyspecdata.Line2D.drawStyles" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pyspecdata.Line2D.fillStyles">
<span class="sig-name descname"><span class="pre">fillStyles</span></span><em class="property"> <span class="pre">=</span> <span class="pre">('full',</span> <span class="pre">'left',</span> <span class="pre">'right',</span> <span class="pre">'bottom',</span> <span class="pre">'top',</span> <span class="pre">'none')</span></em><a class="headerlink" href="#pyspecdata.Line2D.fillStyles" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pyspecdata.Line2D.filled_markers">
<span class="sig-name descname"><span class="pre">filled_markers</span></span><em class="property"> <span class="pre">=</span> <span class="pre">('o',</span> <span class="pre">'v',</span> <span class="pre">'^',</span> <span class="pre">'&lt;',</span> <span class="pre">'&gt;',</span> <span class="pre">'8',</span> <span class="pre">'s',</span> <span class="pre">'p',</span> <span class="pre">'*',</span> <span class="pre">'h',</span> <span class="pre">'H',</span> <span class="pre">'D',</span> <span class="pre">'d',</span> <span class="pre">'P',</span> <span class="pre">'X')</span></em><a class="headerlink" href="#pyspecdata.Line2D.filled_markers" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.Line2D.get_aa">
<span class="sig-name descname"><span class="pre">get_aa</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.get_aa" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for <cite>get_antialiased</cite>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.Line2D.get_antialiased">
<span class="sig-name descname"><span class="pre">get_antialiased</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.get_antialiased" title="Permalink to this definition">¶</a></dt>
<dd><p>Return whether antialiased rendering is used.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.Line2D.get_c">
<span class="sig-name descname"><span class="pre">get_c</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.get_c" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for <cite>get_color</cite>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.Line2D.get_color">
<span class="sig-name descname"><span class="pre">get_color</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.get_color" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the line color.</p>
<p>See also <cite>~.Line2D.set_color</cite>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.Line2D.get_dash_capstyle">
<span class="sig-name descname"><span class="pre">get_dash_capstyle</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.get_dash_capstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the <cite>.CapStyle</cite> for dashed lines.</p>
<p>See also <cite>~.Line2D.set_dash_capstyle</cite>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.Line2D.get_dash_joinstyle">
<span class="sig-name descname"><span class="pre">get_dash_joinstyle</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.get_dash_joinstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the <cite>.JoinStyle</cite> for dashed lines.</p>
<p>See also <cite>~.Line2D.set_dash_joinstyle</cite>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.Line2D.get_data">
<span class="sig-name descname"><span class="pre">get_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">orig</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.get_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the line data as an <code class="docutils literal notranslate"><span class="pre">(xdata,</span> <span class="pre">ydata)</span></code> pair.</p>
<p>If <em>orig</em> is <em>True</em>, return the original data.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.Line2D.get_drawstyle">
<span class="sig-name descname"><span class="pre">get_drawstyle</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.get_drawstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the drawstyle.</p>
<p>See also <cite>~.Line2D.set_drawstyle</cite>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.Line2D.get_ds">
<span class="sig-name descname"><span class="pre">get_ds</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.get_ds" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for <cite>get_drawstyle</cite>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.Line2D.get_fillstyle">
<span class="sig-name descname"><span class="pre">get_fillstyle</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.get_fillstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the marker fill style.</p>
<p>See also <cite>~.Line2D.set_fillstyle</cite>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.Line2D.get_linestyle">
<span class="sig-name descname"><span class="pre">get_linestyle</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.get_linestyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the linestyle.</p>
<p>See also <cite>~.Line2D.set_linestyle</cite>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.Line2D.get_linewidth">
<span class="sig-name descname"><span class="pre">get_linewidth</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.get_linewidth" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the linewidth in points.</p>
<p>See also <cite>~.Line2D.set_linewidth</cite>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.Line2D.get_ls">
<span class="sig-name descname"><span class="pre">get_ls</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.get_ls" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for <cite>get_linestyle</cite>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.Line2D.get_lw">
<span class="sig-name descname"><span class="pre">get_lw</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.get_lw" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for <cite>get_linewidth</cite>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.Line2D.get_marker">
<span class="sig-name descname"><span class="pre">get_marker</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.get_marker" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the line marker.</p>
<p>See also <cite>~.Line2D.set_marker</cite>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.Line2D.get_markeredgecolor">
<span class="sig-name descname"><span class="pre">get_markeredgecolor</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.get_markeredgecolor" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the marker edge color.</p>
<p>See also <cite>~.Line2D.set_markeredgecolor</cite>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.Line2D.get_markeredgewidth">
<span class="sig-name descname"><span class="pre">get_markeredgewidth</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.get_markeredgewidth" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the marker edge width in points.</p>
<p>See also <cite>~.Line2D.set_markeredgewidth</cite>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.Line2D.get_markerfacecolor">
<span class="sig-name descname"><span class="pre">get_markerfacecolor</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.get_markerfacecolor" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the marker face color.</p>
<p>See also <cite>~.Line2D.set_markerfacecolor</cite>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.Line2D.get_markerfacecoloralt">
<span class="sig-name descname"><span class="pre">get_markerfacecoloralt</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.get_markerfacecoloralt" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the alternate marker face color.</p>
<p>See also <cite>~.Line2D.set_markerfacecoloralt</cite>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.Line2D.get_markersize">
<span class="sig-name descname"><span class="pre">get_markersize</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.get_markersize" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the marker size in points.</p>
<p>See also <cite>~.Line2D.set_markersize</cite>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.Line2D.get_markevery">
<span class="sig-name descname"><span class="pre">get_markevery</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.get_markevery" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the markevery setting for marker subsampling.</p>
<p>See also <cite>~.Line2D.set_markevery</cite>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.Line2D.get_mec">
<span class="sig-name descname"><span class="pre">get_mec</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.get_mec" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for <cite>get_markeredgecolor</cite>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.Line2D.get_mew">
<span class="sig-name descname"><span class="pre">get_mew</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.get_mew" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for <cite>get_markeredgewidth</cite>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.Line2D.get_mfc">
<span class="sig-name descname"><span class="pre">get_mfc</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.get_mfc" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for <cite>get_markerfacecolor</cite>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.Line2D.get_mfcalt">
<span class="sig-name descname"><span class="pre">get_mfcalt</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.get_mfcalt" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for <cite>get_markerfacecoloralt</cite>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.Line2D.get_ms">
<span class="sig-name descname"><span class="pre">get_ms</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.get_ms" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for <cite>get_markersize</cite>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.Line2D.get_path">
<span class="sig-name descname"><span class="pre">get_path</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.get_path" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the <code class="xref py py-class docutils literal notranslate"><span class="pre">Path</span></code> object associated
with this line.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.Line2D.get_pickradius">
<span class="sig-name descname"><span class="pre">get_pickradius</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.get_pickradius" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the pick radius used for containment tests.</p>
<p>See <cite>.contains</cite> for more details.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.Line2D.get_solid_capstyle">
<span class="sig-name descname"><span class="pre">get_solid_capstyle</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.get_solid_capstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the <cite>.CapStyle</cite> for solid lines.</p>
<p>See also <cite>~.Line2D.set_solid_capstyle</cite>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.Line2D.get_solid_joinstyle">
<span class="sig-name descname"><span class="pre">get_solid_joinstyle</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.get_solid_joinstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the <cite>.JoinStyle</cite> for solid lines.</p>
<p>See also <cite>~.Line2D.set_solid_joinstyle</cite>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.Line2D.get_window_extent">
<span class="sig-name descname"><span class="pre">get_window_extent</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">renderer</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.get_window_extent" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the axes bounding box in display space.</p>
<p>The bounding box’ width and height are nonnegative.</p>
<p>Subclasses should override for inclusion in the bounding box
“tight” calculation. Default is to return an empty bounding
box at 0, 0.</p>
<p>Be careful when using this function, the results will not update
if the artist window extent of the artist changes.  The extent
can change due to any changes in the transform stack, such as
changing the axes limits, the figure size, or the canvas used
(as is done when saving a figure).  This can lead to unexpected
behavior where interactive figures will look fine on the screen,
but will save incorrectly.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.Line2D.get_xdata">
<span class="sig-name descname"><span class="pre">get_xdata</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">orig</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.get_xdata" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the xdata.</p>
<p>If <em>orig</em> is <em>True</em>, return the original data, else the
processed data.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.Line2D.get_xydata">
<span class="sig-name descname"><span class="pre">get_xydata</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.get_xydata" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the <em>xy</em> data as a Nx2 numpy array.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.Line2D.get_ydata">
<span class="sig-name descname"><span class="pre">get_ydata</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">orig</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.get_ydata" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the ydata.</p>
<p>If <em>orig</em> is <em>True</em>, return the original data, else the
processed data.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.Line2D.is_dashed">
<span class="sig-name descname"><span class="pre">is_dashed</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.is_dashed" title="Permalink to this definition">¶</a></dt>
<dd><p>Return whether line has a dashed linestyle.</p>
<p>A custom linestyle is assumed to be dashed, we do not inspect the
<code class="docutils literal notranslate"><span class="pre">onoffseq</span></code> directly.</p>
<p>See also <cite>~.Line2D.set_linestyle</cite>.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pyspecdata.Line2D.lineStyles">
<span class="sig-name descname"><span class="pre">lineStyles</span></span><em class="property"> <span class="pre">=</span> <span class="pre">{'':</span> <span class="pre">'_draw_nothing',</span> <span class="pre">'</span> <span class="pre">':</span> <span class="pre">'_draw_nothing',</span> <span class="pre">'-':</span> <span class="pre">'_draw_solid',</span> <span class="pre">'--':</span> <span class="pre">'_draw_dashed',</span> <span class="pre">'-.':</span> <span class="pre">'_draw_dash_dot',</span> <span class="pre">':':</span> <span class="pre">'_draw_dotted',</span> <span class="pre">'None':</span> <span class="pre">'_draw_nothing'}</span></em><a class="headerlink" href="#pyspecdata.Line2D.lineStyles" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pyspecdata.Line2D.markers">
<span class="sig-name descname"><span class="pre">markers</span></span><em class="property"> <span class="pre">=</span> <span class="pre">{'.':</span> <span class="pre">'point',</span> <span class="pre">',':</span> <span class="pre">'pixel',</span> <span class="pre">'o':</span> <span class="pre">'circle',</span> <span class="pre">'v':</span> <span class="pre">'triangle_down',</span> <span class="pre">'^':</span> <span class="pre">'triangle_up',</span> <span class="pre">'&lt;':</span> <span class="pre">'triangle_left',</span> <span class="pre">'&gt;':</span> <span class="pre">'triangle_right',</span> <span class="pre">'1':</span> <span class="pre">'tri_down',</span> <span class="pre">'2':</span> <span class="pre">'tri_up',</span> <span class="pre">'3':</span> <span class="pre">'tri_left',</span> <span class="pre">'4':</span> <span class="pre">'tri_right',</span> <span class="pre">'8':</span> <span class="pre">'octagon',</span> <span class="pre">'s':</span> <span class="pre">'square',</span> <span class="pre">'p':</span> <span class="pre">'pentagon',</span> <span class="pre">'*':</span> <span class="pre">'star',</span> <span class="pre">'h':</span> <span class="pre">'hexagon1',</span> <span class="pre">'H':</span> <span class="pre">'hexagon2',</span> <span class="pre">'+':</span> <span class="pre">'plus',</span> <span class="pre">'x':</span> <span class="pre">'x',</span> <span class="pre">'D':</span> <span class="pre">'diamond',</span> <span class="pre">'d':</span> <span class="pre">'thin_diamond',</span> <span class="pre">'|':</span> <span class="pre">'vline',</span> <span class="pre">'_':</span> <span class="pre">'hline',</span> <span class="pre">'P':</span> <span class="pre">'plus_filled',</span> <span class="pre">'X':</span> <span class="pre">'x_filled',</span> <span class="pre">0:</span> <span class="pre">'tickleft',</span> <span class="pre">1:</span> <span class="pre">'tickright',</span> <span class="pre">2:</span> <span class="pre">'tickup',</span> <span class="pre">3:</span> <span class="pre">'tickdown',</span> <span class="pre">4:</span> <span class="pre">'caretleft',</span> <span class="pre">5:</span> <span class="pre">'caretright',</span> <span class="pre">6:</span> <span class="pre">'caretup',</span> <span class="pre">7:</span> <span class="pre">'caretdown',</span> <span class="pre">8:</span> <span class="pre">'caretleftbase',</span> <span class="pre">9:</span> <span class="pre">'caretrightbase',</span> <span class="pre">10:</span> <span class="pre">'caretupbase',</span> <span class="pre">11:</span> <span class="pre">'caretdownbase',</span> <span class="pre">'None':</span> <span class="pre">'nothing',</span> <span class="pre">None:</span> <span class="pre">'nothing',</span> <span class="pre">'</span> <span class="pre">':</span> <span class="pre">'nothing',</span> <span class="pre">'':</span> <span class="pre">'nothing'}</span></em><a class="headerlink" href="#pyspecdata.Line2D.markers" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="pyspecdata.Line2D.pickradius">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">pickradius</span></span><a class="headerlink" href="#pyspecdata.Line2D.pickradius" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the pick radius used for containment tests.</p>
<p>See <cite>.contains</cite> for more details.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.Line2D.recache">
<span class="sig-name descname"><span class="pre">recache</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">always</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.recache" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.Line2D.recache_always">
<span class="sig-name descname"><span class="pre">recache_always</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.recache_always" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.Line2D.set_aa">
<span class="sig-name descname"><span class="pre">set_aa</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">b</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.set_aa" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for <cite>set_antialiased</cite>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.Line2D.set_antialiased">
<span class="sig-name descname"><span class="pre">set_antialiased</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">b</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.set_antialiased" title="Permalink to this definition">¶</a></dt>
<dd><p>Set whether to use antialiased rendering.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>b</strong> (<em>bool</em>) – </p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.Line2D.set_c">
<span class="sig-name descname"><span class="pre">set_c</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">color</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.set_c" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for <cite>set_color</cite>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.Line2D.set_color">
<span class="sig-name descname"><span class="pre">set_color</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">color</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.set_color" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the color of the line.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>color</strong> (<em>color</em>) – </p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.Line2D.set_dash_capstyle">
<span class="sig-name descname"><span class="pre">set_dash_capstyle</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">s</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.set_dash_capstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>How to draw the end caps if the line is <cite>~Line2D.is_dashed</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>s</strong> (<cite>.CapStyle</cite> or {‘butt’, ‘projecting’, ‘round’}) – </p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.Line2D.set_dash_joinstyle">
<span class="sig-name descname"><span class="pre">set_dash_joinstyle</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">s</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.set_dash_joinstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>How to join segments of the line if it <cite>~Line2D.is_dashed</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>s</strong> (<cite>.JoinStyle</cite> or {‘miter’, ‘round’, ‘bevel’}) – </p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.Line2D.set_dashes">
<span class="sig-name descname"><span class="pre">set_dashes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">seq</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.set_dashes" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the dash sequence.</p>
<p>The dash sequence is a sequence of floats of even length describing
the length of dashes and spaces in points.</p>
<p>For example, (5, 2, 1, 2) describes a sequence of 5 point and 1 point
dashes separated by 2 point spaces.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>seq</strong> (<em>sequence of floats</em><em> (</em><em>on/off ink in points</em><em>) or </em><em>(</em><em>None</em><em>, </em><em>None</em><em>)</em>) – If <em>seq</em> is empty or <code class="docutils literal notranslate"><span class="pre">(None,</span> <span class="pre">None)</span></code>, the linestyle will be set
to solid.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.Line2D.set_data">
<span class="sig-name descname"><span class="pre">set_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.set_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the x and y data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>*args</strong> (<em>(</em><em>2</em><em>, </em><em>N</em><em>) </em><em>array</em><em> or </em><em>two 1D arrays</em>) – </p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.Line2D.set_drawstyle">
<span class="sig-name descname"><span class="pre">set_drawstyle</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">drawstyle</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.set_drawstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the drawstyle of the plot.</p>
<p>The drawstyle determines how the points are connected.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>drawstyle</strong> (<em>{'default'</em><em>, </em><em>'steps'</em><em>, </em><em>'steps-pre'</em><em>, </em><em>'steps-mid'</em><em>, </em><em>'steps-post'}</em><em>, </em><em>default: 'default'</em>) – <p>For ‘default’, the points are connected with straight lines.</p>
<p>The steps variants connect the points with step-like lines,
i.e. horizontal lines with vertical steps. They differ in the
location of the step:</p>
<ul class="simple">
<li><p>’steps-pre’: The step is at the beginning of the line segment,
i.e. the line will be at the y-value of point to the right.</p></li>
<li><p>’steps-mid’: The step is halfway between the points.</p></li>
<li><p>’steps-post: The step is at the end of the line segment,
i.e. the line will be at the y-value of the point to the left.</p></li>
<li><p>’steps’ is equal to ‘steps-pre’ and is maintained for
backward-compatibility.</p></li>
</ul>
<p>For examples see <span class="xref std std-doc">/gallery/lines_bars_and_markers/step_demo</span>.</p>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.Line2D.set_ds">
<span class="sig-name descname"><span class="pre">set_ds</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">drawstyle</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.set_ds" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for <cite>set_drawstyle</cite>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.Line2D.set_fillstyle">
<span class="sig-name descname"><span class="pre">set_fillstyle</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.set_fillstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the marker fill style.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>fs</strong> (<em>{'full'</em><em>, </em><em>'left'</em><em>, </em><em>'right'</em><em>, </em><em>'bottom'</em><em>, </em><em>'top'</em><em>, </em><em>'none'}</em>) – <p>Possible values:</p>
<ul class="simple">
<li><p>’full’: Fill the whole marker with the <em>markerfacecolor</em>.</p></li>
<li><p>’left’, ‘right’, ‘bottom’, ‘top’: Fill the marker half at
the given side with the <em>markerfacecolor</em>. The other
half of the marker is filled with <em>markerfacecoloralt</em>.</p></li>
<li><p>’none’: No filling.</p></li>
</ul>
<p>For examples see <span class="xref std std-ref">marker_fill_styles</span>.</p>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.Line2D.set_linestyle">
<span class="sig-name descname"><span class="pre">set_linestyle</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ls</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.set_linestyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the linestyle of the line.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>ls</strong> (<em>{'-'</em><em>, </em><em>'--'</em><em>, </em><em>'-.'</em><em>, </em><em>':'</em><em>, </em><em>''</em><em>, </em><em>(</em><em>offset</em><em>, </em><em>on-off-seq</em><em>)</em><em>, </em><em>...</em><em>}</em>) – <p>Possible values:</p>
<ul>
<li><p>A string:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 65%" />
<col style="width: 35%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Linestyle</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">'-'</span></code> or <code class="docutils literal notranslate"><span class="pre">'solid'</span></code></p></td>
<td><p>solid line</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">'--'</span></code> or  <code class="docutils literal notranslate"><span class="pre">'dashed'</span></code></p></td>
<td><p>dashed line</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">'-.'</span></code> or  <code class="docutils literal notranslate"><span class="pre">'dashdot'</span></code></p></td>
<td><p>dash-dotted line</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">':'</span></code> or <code class="docutils literal notranslate"><span class="pre">'dotted'</span></code></p></td>
<td><p>dotted line</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">'None'</span></code> or <code class="docutils literal notranslate"><span class="pre">'</span> <span class="pre">'</span></code> or <code class="docutils literal notranslate"><span class="pre">''</span></code></p></td>
<td><p>draw nothing</p></td>
</tr>
</tbody>
</table>
</li>
<li><p>Alternatively a dash tuple of the following form can be
provided:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="n">offset</span><span class="p">,</span> <span class="n">onoffseq</span><span class="p">)</span>
</pre></div>
</div>
<p>where <code class="docutils literal notranslate"><span class="pre">onoffseq</span></code> is an even length tuple of on and off ink
in points. See also <a class="reference internal" href="#pyspecdata.Line2D.set_dashes" title="pyspecdata.Line2D.set_dashes"><code class="xref py py-meth docutils literal notranslate"><span class="pre">set_dashes()</span></code></a>.</p>
</li>
</ul>
<p>For examples see <span class="xref std std-doc">/gallery/lines_bars_and_markers/linestyles</span>.</p>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.Line2D.set_linewidth">
<span class="sig-name descname"><span class="pre">set_linewidth</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">w</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.set_linewidth" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the line width in points.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>w</strong> (<em>float</em>) – Line width, in points.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.Line2D.set_ls">
<span class="sig-name descname"><span class="pre">set_ls</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ls</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.set_ls" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for <cite>set_linestyle</cite>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.Line2D.set_lw">
<span class="sig-name descname"><span class="pre">set_lw</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">w</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.set_lw" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for <cite>set_linewidth</cite>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.Line2D.set_marker">
<span class="sig-name descname"><span class="pre">set_marker</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">marker</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.set_marker" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the line marker.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>marker</strong> (marker style string, <cite>~.path.Path</cite> or <cite>~.markers.MarkerStyle</cite>) – See <cite>~matplotlib.markers</cite> for full description of possible
arguments.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.Line2D.set_markeredgecolor">
<span class="sig-name descname"><span class="pre">set_markeredgecolor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ec</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.set_markeredgecolor" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the marker edge color.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>ec</strong> (<em>color</em>) – </p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.Line2D.set_markeredgewidth">
<span class="sig-name descname"><span class="pre">set_markeredgewidth</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ew</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.set_markeredgewidth" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the marker edge width in points.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>ew</strong> (<em>float</em>) – Marker edge width, in points.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.Line2D.set_markerfacecolor">
<span class="sig-name descname"><span class="pre">set_markerfacecolor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fc</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.set_markerfacecolor" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the marker face color.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>fc</strong> (<em>color</em>) – </p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.Line2D.set_markerfacecoloralt">
<span class="sig-name descname"><span class="pre">set_markerfacecoloralt</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fc</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.set_markerfacecoloralt" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the alternate marker face color.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>fc</strong> (<em>color</em>) – </p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.Line2D.set_markersize">
<span class="sig-name descname"><span class="pre">set_markersize</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sz</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.set_markersize" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the marker size in points.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>sz</strong> (<em>float</em>) – Marker size, in points.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.Line2D.set_markevery">
<span class="sig-name descname"><span class="pre">set_markevery</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">every</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.set_markevery" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the markevery property to subsample the plot when using markers.</p>
<p>e.g., if <code class="docutils literal notranslate"><span class="pre">every=5</span></code>, every 5-th marker will be plotted.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>every</strong> (<em>None</em><em> or </em><em>int</em><em> or </em><em>(</em><em>int</em><em>, </em><em>int</em><em>) or </em><em>slice</em><em> or </em><em>list</em><em>[</em><em>int</em><em>] or </em><em>float</em><em> or </em><em>(</em><em>float</em><em>, </em><em>float</em><em>) or </em><em>list</em><em>[</em><em>bool</em><em>]</em>) – <p>Which markers to plot.</p>
<ul class="simple">
<li><p>every=None, every point will be plotted.</p></li>
<li><p>every=N, every N-th marker will be plotted starting with
marker 0.</p></li>
<li><p>every=(start, N), every N-th marker, starting at point
start, will be plotted.</p></li>
<li><p>every=slice(start, end, N), every N-th marker, starting at
point start, up to but not including point end, will be plotted.</p></li>
<li><p>every=[i, j, m, n], only markers at points i, j, m, and n
will be plotted.</p></li>
<li><p>every=[True, False, True], positions that are True will be
plotted.</p></li>
<li><p>every=0.1, (i.e. a float) then markers will be spaced at
approximately equal distances along the line; the distance
along the line between markers is determined by multiplying the
display-coordinate distance of the axes bounding-box diagonal
by the value of every.</p></li>
<li><p>every=(0.5, 0.1) (i.e. a length-2 tuple of float), the same
functionality as every=0.1 is exhibited but the first marker will
be 0.5 multiplied by the display-coordinate-diagonal-distance
along the line.</p></li>
</ul>
<p>For examples see
<span class="xref std std-doc">/gallery/lines_bars_and_markers/markevery_demo</span>.</p>
</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>Setting the markevery property will only show markers at actual data
points.  When using float arguments to set the markevery property
on irregularly spaced data, the markers will likely not appear evenly
spaced because the actual data points do not coincide with the
theoretical spacing between markers.</p>
<p>When using a start offset to specify the first marker, the offset will
be from the first data point which may be different from the first
the visible data point if the plot is zoomed in.</p>
<p>If zooming in on a plot when using float arguments then the actual
data points that have markers will change because the distance between
markers is always determined from the display-coordinates
axes-bounding-box-diagonal regardless of the actual axes data limits.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.Line2D.set_mec">
<span class="sig-name descname"><span class="pre">set_mec</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ec</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.set_mec" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for <cite>set_markeredgecolor</cite>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.Line2D.set_mew">
<span class="sig-name descname"><span class="pre">set_mew</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ew</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.set_mew" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for <cite>set_markeredgewidth</cite>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.Line2D.set_mfc">
<span class="sig-name descname"><span class="pre">set_mfc</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fc</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.set_mfc" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for <cite>set_markerfacecolor</cite>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.Line2D.set_mfcalt">
<span class="sig-name descname"><span class="pre">set_mfcalt</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fc</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.set_mfcalt" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for <cite>set_markerfacecoloralt</cite>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.Line2D.set_ms">
<span class="sig-name descname"><span class="pre">set_ms</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sz</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.set_ms" title="Permalink to this definition">¶</a></dt>
<dd><p>Alias for <cite>set_markersize</cite>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.Line2D.set_picker">
<span class="sig-name descname"><span class="pre">set_picker</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">p</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.set_picker" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the event picker details for the line.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>p</strong> (<em>float</em><em> or </em><em>callable</em><em>[</em><em>[</em><em>Artist</em><em>, </em><em>Event</em><em>]</em><em>, </em><em>tuple</em><em>[</em><em>bool</em><em>, </em><em>dict</em><em>]</em><em>]</em>) – If a float, it is used as the pick radius in points.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.Line2D.set_pickradius">
<span class="sig-name descname"><span class="pre">set_pickradius</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">d</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.set_pickradius" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the pick radius used for containment tests.</p>
<p>See <cite>.contains</cite> for more details.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>d</strong> (<em>float</em>) – Pick radius, in points.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.Line2D.set_solid_capstyle">
<span class="sig-name descname"><span class="pre">set_solid_capstyle</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">s</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.set_solid_capstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>How to draw the end caps if the line is solid (not <cite>~Line2D.is_dashed</cite>)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>s</strong> (<cite>.CapStyle</cite> or {‘butt’, ‘projecting’, ‘round’}) – </p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.Line2D.set_solid_joinstyle">
<span class="sig-name descname"><span class="pre">set_solid_joinstyle</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">s</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.set_solid_joinstyle" title="Permalink to this definition">¶</a></dt>
<dd><p>How to join segments if the line is solid (not <cite>~Line2D.is_dashed</cite>).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>s</strong> (<cite>.JoinStyle</cite> or {‘miter’, ‘round’, ‘bevel’}) – </p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.Line2D.set_transform">
<span class="sig-name descname"><span class="pre">set_transform</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">t</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.set_transform" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the Transformation instance used by this artist.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>t</strong> (<cite>matplotlib.transforms.Transform</cite>) – </p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.Line2D.set_xdata">
<span class="sig-name descname"><span class="pre">set_xdata</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.set_xdata" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the data array for x.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>x</strong> (<em>1D array</em>) – </p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.Line2D.set_ydata">
<span class="sig-name descname"><span class="pre">set_ydata</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">y</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.set_ydata" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the data array for y.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>y</strong> (<em>1D array</em>) – </p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.Line2D.update_from">
<span class="sig-name descname"><span class="pre">update_from</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">other</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Line2D.update_from" title="Permalink to this definition">¶</a></dt>
<dd><p>Copy properties from <em>other</em> to self.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pyspecdata.Line2D.validCap">
<span class="sig-name descname"><span class="pre">validCap</span></span><em class="property"> <span class="pre">=</span> <span class="pre">('butt',</span> <span class="pre">'projecting',</span> <span class="pre">'round')</span></em><a class="headerlink" href="#pyspecdata.Line2D.validCap" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pyspecdata.Line2D.validJoin">
<span class="sig-name descname"><span class="pre">validJoin</span></span><em class="property"> <span class="pre">=</span> <span class="pre">('miter',</span> <span class="pre">'round',</span> <span class="pre">'bevel')</span></em><a class="headerlink" href="#pyspecdata.Line2D.validJoin" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pyspecdata.Line2D.zorder">
<span class="sig-name descname"><span class="pre">zorder</span></span><em class="property"> <span class="pre">=</span> <span class="pre">2</span></em><a class="headerlink" href="#pyspecdata.Line2D.zorder" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pyspecdata.LooseVersion">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">pyspecdata.</span></span><span class="sig-name descname"><span class="pre">LooseVersion</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">vstring</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.LooseVersion" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">distutils.version.Version</span></code></p>
<p>Version numbering for anarchists and software realists.
Implements the standard interface for version number classes as
described above.  A version number consists of a series of numbers,
separated by either periods or strings of letters.  When comparing
version numbers, the numeric components will be compared
numerically, and the alphabetic components lexically.  The following
are all valid version numbers, in no particular order:</p>
<blockquote>
<div><p>1.5.1
1.5.2b2
161
3.10a
8.02
3.4j
1996.07.12
3.2.pl0
3.1.1.6
2g6
11g
0.960923
2.2beta29
1.13++
5.5.kw
2.0b1pl0</p>
</div></blockquote>
<p>In fact, there is no such thing as an invalid version number under
this scheme; the rules for comparison are simple and predictable,
but may not always give the results you want (for some definition
of “want”).</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="pyspecdata.LooseVersion.component_re">
<span class="sig-name descname"><span class="pre">component_re</span></span><em class="property"> <span class="pre">=</span> <span class="pre">re.compile('(\\d+</span> <span class="pre">|</span> <span class="pre">[a-z]+</span> <span class="pre">|</span> <span class="pre">\\.)',</span> <span class="pre">re.VERBOSE)</span></em><a class="headerlink" href="#pyspecdata.LooseVersion.component_re" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.LooseVersion.parse">
<span class="sig-name descname"><span class="pre">parse</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">vstring</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.LooseVersion.parse" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.OLDplot">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.</span></span><span class="sig-name descname"><span class="pre">OLDplot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scalex</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scaley</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.OLDplot" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot y versus x as lines and/or markers.</p>
<p>Call signatures:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">plot</span><span class="p">([</span><span class="n">x</span><span class="p">],</span> <span class="n">y</span><span class="p">,</span> <span class="p">[</span><span class="n">fmt</span><span class="p">],</span> <span class="o">*</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
<span class="n">plot</span><span class="p">([</span><span class="n">x</span><span class="p">],</span> <span class="n">y</span><span class="p">,</span> <span class="p">[</span><span class="n">fmt</span><span class="p">],</span> <span class="p">[</span><span class="n">x2</span><span class="p">],</span> <span class="n">y2</span><span class="p">,</span> <span class="p">[</span><span class="n">fmt2</span><span class="p">],</span> <span class="o">...</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</pre></div>
</div>
<p>The coordinates of the points or line nodes are given by <em>x</em>, <em>y</em>.</p>
<p>The optional parameter <em>fmt</em> is a convenient way for defining basic
formatting like color, marker and linestyle. It’s a shortcut string
notation described in the <em>Notes</em> section below.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>        <span class="c1"># plot x and y using default line style and color</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="s1">&#39;bo&#39;</span><span class="p">)</span>  <span class="c1"># plot x and y using blue circle markers</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plot</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>           <span class="c1"># plot y using x as index array 0..N-1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plot</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="s1">&#39;r+&#39;</span><span class="p">)</span>     <span class="c1"># ditto, but with red plusses</span>
</pre></div>
</div>
<p>You can use <cite>.Line2D</cite> properties as keyword arguments for more
control on the appearance. Line properties and <em>fmt</em> can be mixed.
The following two calls yield identical results:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="s1">&#39;go--&#39;</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">markersize</span><span class="o">=</span><span class="mi">12</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;green&#39;</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;o&#39;</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;dashed&#39;</span><span class="p">,</span>
<span class="gp">... </span>     <span class="n">linewidth</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">markersize</span><span class="o">=</span><span class="mi">12</span><span class="p">)</span>
</pre></div>
</div>
<p>When conflicting with <em>fmt</em>, keyword arguments take precedence.</p>
<p><strong>Plotting labelled data</strong></p>
<p>There’s a convenient way for plotting objects with labelled data (i.e.
data that can be accessed by index <code class="docutils literal notranslate"><span class="pre">obj['y']</span></code>). Instead of giving
the data in <em>x</em> and <em>y</em>, you can provide the object in the <em>data</em>
parameter and just give the labels for <em>x</em> and <em>y</em>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">plot</span><span class="p">(</span><span class="s1">&#39;xlabel&#39;</span><span class="p">,</span> <span class="s1">&#39;ylabel&#39;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">obj</span><span class="p">)</span>
</pre></div>
</div>
<p>All indexable objects are supported. This could e.g. be a <cite>dict</cite>, a
<cite>pandas.DataFrame</cite> or a structured numpy array.</p>
<p><strong>Plotting multiple sets of data</strong></p>
<p>There are various ways to plot multiple sets of data.</p>
<ul>
<li><p>The most straight forward way is just to call <cite>plot</cite> multiple times.
Example:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">plot</span><span class="p">(</span><span class="n">x1</span><span class="p">,</span> <span class="n">y1</span><span class="p">,</span> <span class="s1">&#39;bo&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plot</span><span class="p">(</span><span class="n">x2</span><span class="p">,</span> <span class="n">y2</span><span class="p">,</span> <span class="s1">&#39;go&#39;</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><p>If <em>x</em> and/or <em>y</em> are 2D arrays a separate data set will be drawn
for every column. If both <em>x</em> and <em>y</em> are 2D, they must have the
same shape. If only one of them is 2D with shape (N, m) the other
must have length N and will be used for every data set m.</p>
<p>Example:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
</pre></div>
</div>
<p>is equivalent to:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">y</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]):</span>
<span class="gp">... </span>    <span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">[:,</span> <span class="n">col</span><span class="p">])</span>
</pre></div>
</div>
</li>
<li><p>The third way is to specify multiple sets of <em>[x]</em>, <em>y</em>, <em>[fmt]</em>
groups:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">plot</span><span class="p">(</span><span class="n">x1</span><span class="p">,</span> <span class="n">y1</span><span class="p">,</span> <span class="s1">&#39;g^&#39;</span><span class="p">,</span> <span class="n">x2</span><span class="p">,</span> <span class="n">y2</span><span class="p">,</span> <span class="s1">&#39;g-&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>In this case, any additional keyword argument applies to all
datasets. Also this syntax cannot be combined with the <em>data</em>
parameter.</p>
</li>
</ul>
<p>By default, each line is assigned a different style specified by a
‘style cycle’. The <em>fmt</em> and line property parameters are only
necessary if you want explicit deviations from these defaults.
Alternatively, you can also change the style cycle using
<a href="#id31"><span class="problematic" id="id32">:rc:`axes.prop_cycle`</span></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<em>array-like</em><em> or </em><em>scalar</em>) – <p>The horizontal / vertical coordinates of the data points.
<em>x</em> values are optional and default to <code class="docutils literal notranslate"><span class="pre">range(len(y))</span></code>.</p>
<p>Commonly, these parameters are 1D arrays.</p>
<p>They can also be scalars, or two-dimensional (in that case, the
columns represent separate data sets).</p>
<p>These arguments cannot be passed as keywords.</p>
</p></li>
<li><p><strong>y</strong> (<em>array-like</em><em> or </em><em>scalar</em>) – <p>The horizontal / vertical coordinates of the data points.
<em>x</em> values are optional and default to <code class="docutils literal notranslate"><span class="pre">range(len(y))</span></code>.</p>
<p>Commonly, these parameters are 1D arrays.</p>
<p>They can also be scalars, or two-dimensional (in that case, the
columns represent separate data sets).</p>
<p>These arguments cannot be passed as keywords.</p>
</p></li>
<li><p><strong>fmt</strong> (<em>str</em><em>, </em><em>optional</em>) – <p>A format string, e.g. ‘ro’ for red circles. See the <em>Notes</em>
section for a full description of the format strings.</p>
<p>Format strings are just an abbreviation for quickly setting
basic line properties. All of these and more can also be
controlled by keyword arguments.</p>
<p>This argument cannot be passed as keyword.</p>
</p></li>
<li><p><strong>data</strong> (<em>indexable object</em><em>, </em><em>optional</em>) – <p>An object with labelled data. If given, provide the label names to
plot in <em>x</em> and <em>y</em>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Technically there’s a slight ambiguity in calls where the
second label is a valid <em>fmt</em>. <code class="docutils literal notranslate"><span class="pre">plot('n',</span> <span class="pre">'o',</span> <span class="pre">data=obj)</span></code>
could be <code class="docutils literal notranslate"><span class="pre">plt(x,</span> <span class="pre">y)</span></code> or <code class="docutils literal notranslate"><span class="pre">plt(y,</span> <span class="pre">fmt)</span></code>. In such cases,
the former interpretation is chosen, but a warning is issued.
You may suppress the warning by adding an empty format string
<code class="docutils literal notranslate"><span class="pre">plot('n',</span> <span class="pre">'o',</span> <span class="pre">'',</span> <span class="pre">data=obj)</span></code>.</p>
</div>
</p></li>
<li><p><strong>scalex</strong> (<em>bool</em><em>, </em><em>default: True</em>) – These parameters determine if the view limits are adapted to the
data limits. The values are passed on to <cite>autoscale_view</cite>.</p></li>
<li><p><strong>scaley</strong> (<em>bool</em><em>, </em><em>default: True</em>) – These parameters determine if the view limits are adapted to the
data limits. The values are passed on to <cite>autoscale_view</cite>.</p></li>
<li><p><strong>**kwargs</strong> (<cite>.Line2D</cite> properties, optional) – <p><em>kwargs</em> are used to specify properties like a line label (for
auto legends), linewidth, antialiasing, marker face color.
Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">plot</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="s1">&#39;go-&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;line 1&#39;</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plot</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">9</span><span class="p">],</span> <span class="s1">&#39;rs&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;line 2&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>If you specify multiple lines with one plot call, the kwargs apply
to all those lines. In case the label object is iterable, each
element is used as labels for each set of data.</p>
<p>Here is a list of available <cite>.Line2D</cite> properties:</p>
<p>Properties:
agg_filter: a filter function, which takes a (m, n, 3) float array and a dpi value, and returns a (m, n, 3) array
alpha: scalar or None
animated: bool
antialiased or aa: bool
clip_box: <cite>.Bbox</cite>
clip_on: bool
clip_path: Patch or (Path, Transform) or None
color or c: color
contains: unknown
dash_capstyle: <cite>.CapStyle</cite> or {‘butt’, ‘projecting’, ‘round’}
dash_joinstyle: <cite>.JoinStyle</cite> or {‘miter’, ‘round’, ‘bevel’}
dashes: sequence of floats (on/off ink in points) or (None, None)
data: (2, N) array or two 1D arrays
drawstyle or ds: {‘default’, ‘steps’, ‘steps-pre’, ‘steps-mid’, ‘steps-post’}, default: ‘default’
figure: <cite>.Figure</cite>
fillstyle: {‘full’, ‘left’, ‘right’, ‘bottom’, ‘top’, ‘none’}
gid: str
in_layout: bool
label: object
linestyle or ls: {‘-’, ‘–’, ‘-.’, ‘:’, ‘’, (offset, on-off-seq), …}
linewidth or lw: float
marker: marker style string, <cite>~.path.Path</cite> or <cite>~.markers.MarkerStyle</cite>
markeredgecolor or mec: color
markeredgewidth or mew: float
markerfacecolor or mfc: color
markerfacecoloralt or mfcalt: color
markersize or ms: float
markevery: None or int or (int, int) or slice or list[int] or float or (float, float) or list[bool]
path_effects: <cite>.AbstractPathEffect</cite>
picker: float or callable[[Artist, Event], tuple[bool, dict]]
pickradius: float
rasterized: bool
sketch_params: (scale: float, length: float, randomness: float)
snap: bool or None
solid_capstyle: <cite>.CapStyle</cite> or {‘butt’, ‘projecting’, ‘round’}
solid_joinstyle: <cite>.JoinStyle</cite> or {‘miter’, ‘round’, ‘bevel’}
transform: <cite>matplotlib.transforms.Transform</cite>
url: str
visible: bool
xdata: 1D array
ydata: 1D array
zorder: float</p>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A list of lines representing the plotted data.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list of <cite>.Line2D</cite></p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><code class="xref py py-obj docutils literal notranslate"><span class="pre">scatter</span></code></dt><dd><p>XY scatter plot with markers of varying size and/or color ( sometimes also called bubble chart).</p>
</dd>
</dl>
</div>
<p class="rubric">Notes</p>
<p><strong>Format Strings</strong></p>
<p>A format string consists of a part for color, marker and line:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">fmt</span> <span class="o">=</span> <span class="s1">&#39;[marker][line][color]&#39;</span>
</pre></div>
</div>
<p>Each of them is optional. If not provided, the value from the style
cycle is used. Exception: If <code class="docutils literal notranslate"><span class="pre">line</span></code> is given, but no <code class="docutils literal notranslate"><span class="pre">marker</span></code>,
the data will be a line without markers.</p>
<p>Other combinations such as <code class="docutils literal notranslate"><span class="pre">[color][marker][line]</span></code> are also
supported, but note that their parsing may be ambiguous.</p>
<p><strong>Markers</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 30%" />
<col style="width: 70%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>character</p></th>
<th class="head"><p>description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">'.'</span></code></p></td>
<td><p>point marker</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">','</span></code></p></td>
<td><p>pixel marker</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">'o'</span></code></p></td>
<td><p>circle marker</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">'v'</span></code></p></td>
<td><p>triangle_down marker</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">'^'</span></code></p></td>
<td><p>triangle_up marker</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">'&lt;'</span></code></p></td>
<td><p>triangle_left marker</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">'&gt;'</span></code></p></td>
<td><p>triangle_right marker</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">'1'</span></code></p></td>
<td><p>tri_down marker</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">'2'</span></code></p></td>
<td><p>tri_up marker</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">'3'</span></code></p></td>
<td><p>tri_left marker</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">'4'</span></code></p></td>
<td><p>tri_right marker</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">'8'</span></code></p></td>
<td><p>octagon marker</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">'s'</span></code></p></td>
<td><p>square marker</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">'p'</span></code></p></td>
<td><p>pentagon marker</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">'P'</span></code></p></td>
<td><p>plus (filled) marker</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">'*'</span></code></p></td>
<td><p>star marker</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">'h'</span></code></p></td>
<td><p>hexagon1 marker</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">'H'</span></code></p></td>
<td><p>hexagon2 marker</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">'+'</span></code></p></td>
<td><p>plus marker</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">'x'</span></code></p></td>
<td><p>x marker</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">'X'</span></code></p></td>
<td><p>x (filled) marker</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">'D'</span></code></p></td>
<td><p>diamond marker</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">'d'</span></code></p></td>
<td><p>thin_diamond marker</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">'|'</span></code></p></td>
<td><p>vline marker</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">'_'</span></code></p></td>
<td><p>hline marker</p></td>
</tr>
</tbody>
</table>
<p><strong>Line Styles</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 30%" />
<col style="width: 70%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>character</p></th>
<th class="head"><p>description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">'-'</span></code></p></td>
<td><p>solid line style</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">'--'</span></code></p></td>
<td><p>dashed line style</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">'-.'</span></code></p></td>
<td><p>dash-dot line style</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">':'</span></code></p></td>
<td><p>dotted line style</p></td>
</tr>
</tbody>
</table>
<p>Example format strings:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;b&#39;</span>    <span class="c1"># blue markers with default shape</span>
<span class="s1">&#39;or&#39;</span>   <span class="c1"># red circles</span>
<span class="s1">&#39;-g&#39;</span>   <span class="c1"># green solid line</span>
<span class="s1">&#39;--&#39;</span>   <span class="c1"># dashed line with default color</span>
<span class="s1">&#39;^k:&#39;</span>  <span class="c1"># black triangle_up markers connected by a dotted line</span>
</pre></div>
</div>
<p><strong>Colors</strong></p>
<p>The supported color abbreviations are the single letter codes</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 30%" />
<col style="width: 70%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>character</p></th>
<th class="head"><p>color</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">'b'</span></code></p></td>
<td><p>blue</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">'g'</span></code></p></td>
<td><p>green</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">'r'</span></code></p></td>
<td><p>red</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">'c'</span></code></p></td>
<td><p>cyan</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">'m'</span></code></p></td>
<td><p>magenta</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">'y'</span></code></p></td>
<td><p>yellow</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">'k'</span></code></p></td>
<td><p>black</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">'w'</span></code></p></td>
<td><p>white</p></td>
</tr>
</tbody>
</table>
<p>and the <code class="docutils literal notranslate"><span class="pre">'CN'</span></code> colors that index into the default property cycle.</p>
<p>If the color is the only part of the format string, you can
additionally use any  <cite>matplotlib.colors</cite> spec, e.g. full names
(<code class="docutils literal notranslate"><span class="pre">'green'</span></code>) or hex strings (<code class="docutils literal notranslate"><span class="pre">'#008000'</span></code>).</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pyspecdata.Parameter">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">pyspecdata.</span></span><span class="sig-name descname"><span class="pre">Parameter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kind</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">annotation</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Parameter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Represents a parameter in a function signature.</p>
<p>Has the following public attributes:</p>
<ul class="simple">
<li><dl class="simple">
<dt>name<span class="classifier">str</span></dt><dd><p>The name of the parameter as a string.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>default<span class="classifier">object</span></dt><dd><p>The default value for the parameter if specified.  If the
parameter has no default value, this attribute is set to
<cite>Parameter.empty</cite>.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>annotation</dt><dd><p>The annotation for the parameter if specified.  If the
parameter has no annotation, this attribute is set to
<cite>Parameter.empty</cite>.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>kind<span class="classifier">str</span></dt><dd><p>Describes how argument values are bound to the parameter.
Possible values: <cite>Parameter.POSITIONAL_ONLY</cite>,
<cite>Parameter.POSITIONAL_OR_KEYWORD</cite>, <cite>Parameter.VAR_POSITIONAL</cite>,
<cite>Parameter.KEYWORD_ONLY</cite>, <cite>Parameter.VAR_KEYWORD</cite>.</p>
</dd>
</dl>
</li>
</ul>
<dl class="py attribute">
<dt class="sig sig-object py" id="pyspecdata.Parameter.KEYWORD_ONLY">
<span class="sig-name descname"><span class="pre">KEYWORD_ONLY</span></span><em class="property"> <span class="pre">=</span> <span class="pre">3</span></em><a class="headerlink" href="#pyspecdata.Parameter.KEYWORD_ONLY" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pyspecdata.Parameter.POSITIONAL_ONLY">
<span class="sig-name descname"><span class="pre">POSITIONAL_ONLY</span></span><em class="property"> <span class="pre">=</span> <span class="pre">0</span></em><a class="headerlink" href="#pyspecdata.Parameter.POSITIONAL_ONLY" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pyspecdata.Parameter.POSITIONAL_OR_KEYWORD">
<span class="sig-name descname"><span class="pre">POSITIONAL_OR_KEYWORD</span></span><em class="property"> <span class="pre">=</span> <span class="pre">1</span></em><a class="headerlink" href="#pyspecdata.Parameter.POSITIONAL_OR_KEYWORD" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pyspecdata.Parameter.VAR_KEYWORD">
<span class="sig-name descname"><span class="pre">VAR_KEYWORD</span></span><em class="property"> <span class="pre">=</span> <span class="pre">4</span></em><a class="headerlink" href="#pyspecdata.Parameter.VAR_KEYWORD" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pyspecdata.Parameter.VAR_POSITIONAL">
<span class="sig-name descname"><span class="pre">VAR_POSITIONAL</span></span><em class="property"> <span class="pre">=</span> <span class="pre">2</span></em><a class="headerlink" href="#pyspecdata.Parameter.VAR_POSITIONAL" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="pyspecdata.Parameter.annotation">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">annotation</span></span><a class="headerlink" href="#pyspecdata.Parameter.annotation" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="pyspecdata.Parameter.default">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">default</span></span><a class="headerlink" href="#pyspecdata.Parameter.default" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pyspecdata.Parameter.empty">
<span class="sig-name descname"><span class="pre">empty</span></span><a class="headerlink" href="#pyspecdata.Parameter.empty" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <code class="xref py py-class docutils literal notranslate"><span class="pre">inspect._empty</span></code></p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="pyspecdata.Parameter.kind">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">kind</span></span><a class="headerlink" href="#pyspecdata.Parameter.kind" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="pyspecdata.Parameter.name">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">name</span></span><a class="headerlink" href="#pyspecdata.Parameter.name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.Parameter.replace">
<span class="sig-name descname"><span class="pre">replace</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">*</span></em>, <em class="sig-param"><span class="pre">name=&lt;class</span> <span class="pre">'inspect._void'&gt;</span></em>, <em class="sig-param"><span class="pre">kind=&lt;class</span> <span class="pre">'inspect._void'&gt;</span></em>, <em class="sig-param"><span class="pre">annotation=&lt;class</span> <span class="pre">'inspect._void'&gt;</span></em>, <em class="sig-param"><span class="pre">default=&lt;class</span> <span class="pre">'inspect._void'&gt;</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.Parameter.replace" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a customized copy of the Parameter.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pyspecdata.PolyCollection">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">pyspecdata.</span></span><span class="sig-name descname"><span class="pre">PolyCollection</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">verts</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sizes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">closed</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.PolyCollection" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">matplotlib.collections._CollectionWithSizes</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.PolyCollection.set_paths">
<span class="sig-name descname"><span class="pre">set_paths</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">verts</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">closed</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.PolyCollection.set_paths" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the vertices of the polygons.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>verts</strong> (<em>list of array-like</em>) – The sequence of polygons [<em>verts0</em>, <em>verts1</em>, …] where each
element <em>verts_i</em> defines the vertices of polygon <em>i</em> as a 2D
array-like of shape (M, 2).</p></li>
<li><p><strong>closed</strong> (<em>bool</em><em>, </em><em>default: True</em>) – Whether the polygon should be closed by adding a CLOSEPOLY
connection at the end.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.PolyCollection.set_verts">
<span class="sig-name descname"><span class="pre">set_verts</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">verts</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">closed</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.PolyCollection.set_verts" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the vertices of the polygons.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>verts</strong> (<em>list of array-like</em>) – The sequence of polygons [<em>verts0</em>, <em>verts1</em>, …] where each
element <em>verts_i</em> defines the vertices of polygon <em>i</em> as a 2D
array-like of shape (M, 2).</p></li>
<li><p><strong>closed</strong> (<em>bool</em><em>, </em><em>default: True</em>) – Whether the polygon should be closed by adding a CLOSEPOLY
connection at the end.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.PolyCollection.set_verts_and_codes">
<span class="sig-name descname"><span class="pre">set_verts_and_codes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">verts</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">codes</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.PolyCollection.set_verts_and_codes" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize vertices with path codes.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pyspecdata.UnivariateSpline">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">pyspecdata.</span></span><span class="sig-name descname"><span class="pre">UnivariateSpline</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">w</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bbox</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[None,</span> <span class="pre">None]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">3</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">s</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ext</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">check_finite</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.UnivariateSpline" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>1-D smoothing spline fit to a given set of data points.</p>
<p>Fits a spline y = spl(x) of degree <cite>k</cite> to the provided <cite>x</cite>, <cite>y</cite> data.  <cite>s</cite>
specifies the number of knots by specifying a smoothing condition.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<em>(</em><em>N</em><em>,</em><em>) </em><em>array_like</em>) – 1-D array of independent input data. Must be increasing;
must be strictly increasing if <cite>s</cite> is 0.</p></li>
<li><p><strong>y</strong> (<em>(</em><em>N</em><em>,</em><em>) </em><em>array_like</em>) – 1-D array of dependent input data, of the same length as <cite>x</cite>.</p></li>
<li><p><strong>w</strong> (<em>(</em><em>N</em><em>,</em><em>) </em><em>array_like</em><em>, </em><em>optional</em>) – Weights for spline fitting.  Must be positive.  If <cite>w</cite> is None,
weights are all equal. Default is None.</p></li>
<li><p><strong>bbox</strong> (<em>(</em><em>2</em><em>,</em><em>) </em><em>array_like</em><em>, </em><em>optional</em>) – 2-sequence specifying the boundary of the approximation interval. If
<cite>bbox</cite> is None, <code class="docutils literal notranslate"><span class="pre">bbox=[x[0],</span> <span class="pre">x[-1]]</span></code>. Default is None.</p></li>
<li><p><strong>k</strong> (<em>int</em><em>, </em><em>optional</em>) – Degree of the smoothing spline.  Must be 1 &lt;= <cite>k</cite> &lt;= 5.
<code class="docutils literal notranslate"><span class="pre">k</span> <span class="pre">=</span> <span class="pre">3</span></code> is a cubic spline. Default is 3.</p></li>
<li><p><strong>s</strong> (<em>float</em><em> or </em><em>None</em><em>, </em><em>optional</em>) – <p>Positive smoothing factor used to choose the number of knots.  Number
of knots will be increased until the smoothing condition is satisfied:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">sum</span><span class="p">((</span><span class="n">w</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">*</span> <span class="p">(</span><span class="n">y</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">-</span><span class="n">spl</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="n">i</span><span class="p">])))</span><span class="o">**</span><span class="mi">2</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="n">s</span>
</pre></div>
</div>
<p>If <cite>s</cite> is None, <code class="docutils literal notranslate"><span class="pre">s</span> <span class="pre">=</span> <span class="pre">len(w)</span></code> which should be a good value if
<code class="docutils literal notranslate"><span class="pre">1/w[i]</span></code> is an estimate of the standard deviation of <code class="docutils literal notranslate"><span class="pre">y[i]</span></code>.
If 0, spline will interpolate through all data points. Default is None.</p>
</p></li>
<li><p><strong>ext</strong> (<em>int</em><em> or </em><em>str</em><em>, </em><em>optional</em>) – <p>Controls the extrapolation mode for elements
not in the interval defined by the knot sequence.</p>
<ul>
<li><p>if ext=0 or ‘extrapolate’, return the extrapolated value.</p></li>
<li><p>if ext=1 or ‘zeros’, return 0</p></li>
<li><p>if ext=2 or ‘raise’, raise a ValueError</p></li>
<li><p>if ext=3 of ‘const’, return the boundary value.</p></li>
</ul>
<p>Default is 0.</p>
</p></li>
<li><p><strong>check_finite</strong> (<em>bool</em><em>, </em><em>optional</em>) – Whether to check that the input arrays contain only finite numbers.
Disabling may give a performance gain, but may result in problems
(crashes, non-termination or non-sensical results) if the inputs
do contain infinities or NaNs.
Default is False.</p></li>
</ul>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><code class="xref py py-obj docutils literal notranslate"><span class="pre">BivariateSpline</span></code></dt><dd><p>a base class for bivariate splines.</p>
</dd>
<dt><code class="xref py py-obj docutils literal notranslate"><span class="pre">SmoothBivariateSpline</span></code></dt><dd><p>a smoothing bivariate spline through the given points</p>
</dd>
<dt><code class="xref py py-obj docutils literal notranslate"><span class="pre">LSQBivariateSpline</span></code></dt><dd><p>a bivariate spline using weighted least-squares fitting</p>
</dd>
<dt><code class="xref py py-obj docutils literal notranslate"><span class="pre">RectSphereBivariateSpline</span></code></dt><dd><p>a bivariate spline over a rectangular mesh on a sphere</p>
</dd>
<dt><code class="xref py py-obj docutils literal notranslate"><span class="pre">SmoothSphereBivariateSpline</span></code></dt><dd><p>a smoothing bivariate spline in spherical coordinates</p>
</dd>
<dt><code class="xref py py-obj docutils literal notranslate"><span class="pre">LSQSphereBivariateSpline</span></code></dt><dd><p>a bivariate spline in spherical coordinates using weighted least-squares fitting</p>
</dd>
<dt><code class="xref py py-obj docutils literal notranslate"><span class="pre">RectBivariateSpline</span></code></dt><dd><p>a bivariate spline over a rectangular mesh</p>
</dd>
<dt><code class="xref py py-obj docutils literal notranslate"><span class="pre">InterpolatedUnivariateSpline</span></code></dt><dd><p>a interpolating univariate spline for a given set of data points.</p>
</dd>
<dt><code class="xref py py-obj docutils literal notranslate"><span class="pre">bisplrep</span></code></dt><dd><p>a function to find a bivariate B-spline representation of a surface</p>
</dd>
<dt><code class="xref py py-obj docutils literal notranslate"><span class="pre">bisplev</span></code></dt><dd><p>a function to evaluate a bivariate B-spline and its derivatives</p>
</dd>
<dt><code class="xref py py-obj docutils literal notranslate"><span class="pre">splrep</span></code></dt><dd><p>a function to find the B-spline representation of a 1-D curve</p>
</dd>
<dt><code class="xref py py-obj docutils literal notranslate"><span class="pre">splev</span></code></dt><dd><p>a function to evaluate a B-spline or its derivatives</p>
</dd>
<dt><code class="xref py py-obj docutils literal notranslate"><span class="pre">sproot</span></code></dt><dd><p>a function to find the roots of a cubic B-spline</p>
</dd>
<dt><code class="xref py py-obj docutils literal notranslate"><span class="pre">splint</span></code></dt><dd><p>a function to evaluate the definite integral of a B-spline between two given points</p>
</dd>
<dt><code class="xref py py-obj docutils literal notranslate"><span class="pre">spalde</span></code></dt><dd><p>a function to evaluate all derivatives of a B-spline</p>
</dd>
</dl>
</div>
<p class="rubric">Notes</p>
<p>The number of data points must be larger than the spline degree <cite>k</cite>.</p>
<p><strong>NaN handling</strong>: If the input arrays contain <code class="docutils literal notranslate"><span class="pre">nan</span></code> values, the result
is not useful, since the underlying spline fitting routines cannot deal
with <code class="docutils literal notranslate"><span class="pre">nan</span></code>. A workaround is to use zero weights for not-a-number
data points:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">scipy.interpolate</span> <span class="kn">import</span> <span class="n">UnivariateSpline</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]),</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">w</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">isnan</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">y</span><span class="p">[</span><span class="n">w</span><span class="p">]</span> <span class="o">=</span> <span class="mf">0.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">spl</span> <span class="o">=</span> <span class="n">UnivariateSpline</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">w</span><span class="o">=~</span><span class="n">w</span><span class="p">)</span>
</pre></div>
</div>
<p>Notice the need to replace a <code class="docutils literal notranslate"><span class="pre">nan</span></code> by a numerical value (precise value
does not matter as long as the corresponding weight is zero.)</p>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">scipy.interpolate</span> <span class="kn">import</span> <span class="n">UnivariateSpline</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rng</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">default_rng</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="o">-</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">50</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="o">-</span><span class="n">x</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span> <span class="o">+</span> <span class="mf">0.1</span> <span class="o">*</span> <span class="n">rng</span><span class="o">.</span><span class="n">standard_normal</span><span class="p">(</span><span class="mi">50</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="s1">&#39;ro&#39;</span><span class="p">,</span> <span class="n">ms</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
</pre></div>
</div>
<p>Use the default value for the smoothing parameter:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">spl</span> <span class="o">=</span> <span class="n">UnivariateSpline</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">xs</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="o">-</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">xs</span><span class="p">,</span> <span class="n">spl</span><span class="p">(</span><span class="n">xs</span><span class="p">),</span> <span class="s1">&#39;g&#39;</span><span class="p">,</span> <span class="n">lw</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>
<p>Manually change the amount of smoothing:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">spl</span><span class="o">.</span><span class="n">set_smoothing_factor</span><span class="p">(</span><span class="mf">0.5</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">xs</span><span class="p">,</span> <span class="n">spl</span><span class="p">(</span><span class="n">xs</span><span class="p">),</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="n">lw</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.UnivariateSpline.antiderivative">
<span class="sig-name descname"><span class="pre">antiderivative</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">n</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.UnivariateSpline.antiderivative" title="Permalink to this definition">¶</a></dt>
<dd><p>Construct a new spline representing the antiderivative of this spline.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>n</strong> (<em>int</em><em>, </em><em>optional</em>) – Order of antiderivative to evaluate. Default: 1</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>spline</strong> – Spline of order k2=k+n representing the antiderivative of this
spline.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#pyspecdata.UnivariateSpline" title="pyspecdata.UnivariateSpline">UnivariateSpline</a></p>
</dd>
</dl>
<p class="rubric">Notes</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 0.13.0.</span></p>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><code class="xref py py-obj docutils literal notranslate"><span class="pre">splantider</span></code>, <a class="reference internal" href="#pyspecdata.UnivariateSpline.derivative" title="pyspecdata.UnivariateSpline.derivative"><code class="xref py py-obj docutils literal notranslate"><span class="pre">derivative</span></code></a></p>
</div>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">scipy.interpolate</span> <span class="kn">import</span> <span class="n">UnivariateSpline</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span> <span class="mi">70</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">y</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">/</span> <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="mf">0.8</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">spl</span> <span class="o">=</span> <span class="n">UnivariateSpline</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">s</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
<p>The derivative is the inverse operation of the antiderivative,
although some floating point error accumulates:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">spl</span><span class="p">(</span><span class="mf">1.7</span><span class="p">),</span> <span class="n">spl</span><span class="o">.</span><span class="n">antiderivative</span><span class="p">()</span><span class="o">.</span><span class="n">derivative</span><span class="p">()(</span><span class="mf">1.7</span><span class="p">)</span>
<span class="go">(array(2.1565429877197317), array(2.1565429877201865))</span>
</pre></div>
</div>
<p>Antiderivative can be used to evaluate definite integrals:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ispl</span> <span class="o">=</span> <span class="n">spl</span><span class="o">.</span><span class="n">antiderivative</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ispl</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span> <span class="o">-</span> <span class="n">ispl</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="go">2.2572053588768486</span>
</pre></div>
</div>
<p>This is indeed an approximation to the complete elliptic integral
<span class="math notranslate nohighlight">\(K(m) = \int_0^{\pi/2} [1 - m\sin^2 x]^{-1/2} dx\)</span>:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">scipy.special</span> <span class="kn">import</span> <span class="n">ellipk</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ellipk</span><span class="p">(</span><span class="mf">0.8</span><span class="p">)</span>
<span class="go">2.2572053268208538</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.UnivariateSpline.derivative">
<span class="sig-name descname"><span class="pre">derivative</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">n</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.UnivariateSpline.derivative" title="Permalink to this definition">¶</a></dt>
<dd><p>Construct a new spline representing the derivative of this spline.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>n</strong> (<em>int</em><em>, </em><em>optional</em>) – Order of derivative to evaluate. Default: 1</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>spline</strong> – Spline of order k2=k-n representing the derivative of this
spline.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#pyspecdata.UnivariateSpline" title="pyspecdata.UnivariateSpline">UnivariateSpline</a></p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><code class="xref py py-obj docutils literal notranslate"><span class="pre">splder</span></code>, <a class="reference internal" href="#pyspecdata.UnivariateSpline.antiderivative" title="pyspecdata.UnivariateSpline.antiderivative"><code class="xref py py-obj docutils literal notranslate"><span class="pre">antiderivative</span></code></a></p>
</div>
<p class="rubric">Notes</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 0.13.0.</span></p>
</div>
<p class="rubric">Examples</p>
<p>This can be used for finding maxima of a curve:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">scipy.interpolate</span> <span class="kn">import</span> <span class="n">UnivariateSpline</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">70</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">spl</span> <span class="o">=</span> <span class="n">UnivariateSpline</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">k</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">s</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
<p>Now, differentiate the spline and find the zeros of the
derivative. (NB: <cite>sproot</cite> only works for order 3 splines, so we
fit an order 4 spline):</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">spl</span><span class="o">.</span><span class="n">derivative</span><span class="p">()</span><span class="o">.</span><span class="n">roots</span><span class="p">()</span> <span class="o">/</span> <span class="n">np</span><span class="o">.</span><span class="n">pi</span>
<span class="go">array([ 0.50000001,  1.5       ,  2.49999998])</span>
</pre></div>
</div>
<p>This agrees well with roots <span class="math notranslate nohighlight">\(\pi/2 + n\pi\)</span> of
<span class="math notranslate nohighlight">\(\cos(x) = \sin'(x)\)</span>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.UnivariateSpline.derivatives">
<span class="sig-name descname"><span class="pre">derivatives</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.UnivariateSpline.derivatives" title="Permalink to this definition">¶</a></dt>
<dd><p>Return all derivatives of the spline at the point x.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>x</strong> (<em>float</em>) – The point to evaluate the derivatives at.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>der</strong> – Derivatives of the orders 0 to k.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>ndarray, shape(k+1,)</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">scipy.interpolate</span> <span class="kn">import</span> <span class="n">UnivariateSpline</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">11</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">y</span> <span class="o">=</span> <span class="n">x</span><span class="o">**</span><span class="mi">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">spl</span> <span class="o">=</span> <span class="n">UnivariateSpline</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">spl</span><span class="o">.</span><span class="n">derivatives</span><span class="p">(</span><span class="mf">1.5</span><span class="p">)</span>
<span class="go">array([2.25, 3.0, 2.0, 0])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.UnivariateSpline.get_coeffs">
<span class="sig-name descname"><span class="pre">get_coeffs</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.UnivariateSpline.get_coeffs" title="Permalink to this definition">¶</a></dt>
<dd><p>Return spline coefficients.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.UnivariateSpline.get_knots">
<span class="sig-name descname"><span class="pre">get_knots</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.UnivariateSpline.get_knots" title="Permalink to this definition">¶</a></dt>
<dd><p>Return positions of interior knots of the spline.</p>
<p>Internally, the knot vector contains <code class="docutils literal notranslate"><span class="pre">2*k</span></code> additional boundary knots.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.UnivariateSpline.get_residual">
<span class="sig-name descname"><span class="pre">get_residual</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.UnivariateSpline.get_residual" title="Permalink to this definition">¶</a></dt>
<dd><p>Return weighted sum of squared residuals of the spline approximation.</p>
<p>This is equivalent to:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">sum</span><span class="p">((</span><span class="n">w</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">*</span> <span class="p">(</span><span class="n">y</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">-</span><span class="n">spl</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="n">i</span><span class="p">])))</span><span class="o">**</span><span class="mi">2</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.UnivariateSpline.integral">
<span class="sig-name descname"><span class="pre">integral</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">a</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">b</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.UnivariateSpline.integral" title="Permalink to this definition">¶</a></dt>
<dd><p>Return definite integral of the spline between two given points.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>a</strong> (<em>float</em>) – Lower limit of integration.</p></li>
<li><p><strong>b</strong> (<em>float</em>) – Upper limit of integration.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>integral</strong> – The value of the definite integral of the spline between limits.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">scipy.interpolate</span> <span class="kn">import</span> <span class="n">UnivariateSpline</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">11</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">y</span> <span class="o">=</span> <span class="n">x</span><span class="o">**</span><span class="mi">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">spl</span> <span class="o">=</span> <span class="n">UnivariateSpline</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">spl</span><span class="o">.</span><span class="n">integral</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="go">9.0</span>
</pre></div>
</div>
<p>which agrees with <span class="math notranslate nohighlight">\(\int x^2 dx = x^3 / 3\)</span> between the limits
of 0 and 3.</p>
<p>A caveat is that this routine assumes the spline to be zero outside of
the data limits:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">spl</span><span class="o">.</span><span class="n">integral</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
<span class="go">9.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">spl</span><span class="o">.</span><span class="n">integral</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="go">0.0</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.UnivariateSpline.roots">
<span class="sig-name descname"><span class="pre">roots</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.UnivariateSpline.roots" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the zeros of the spline.</p>
<p>Restriction: only cubic splines are supported by fitpack.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.UnivariateSpline.set_smoothing_factor">
<span class="sig-name descname"><span class="pre">set_smoothing_factor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">s</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.UnivariateSpline.set_smoothing_factor" title="Permalink to this definition">¶</a></dt>
<dd><p>Continue spline computation with the given smoothing
factor s and with the knots found at the last call.</p>
<p>This routine modifies the spline in place.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.UnivariateSpline.validate_input">
<em class="property"><span class="pre">static</span> </em><span class="sig-name descname"><span class="pre">validate_input</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">w</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bbox</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">s</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ext</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">check_finite</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.UnivariateSpline.validate_input" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.addlabels">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.</span></span><span class="sig-name descname"><span class="pre">addlabels</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">labelstring</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">labels</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.addlabels" title="Permalink to this definition">¶</a></dt>
<dd><p>obsolete – use plot_label_points</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.apply_oom">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.</span></span><span class="sig-name descname"><span class="pre">apply_oom</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">average_oom</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">numbers</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prev_label</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.apply_oom" title="Permalink to this definition">¶</a></dt>
<dd><p>scale numbers by the order of magnitude average_oom and change the
name of the units by adding the appropriate SI prefix</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>average_oom</strong> (<em>int</em><em> or </em><em>float</em>) – the average order of magnitude to use</p></li>
<li><p><strong>numbers</strong> (<em>np.ndarray</em>) – The numbers to be scaled by average_oom.
The np.array is modified in-place.</p></li>
<li><p><strong>prev_label</strong> (<em>str</em>) – a string representing the units</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>new_label</strong> – prev_label is prefixed by the appropriate SI prefix</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.applyto_rec">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.</span></span><span class="sig-name descname"><span class="pre">applyto_rec</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">myfunc</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">myarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mylist</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.applyto_rec" title="Permalink to this definition">¶</a></dt>
<dd><p>apply myfunc to myarray with the intention of collapsing it to a smaller number of values</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.autolegend">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.</span></span><span class="sig-name descname"><span class="pre">autolegend</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.autolegend" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.autopad_figure">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.</span></span><span class="sig-name descname"><span class="pre">autopad_figure</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pad</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">centered</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">figname</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'unknown'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.autopad_figure" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.autostringconvert">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.</span></span><span class="sig-name descname"><span class="pre">autostringconvert</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">arg</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.autostringconvert" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.balance_clims">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.</span></span><span class="sig-name descname"><span class="pre">balance_clims</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.balance_clims" title="Permalink to this definition">¶</a></dt>
<dd><p>works with matplotlib to generate a plot
appropriate for positive and negative
from here:</p>
<blockquote>
<div><p><a class="reference external" href="https://stackoverflow.com/questions/13060450/how-to-get-current-plots-clim-in-matplotlib">https://stackoverflow.com/questions/13060450/how-to-get-current-plots-clim-in-matplotlib</a></p>
</div></blockquote>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.box_muller">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.</span></span><span class="sig-name descname"><span class="pre">box_muller</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">length</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_complex</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.box_muller" title="Permalink to this definition">¶</a></dt>
<dd><p>algorithm to generate normally distributed noise</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.bruker_dir">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.</span></span><span class="sig-name descname"><span class="pre">bruker_dir</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">search_string</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exp_type</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.bruker_dir" title="Permalink to this definition">¶</a></dt>
<dd><p>A generator that returns a 3-tuple of dirname, expno, and dataset for a directory</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.bruker_load_t1_axis">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.</span></span><span class="sig-name descname"><span class="pre">bruker_load_t1_axis</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.bruker_load_t1_axis" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.bruker_load_title">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.</span></span><span class="sig-name descname"><span class="pre">bruker_load_title</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.bruker_load_title" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.check_ascending_axis">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.</span></span><span class="sig-name descname"><span class="pre">check_ascending_axis</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">u</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tolerance</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1e-07</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">additional_message</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">allow_descending</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.check_ascending_axis" title="Permalink to this definition">¶</a></dt>
<dd><p>Check that the array <cite>u</cite> is ascending and equally spaced, and return the
spacing, <cite>du</cite>.  This is a common check needed for FT functions, shears,
etc.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tolerance</strong> (<em>double</em>) – The relative variation in <cite>du</cite> that is allowed.
Defaults to 1e-7.</p></li>
<li><p><strong>additional_message</strong> (<em>str</em>) – So that the user can easily figure out where the assertion error is
coming from, supply some extra text for the respective message.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>du</strong> – the spacing between the elements of u</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>double</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.colormap">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.</span></span><span class="sig-name descname"><span class="pre">colormap</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">points</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">colors</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">256</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.colormap" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.complex_str">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.</span></span><span class="sig-name descname"><span class="pre">complex_str</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">arg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fancy_format</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">format_code</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'%.4g'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.complex_str" title="Permalink to this definition">¶</a></dt>
<dd><p>render a complex string – leaving out imaginary if it’s real</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.concat">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.</span></span><span class="sig-name descname"><span class="pre">concat</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">datalist</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dimname</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">chop</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.concat" title="Permalink to this definition">¶</a></dt>
<dd><p>concatenate multiple datasets together along a new dimension.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>datalist</strong> (<em>list of nddata</em>) – the data you want to concatenate – they must have the same ndshape!</p></li>
<li><p><strong>dimname</strong> (<em>str</em>) – name of the new dimension</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.contour_plot">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.</span></span><span class="sig-name descname"><span class="pre">contour_plot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">xvals</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">yvals</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">zvals</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">color</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'k'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">alpha</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">npts</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">300</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.contour_plot" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.copy_maybe_none">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.</span></span><span class="sig-name descname"><span class="pre">copy_maybe_none</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">input</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.copy_maybe_none" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.cw">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.</span></span><span class="sig-name descname"><span class="pre">cw</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.cw" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.decorate_rec">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.</span></span><span class="sig-name descname"><span class="pre">decorate_rec</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">xxx_todo_changeme2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xxx_todo_changeme3</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">drop_rows</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.decorate_rec" title="Permalink to this definition">¶</a></dt>
<dd><p>Decorate the rows in A with information in B –&gt; if names overlap,
keep the np.ones in A
b_ind and a_ind can be either a single key, or a list of keys;
if more than one element in B matches that in A, include both options!!</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.deepcopy">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.</span></span><span class="sig-name descname"><span class="pre">deepcopy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">memo</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_nil</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.deepcopy" title="Permalink to this definition">¶</a></dt>
<dd><p>Deep copy operation on arbitrary Python objects.</p>
<p>See the module’s __doc__ string for more info.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.det_oom">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.</span></span><span class="sig-name descname"><span class="pre">det_oom</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data_to_test</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.det_oom" title="Permalink to this definition">¶</a></dt>
<dd><p>determine the average order of magnitude – for prefixing units</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>data_to_test</strong> (<em>ndarray</em>) – a numpy array (e.g. the result of a .getaxis( call</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>average_oom</strong> – the average order of magnitude, rounded to the nearest multiple of 3</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.dp">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.</span></span><span class="sig-name descname"><span class="pre">dp</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">number</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">decimalplaces</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scientific</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_front</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">3</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.dp" title="Permalink to this definition">¶</a></dt>
<dd><p>format out to a certain decimal places, potentially in scientific notation</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>decimalplaces</strong> (<em>int</em><em> (</em><em>optional</em><em>, </em><em>default 3</em><em>)</em>) – number of decimal places</p></li>
<li><p><strong>scientific</strong> (<em>boolean</em><em> (</em><em>optional</em><em>, </em><em>default False</em><em>)</em>) – use scientific notation</p></li>
<li><p><strong>max_front</strong> (<em>int</em><em> (</em><em>optional</em><em>, </em><em>default 3</em><em>)</em>) – at most this many places in front of the decimal before switching
automatically to scientific notation.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.drop_fields">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.</span></span><span class="sig-name descname"><span class="pre">drop_fields</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">base</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">drop_names</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">usemask</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">asrecarray</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.drop_fields" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a new array with fields in <cite>drop_names</cite> dropped.</p>
<p>Nested fields are supported.</p>
<div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 1.18.0: </span><cite>drop_fields</cite> returns an array with 0 fields if all fields are dropped,
rather than returning <code class="docutils literal notranslate"><span class="pre">None</span></code> as it did previously.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>base</strong> (<em>array</em>) – Input array</p></li>
<li><p><strong>drop_names</strong> (<em>string</em><em> or </em><em>sequence</em>) – String or sequence of strings corresponding to the names of the
fields to drop.</p></li>
<li><p><strong>usemask</strong> (<em>{False</em><em>, </em><em>True}</em><em>, </em><em>optional</em>) – Whether to return a masked array or not.</p></li>
<li><p><strong>asrecarray</strong> (<em>string</em><em> or </em><em>sequence</em><em>, </em><em>optional</em>) – Whether to return a recarray or a mrecarray (<cite>asrecarray=True</cite>) or
a plain ndarray or masked array with flexible dtype. The default
is False.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">numpy.lib</span> <span class="kn">import</span> <span class="n">recfunctions</span> <span class="k">as</span> <span class="n">rfn</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([(</span><span class="mi">1</span><span class="p">,</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">)),</span> <span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mf">6.0</span><span class="p">))],</span>
<span class="gp">... </span>  <span class="n">dtype</span><span class="o">=</span><span class="p">[(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">int64</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="p">[(</span><span class="s1">&#39;ba&#39;</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">double</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;bb&#39;</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">int64</span><span class="p">)])])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rfn</span><span class="o">.</span><span class="n">drop_fields</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">)</span>
<span class="go">array([((2., 3),), ((5., 6),)],</span>
<span class="go">      dtype=[(&#39;b&#39;, [(&#39;ba&#39;, &#39;&lt;f8&#39;), (&#39;bb&#39;, &#39;&lt;i8&#39;)])])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rfn</span><span class="o">.</span><span class="n">drop_fields</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="s1">&#39;ba&#39;</span><span class="p">)</span>
<span class="go">array([(1, (3,)), (4, (6,))], dtype=[(&#39;a&#39;, &#39;&lt;i8&#39;), (&#39;b&#39;, [(&#39;bb&#39;, &#39;&lt;i8&#39;)])])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rfn</span><span class="o">.</span><span class="n">drop_fields</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;ba&#39;</span><span class="p">,</span> <span class="s1">&#39;bb&#39;</span><span class="p">])</span>
<span class="go">array([(1,), (4,)], dtype=[(&#39;a&#39;, &#39;&lt;i8&#39;)])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.emptyfunction">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.</span></span><span class="sig-name descname"><span class="pre">emptyfunction</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.emptyfunction" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.emptytest">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.</span></span><span class="sig-name descname"><span class="pre">emptytest</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.emptytest" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.exc_info">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.</span></span><span class="sig-name descname"><span class="pre">exc_info</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.exc_info" title="Permalink to this definition">¶</a></dt>
<dd><p>Return current exception information: (type, value, traceback).</p>
<p>Return information about the most recent exception caught by an except
clause in the current stack frame or in an older stack frame.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.expand_x">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.</span></span><span class="sig-name descname"><span class="pre">expand_x</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.expand_x" title="Permalink to this definition">¶</a></dt>
<dd><p>expand the axes.  If an argument is passed, then it refers to the position relative to the current coordinates.  Values can be:
:0: set this side of the axis to 0
:None: leave this side of the axis alone
:a double: rescale the distance from the center of the axis to this side by this number</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.expand_y">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.</span></span><span class="sig-name descname"><span class="pre">expand_y</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.expand_y" title="Permalink to this definition">¶</a></dt>
<dd><p>expand the axes.  If an argument is passed, then it refers to the position relative to the current coordinates.  Values can be:
:0: set this side of the axis to 0
:None: leave this side of the axis alone
:a double: rescale the distance from the center of the axis to this side by this number</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.explain_error">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.</span></span><span class="sig-name descname"><span class="pre">explain_error</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">e</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.explain_error" title="Permalink to this definition">¶</a></dt>
<dd><p>Allows you to wrap existing errors with more explanation</p>
<blockquote>
<div><p>For example:</p>
<p>&gt;    except BaseException  as e:
&gt;        raise IndexError(“I can’t find the node “+pathstring+explain_error(e))
&gt;                + ‘</p>
</div></blockquote>
<p>‘.join([’&gt;      ‘+j for j in str(e).split(’
‘)]))# this indents</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.fa">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.</span></span><span class="sig-name descname"><span class="pre">fa</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">input</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dtype</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'complex128'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fa" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.fake_data">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.</span></span><span class="sig-name descname"><span class="pre">fake_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">expression,</span> <span class="pre">axis_coords,</span> <span class="pre">signal_pathway,</span> <span class="pre">direct='t2',</span> <span class="pre">SD_sigma=[0.05,</span> <span class="pre">0.003],</span> <span class="pre">SD_amp=[1,</span> <span class="pre">5],</span> <span class="pre">scale=100,</span> <span class="pre">fake_data_noise_std=1.0,</span> <span class="pre">fl=&lt;class</span> <span class="pre">'pyspecdata.fl_dummy.fl_dummy_class'&gt;</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fake_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate fake data subject to noise and frequency variation.</p>
<p>This includes a variation of the resonance frequency.  The user can adjust the scale and the timescale of the frequency variation, which is modeled by way of spectral density function that describes the random fluctuation of the resonance frequency.  (To avoid confusion, note that this spectral density function does NOT control the noise voltage, which is given by a standard normal distribution of constant variation.)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>expression</strong> (<em>sympy expression</em>) – Gives the functional form of the data.</p></li>
<li><p><strong>axis_coords</strong> (<em>OrderedDict</em>) – <p>Gives nddata objects providing all the axis coordinates.
<strong>Very importantly</strong>, these must be listed in the loop nesting order
(outside in) in which they occur in the pulse program,
or the frequency drift will not be modeled correctly.</p>
<p>To enable <em>simulating echo-like data</em>, you can specify a direct axis
that starts at a negative number.
If you do this, the beginning of the axis will be re-set to 0 before returning.</p>
</p></li>
<li><p><strong>SD_sigma</strong> (<em>list of floats</em>) – <p>Gives the Gaussian σ for the spectral density of the
time-dependent variation of the resonance frequency.
Typically, there are more than one gaussian terms used to
create the spectral density.</p>
<p>A small σ gives rise to slow fluctuations while a large σ
gives rise to fast fluctuations.
The units of σ are in cycles per scan.</p>
</p></li>
<li><p><strong>SD_amp</strong> (<em>list of floats</em>) – Amplitudes associated with SD_sigma terms – must be the
same length.</p></li>
<li><p><strong>signal_pathway</strong> (<em>dict</em>) – Gives the signal pathway, with keys being phase cycling dimensions, and
values being the corresponding Δp.</p></li>
<li><p><strong>scale</strong> (<em>float</em><em> (</em><em>default 100</em><em>)</em>) – amplitude of frequency variation</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.fftconvolve">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.</span></span><span class="sig-name descname"><span class="pre">fftconvolve</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">in1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">in2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'full'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">axes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fftconvolve" title="Permalink to this definition">¶</a></dt>
<dd><p>Convolve two N-dimensional arrays using FFT.</p>
<p>Convolve <cite>in1</cite> and <cite>in2</cite> using the fast Fourier transform method, with
the output size determined by the <cite>mode</cite> argument.</p>
<p>This is generally much faster than <cite>convolve</cite> for large arrays (n &gt; ~500),
but can be slower when only a few output values are needed, and can only
output float arrays (int or object array inputs will be cast to float).</p>
<p>As of v0.19, <cite>convolve</cite> automatically chooses this method or the direct
method based on an estimation of which is faster.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>in1</strong> (<em>array_like</em>) – First input.</p></li>
<li><p><strong>in2</strong> (<em>array_like</em>) – Second input. Should have the same number of dimensions as <cite>in1</cite>.</p></li>
<li><p><strong>mode</strong> (<em>str {'full'</em><em>, </em><em>'valid'</em><em>, </em><em>'same'}</em><em>, </em><em>optional</em>) – <p>A string indicating the size of the output:</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">full</span></code></dt><dd><p>The output is the full discrete linear convolution
of the inputs. (Default)</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">valid</span></code></dt><dd><p>The output consists only of those elements that do not
rely on the zero-padding. In ‘valid’ mode, either <cite>in1</cite> or <cite>in2</cite>
must be at least as large as the other in every dimension.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">same</span></code></dt><dd><p>The output is the same size as <cite>in1</cite>, centered
with respect to the ‘full’ output.</p>
</dd>
</dl>
</p></li>
<li><p><strong>axes</strong> (<em>int</em><em> or </em><em>array_like of ints</em><em> or </em><em>None</em><em>, </em><em>optional</em>) – Axes over which to compute the convolution.
The default is over all axes.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>out</strong> – An N-dimensional array containing a subset of the discrete linear
convolution of <cite>in1</cite> with <cite>in2</cite>.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>array</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><code class="xref py py-obj docutils literal notranslate"><span class="pre">convolve</span></code></dt><dd><p>Uses the direct convolution or FFT convolution algorithm depending on which is faster.</p>
</dd>
<dt><code class="xref py py-obj docutils literal notranslate"><span class="pre">oaconvolve</span></code></dt><dd><p>Uses the overlap-add method to do convolution, which is generally faster when the input arrays are large and significantly different in size.</p>
</dd>
</dl>
</div>
<p class="rubric">Examples</p>
<p>Autocorrelation of white noise is an impulse.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">scipy</span> <span class="kn">import</span> <span class="n">signal</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rng</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">default_rng</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sig</span> <span class="o">=</span> <span class="n">rng</span><span class="o">.</span><span class="n">standard_normal</span><span class="p">(</span><span class="mi">1000</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">autocorr</span> <span class="o">=</span> <span class="n">signal</span><span class="o">.</span><span class="n">fftconvolve</span><span class="p">(</span><span class="n">sig</span><span class="p">,</span> <span class="n">sig</span><span class="p">[::</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;full&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fig</span><span class="p">,</span> <span class="p">(</span><span class="n">ax_orig</span><span class="p">,</span> <span class="n">ax_mag</span><span class="p">)</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ax_orig</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">sig</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ax_orig</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;White noise&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ax_mag</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">sig</span><span class="p">)</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">sig</span><span class="p">)),</span> <span class="n">autocorr</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ax_mag</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Autocorrelation&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fig</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fig</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<p>Gaussian blur implemented using FFT convolution.  Notice the dark borders
around the image, due to the zero-padding beyond its boundaries.
The <cite>convolve2d</cite> function allows for other types of image boundaries,
but is far slower.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">scipy</span> <span class="kn">import</span> <span class="n">misc</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">face</span> <span class="o">=</span> <span class="n">misc</span><span class="o">.</span><span class="n">face</span><span class="p">(</span><span class="n">gray</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">kernel</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">outer</span><span class="p">(</span><span class="n">signal</span><span class="o">.</span><span class="n">windows</span><span class="o">.</span><span class="n">gaussian</span><span class="p">(</span><span class="mi">70</span><span class="p">,</span> <span class="mi">8</span><span class="p">),</span>
<span class="gp">... </span>                  <span class="n">signal</span><span class="o">.</span><span class="n">windows</span><span class="o">.</span><span class="n">gaussian</span><span class="p">(</span><span class="mi">70</span><span class="p">,</span> <span class="mi">8</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">blurred</span> <span class="o">=</span> <span class="n">signal</span><span class="o">.</span><span class="n">fftconvolve</span><span class="p">(</span><span class="n">face</span><span class="p">,</span> <span class="n">kernel</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;same&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">fig</span><span class="p">,</span> <span class="p">(</span><span class="n">ax_orig</span><span class="p">,</span> <span class="n">ax_kernel</span><span class="p">,</span> <span class="n">ax_blurred</span><span class="p">)</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span>
<span class="gp">... </span>                                                     <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">15</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ax_orig</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">face</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;gray&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ax_orig</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Original&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ax_orig</span><span class="o">.</span><span class="n">set_axis_off</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ax_kernel</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">kernel</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;gray&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ax_kernel</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Gaussian kernel&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ax_kernel</span><span class="o">.</span><span class="n">set_axis_off</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ax_blurred</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">blurred</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;gray&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ax_blurred</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Blurred&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ax_blurred</span><span class="o">.</span><span class="n">set_axis_off</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fig</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pyspecdata.figlist">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">pyspecdata.</span></span><span class="sig-name descname"><span class="pre">figlist</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">arg</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.figlist" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="pyspecdata.figlist.basename">
<span class="sig-name descname"><span class="pre">basename</span></span><a class="headerlink" href="#pyspecdata.figlist.basename" title="Permalink to this definition">¶</a></dt>
<dd><p>A basename that can be changed to generate different sets of figures with different basenames.
For example, this is useful if you are looping over different sets of data,
and generating the same set of figures for each set of data (which would correspond to a basename).</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pyspecdata.figlist.figurelist">
<span class="sig-name descname"><span class="pre">figurelist</span></span><a class="headerlink" href="#pyspecdata.figlist.figurelist" title="Permalink to this definition">¶</a></dt>
<dd><p>A list of the figure names</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pyspecdata.figlist.figdict">
<span class="sig-name descname"><span class="pre">figdict</span></span><a class="headerlink" href="#pyspecdata.figlist.figdict" title="Permalink to this definition">¶</a></dt>
<dd><p>A dictionary containing the figurelist and the figure numbers or objects that they correspond to.
Keys of this dictionary must be elements of <cite>figurelist</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pyspecdata.figlist.propdict">
<span class="sig-name descname"><span class="pre">propdict</span></span><a class="headerlink" href="#pyspecdata.figlist.propdict" title="Permalink to this definition">¶</a></dt>
<dd><p>Maintains various properties for each element in figurelist.
Keys of this dictionary must be elements of <cite>figurelist</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.figlist.adjust_spines">
<span class="sig-name descname"><span class="pre">adjust_spines</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">spines</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.figlist.adjust_spines" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.figlist.check_units">
<span class="sig-name descname"><span class="pre">check_units</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">testdata</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x_index</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_index</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.figlist.check_units" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.figlist.generate_ticks">
<span class="sig-name descname"><span class="pre">generate_ticks</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">plotdata</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">axes</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rescale</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">z_norm</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_rescale</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">text_scale</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.05</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">follow_surface</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lensoffset</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.005</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">line_width</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.001</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tube_radius</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.001</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fine_grid</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.figlist.generate_ticks" title="Permalink to this definition">¶</a></dt>
<dd><p>generate 3d ticks and grid for mayavi</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.figlist.get_fig_number">
<span class="sig-name descname"><span class="pre">get_fig_number</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.figlist.get_fig_number" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.figlist.get_num_figures">
<span class="sig-name descname"><span class="pre">get_num_figures</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.figlist.get_num_figures" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.figlist.grid">
<span class="sig-name descname"><span class="pre">grid</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.figlist.grid" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.figlist.header">
<span class="sig-name descname"><span class="pre">header</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">number_above</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">input_string</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.figlist.header" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.figlist.image">
<span class="sig-name descname"><span class="pre">image</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">A</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.figlist.image" title="Permalink to this definition">¶</a></dt>
<dd><p>Called as <cite>fl.image()</cite> where <cite>fl</cite> is the <cite>figlist_var</cite>
object</p>
<p>Note that this code just wraps the figlist properties, and
the heavy lifting is done by the <cite>image(</cite> function.
Together, the effect is as follows:</p>
<ul>
<li><p><cite>check_units</cite> converts to human-readable units, and
makes sure they match the units already used in the plot.</p></li>
<li><p>if <cite>A</cite> has more than two dimensions, the final dimension in
<cite>A.dimlabels</cite> is used as the column dimension, and a
direct-product of all non-column dimensions (a Kronecker
product, such that the innermost index comes the latest in
the list <cite>A.dimlabels</cite>) is used as the row dimension. A
white/black line is drawn after the innermost index used to
create the direct product is finished iterating.</p></li>
<li><p>If <cite>A</cite> consists of complex data, then an HSV plot
(misnomer, actually an HV plot) is used:
- convert to polar form: <span class="math notranslate nohighlight">\(z=\rho \exp(i \phi)\)</span>
- <span class="math notranslate nohighlight">\(\phi\)</span> determines the color (Hue)</p>
<blockquote>
<div><ul class="simple">
<li><p>Color wheel is cyclical, like <span class="math notranslate nohighlight">\(\exp(i \phi)\)</span></p></li>
<li><p>red is taken as <span class="math notranslate nohighlight">\(\phi=0\)</span>, purely real and positive</p></li>
<li><p>green-blue is <span class="math notranslate nohighlight">\(pi\)</span> radians out of phase with red and
therefore negative real</p></li>
</ul>
</div></blockquote>
<ul>
<li><p><span class="math notranslate nohighlight">\(\rho\)</span> determines the intensity (value)
- Depending on whether or not <cite>black</cite> is set (either as a</p>
<blockquote>
<div><p>keyword argument, or <cite>fl.black</cite>, the background will be
black with high <span class="math notranslate nohighlight">\(\rho\)</span> values “lit up” (intended for
screen plotting) or the background will be white with
the high <span class="math notranslate nohighlight">\(\rho\)</span> values “colored in” (intended for
printing)</p>
</div></blockquote>
</li>
</ul>
</li>
<li><p>If the data type (<cite>dtype</cite>) of the data in <cite>A</cite> is real
(typically achieved by calling <cite>abs(A)</cite> or
<cite>A.runcopy(real)</cite>), then <cite>A</cite> is plotted with a colormap and
corresponding colorbar.</p></li>
<li><p>If no title has been given, it’s set to the name of the
current plot in the figurelist</p></li>
</ul>
<dl class="py attribute">
<dt class="sig sig-object py" id="pyspecdata.figlist.A">
<span class="sig-name descname"><span class="pre">A</span></span><a class="headerlink" href="#pyspecdata.figlist.A" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference internal" href="../pyspecdata.html#id0" title="pyspecdata.nddata">nddata</a> or numpy array</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pyspecdata.figlist.x">
<span class="sig-name descname"><span class="pre">x</span></span><a class="headerlink" href="#pyspecdata.figlist.x" title="Permalink to this definition">¶</a></dt>
<dd><p>If <cite>A</cite> is a numpy array, then this gives the values along
the x axis (columns).
Defaults to the size of the array.
Not used if <cite>A</cite> is <cite>nddata</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>Optional[double] or Optional[scalar]</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pyspecdata.figlist.y">
<span class="sig-name descname"><span class="pre">y</span></span><a class="headerlink" href="#pyspecdata.figlist.y" title="Permalink to this definition">¶</a></dt>
<dd><p>If <cite>A</cite> is a numpy array, then this gives the values along
the y axis (columns).
Defaults to the size of the array.
Not used if <cite>A</cite> is <cite>nddata</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>Optional[double] or Optional[scalar]</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pyspecdata.figlist.x_first">
<span class="sig-name descname"><span class="pre">x_first</span></span><a class="headerlink" href="#pyspecdata.figlist.x_first" title="Permalink to this definition">¶</a></dt>
<dd><p>Since it’s designed to represent matrices, an image plot
by defaults is “transposed” relative to all other plots.
If you want the first dimension on the x-axis (<em>e.g.</em>, if
you are plotting a contour plot on top of an image), then set
<cite>x_first</cite> to <cite>True</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>boolean</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pyspecdata.figlist.spacing">
<span class="sig-name descname"><span class="pre">spacing</span></span><a class="headerlink" href="#pyspecdata.figlist.spacing" title="Permalink to this definition">¶</a></dt>
<dd><p>Determines the size of the white/black line drawn
Defaults to 1</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>integer</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pyspecdata.figlist.ax">
<span class="sig-name descname"><span class="pre">ax</span></span><a class="headerlink" href="#pyspecdata.figlist.ax" title="Permalink to this definition">¶</a></dt>
<dd><p>the Axis object where the plot should go.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>matplotlib Axes</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">all</span> <span class="pre">remaning</span></span></dt>
<dd><p>are passed through to matplotlib <cite>imshow</cite></p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pyspecdata.figlist.origin">
<span class="sig-name descname"><span class="pre">origin</span></span><a class="headerlink" href="#pyspecdata.figlist.origin" title="Permalink to this definition">¶</a></dt>
<dd><p>upper and lower are passed to matplotlib.
Flip is for 2D nmr, and flips the data manually.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>{‘upper’, ‘lower’, ‘flip’}</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">..</span> <span class="pre">code-block::</span> <span class="pre">python</span></span></dt>
<dd><p>from pyspecdata import *
fl = figlist_var()</p>
<p>t = r_[-1:1:300j]
x = nddata(t,[-1],[‘x’]).labels(‘x’,t)
y = nddata(t,[-1],[‘y’]).labels(‘y’,t)</p>
<p>z = x**2 + 2*y**2
print “dimlabels of z:”,z.dimlabels</p>
<p>fl.next(‘image with contours’)
fl.image(z,x_first = True) #  x_first is needed to align
#                             with the contour plot
z.contour(colors = ‘w’,alpha = 0.75)</p>
<p>fl.next(‘simple plot’) #  just to show that x is the same
#                         here as well
fl.plot(z[‘y’:(0,0.01)])</p>
<p>fl.show(‘compare_image_contour_150911.pdf’)</p>
</dd></dl>

</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.figlist.label_point">
<span class="sig-name descname"><span class="pre">label_point</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">axis</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">thislabel</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_point</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xscale</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">new_kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.figlist.label_point" title="Permalink to this definition">¶</a></dt>
<dd><p>only works for 1D data: assume you’ve passed a single-point nddata, and label it</p>
<p>xscale gives the unit scaling</p>
<p>..todo:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Improve</span> <span class="n">the</span> <span class="n">unit</span> <span class="n">scaling</span><span class="p">,</span> <span class="n">so</span> <span class="n">that</span> <span class="n">this</span> <span class="n">would</span> <span class="n">also</span> <span class="n">work</span><span class="o">.</span>

<span class="n">Allow</span> <span class="n">it</span> <span class="n">to</span> <span class="n">include</span> <span class="n">a</span> <span class="nb">format</span> <span class="n">string</span> <span class="n">that</span> <span class="n">would</span> <span class="n">use</span> <span class="n">the</span> <span class="n">value</span><span class="o">.</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>show_point</strong> (<em>bool</em>) – Defaults to <cite>True</cite>. Actually generate a point (circle), <em>vs.</em>
just the label.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.figlist.marked_text">
<span class="sig-name descname"><span class="pre">marked_text</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">marker</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">input_text</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sep</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'\n'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.figlist.marked_text" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a named <cite>marker</cite> where we can place text.   If <cite>marker</cite>
has been used, goes back and places text there.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.figlist.mesh">
<span class="sig-name descname"><span class="pre">mesh</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">plotdata</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Z_normalization</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">equal_scale</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lensoffset</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.001</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">show_contours</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">grey_surf</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.figlist.mesh" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.figlist.next">
<span class="sig-name descname"><span class="pre">next</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">input_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">legend</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">boundaries</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">twinx</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fig</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.figlist.next" title="Permalink to this definition">¶</a></dt>
<dd><p>Switch to the figure given by input_name, which is used not only as
a string-based name for the figure, but also as a default title and as
a base name for resulting figure files.</p>
<p><strong>In the future, we actually want this to track the appropriate axis object!</strong></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>legend</strong> (<em>bool</em>) – If this is set, a legend is created <em>outside</em> the figure.</p></li>
<li><p><strong>twinx</strong> (<em>{0</em><em>,</em><em>1}</em>) – <dl class="field-list simple">
<dt class="field-odd">1</dt>
<dd class="field-odd"><p>plots on an overlayed axis (the matplotlib twinx) whose y axis
is labeled on the right when you set this for the first time, you
can also set a <cite>color</cite> kwarg that controls the coloring of the
right axis.</p>
</dd>
<dt class="field-even">0</dt>
<dd class="field-even"><p>used to switch back to the left (default) axis</p>
</dd>
</dl>
</p></li>
<li><p><strong>boundaries</strong> – <strong>need to add description</strong></p></li>
<li><p><strong>kwargs</strong> (<em>dict</em>) – Any other keyword arguments are passed to the matplotlib (mayavi)
figure() function that’s used to switch (create) figures.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.figlist.par_break">
<span class="sig-name descname"><span class="pre">par_break</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.figlist.par_break" title="Permalink to this definition">¶</a></dt>
<dd><p>This is for adding a paragraph break between
figures when generating latex
(or html?).  By design, it does nothing when
note in tex</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.figlist.phaseplot_finalize">
<span class="sig-name descname"><span class="pre">phaseplot_finalize</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.figlist.phaseplot_finalize" title="Permalink to this definition">¶</a></dt>
<dd><p>Performs plot decorations that are typically desired for a manual phasing plot.  This assumes that the <code class="docutils literal notranslate"><span class="pre">y</span></code>-axis is given in units of half-cycles ($pi$ radians).</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.figlist.plot">
<span class="sig-name descname"><span class="pre">plot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.figlist.plot" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>linestyle</strong> (<em>{':'</em><em>,</em><em>'--'</em><em>,</em><em>'.'</em><em>,</em><em>'etc.'}</em>) – the style of the line</p></li>
<li><p><strong>plottype</strong> (<em>{'semilogy'</em><em>,</em><em>'semilogx'</em><em>,</em><em>'loglog'}</em>) – Select a logarithmic plotting style.</p></li>
<li><p><strong>nosemilog</strong> (<em>True</em>) – Typically, if you supply a log-spaced axis,
a semilogx plot will be automatically selected.
This overrides that behavior.
Defaults to False.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.figlist.pop_marker">
<span class="sig-name descname"><span class="pre">pop_marker</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.figlist.pop_marker" title="Permalink to this definition">¶</a></dt>
<dd><p>use the plot on the top of the “stack” (see push_marker) as the current plot</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.figlist.push_marker">
<span class="sig-name descname"><span class="pre">push_marker</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.figlist.push_marker" title="Permalink to this definition">¶</a></dt>
<dd><p>save the current plot to a “stack” so we can return to it with “pop_marker”</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.figlist.setprops">
<span class="sig-name descname"><span class="pre">setprops</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.figlist.setprops" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.figlist.show">
<span class="sig-name descname"><span class="pre">show</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.figlist.show" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.figlist.show_prep">
<span class="sig-name descname"><span class="pre">show_prep</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.figlist.show_prep" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.figlist.text">
<span class="sig-name descname"><span class="pre">text</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mytext</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.figlist.text" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.figlist.twinx">
<span class="sig-name descname"><span class="pre">twinx</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">autopad</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">orig</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">color</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.figlist.twinx" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.figlist.use_autolegend">
<span class="sig-name descname"><span class="pre">use_autolegend</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.figlist.use_autolegend" title="Permalink to this definition">¶</a></dt>
<dd><p>No argument sets to true if it’s not already set</p>
</dd></dl>

</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pyspecdata.figlist_var">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.</span></span><span class="sig-name descname"><span class="pre">figlist_var</span></span><a class="headerlink" href="#pyspecdata.figlist_var" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#pyspecdata.figlist.figlist" title="pyspecdata.figlist.figlist"><code class="xref py py-class docutils literal notranslate"><span class="pre">pyspecdata.figlist.figlist</span></code></a></p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.figlistini">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.</span></span><span class="sig-name descname"><span class="pre">figlistini</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">first_figure</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.figlistini" title="Permalink to this definition">¶</a></dt>
<dd><p>processes a figure list argument:
typically, you want to have a figure_list keyword argument for every function, which is by default set to None, then call this on the argument – it always returns a figure list, creating a new one if required
similarly, somewhere I have another guy that processes the output, so that if it’s set to None, it will by default dump and show the figure list,
and not return a figure list in the output</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.figlistini_old">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.</span></span><span class="sig-name descname"><span class="pre">figlistini_old</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">first_figure</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.figlistini_old" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.figlistret">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.</span></span><span class="sig-name descname"><span class="pre">figlistret</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">first_figure</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">figure_list</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.figlistret" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.figure">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.</span></span><span class="sig-name descname"><span class="pre">figure</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">num=None</span></em>, <em class="sig-param"><span class="pre">figsize=None</span></em>, <em class="sig-param"><span class="pre">dpi=None</span></em>, <em class="sig-param"><span class="pre">facecolor=None</span></em>, <em class="sig-param"><span class="pre">edgecolor=None</span></em>, <em class="sig-param"><span class="pre">frameon=True</span></em>, <em class="sig-param"><span class="pre">FigureClass=&lt;class</span> <span class="pre">'matplotlib.figure.Figure'&gt;</span></em>, <em class="sig-param"><span class="pre">clear=False</span></em>, <em class="sig-param"><span class="pre">**kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.figure" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a new figure, or activate an existing figure.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>num</strong> (int or str or <cite>.Figure</cite>, optional) – <p>A unique identifier for the figure.</p>
<p>If a figure with that identifier already exists, this figure is made
active and returned. An integer refers to the <code class="docutils literal notranslate"><span class="pre">Figure.number</span></code>
attribute, a string refers to the figure label.</p>
<p>If there is no figure with the identifier or <em>num</em> is not given, a new
figure is created, made active and returned.  If <em>num</em> is an int, it
will be used for the <code class="docutils literal notranslate"><span class="pre">Figure.number</span></code> attribute, otherwise, an
auto-generated integer value is used (starting at 1 and incremented
for each new figure). If <em>num</em> is a string, the figure label and the
window title is set to this value.</p>
</p></li>
<li><p><strong>figsize</strong> ((float, float), default: <a href="#id33"><span class="problematic" id="id34">:rc:`figure.figsize`</span></a>) – Width, height in inches.</p></li>
<li><p><strong>dpi</strong> (float, default: <a href="#id35"><span class="problematic" id="id36">:rc:`figure.dpi`</span></a>) – The resolution of the figure in dots-per-inch.</p></li>
<li><p><strong>facecolor</strong> (color, default: <a href="#id37"><span class="problematic" id="id38">:rc:`figure.facecolor`</span></a>) – The background color.</p></li>
<li><p><strong>edgecolor</strong> (color, default: <a href="#id39"><span class="problematic" id="id40">:rc:`figure.edgecolor`</span></a>) – The border color.</p></li>
<li><p><strong>frameon</strong> (<em>bool</em><em>, </em><em>default: True</em>) – If False, suppress drawing the figure frame.</p></li>
<li><p><strong>FigureClass</strong> (subclass of <cite>~matplotlib.figure.Figure</cite>) – Optionally use a custom <cite>.Figure</cite> instance.</p></li>
<li><p><strong>clear</strong> (<em>bool</em><em>, </em><em>default: False</em>) – If True and the figure already exists, then it is cleared.</p></li>
<li><p><strong>tight_layout</strong> (bool or dict, default: <a href="#id41"><span class="problematic" id="id42">:rc:`figure.autolayout`</span></a>) – If <code class="docutils literal notranslate"><span class="pre">False</span></code> use <em>subplotpars</em>. If <code class="docutils literal notranslate"><span class="pre">True</span></code> adjust subplot
parameters using <cite>.tight_layout</cite> with default padding.
When providing a dict containing the keys <code class="docutils literal notranslate"><span class="pre">pad</span></code>, <code class="docutils literal notranslate"><span class="pre">w_pad</span></code>,
<code class="docutils literal notranslate"><span class="pre">h_pad</span></code>, and <code class="docutils literal notranslate"><span class="pre">rect</span></code>, the default <cite>.tight_layout</cite> paddings
will be overridden.</p></li>
<li><p><strong>constrained_layout</strong> (bool, default: <a href="#id43"><span class="problematic" id="id44">:rc:`figure.constrained_layout.use`</span></a>) – If <code class="docutils literal notranslate"><span class="pre">True</span></code> use constrained layout to adjust positioning of plot
elements.  Like <code class="docutils literal notranslate"><span class="pre">tight_layout</span></code>, but designed to be more
flexible.  See
<span class="xref std std-doc">/tutorials/intermediate/constrainedlayout_guide</span>
for examples.  (Note: does not work with <cite>add_subplot</cite> or
<cite>~.pyplot.subplot2grid</cite>.)</p></li>
</ul>
</dd>
</dl>
<dl class="simple">
<dt><a href="#id45"><span class="problematic" id="id46">**</span></a>kwargs : optional</dt><dd><p>See <cite>~.matplotlib.figure.Figure</cite> for other possible arguments.</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>The <cite>.Figure</cite> instance returned will also be passed to
new_figure_manager in the backends, which allows to hook custom
<cite>.Figure</cite> classes into the pyplot interface. Additional kwargs will be
passed to the <cite>.Figure</cite> init function.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><cite>~matplotlib.figure.Figure</cite></p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>If you are creating many figures, make sure you explicitly call
<cite>.pyplot.close</cite> on the figures you are not using, because this will
enable pyplot to properly clean up the memory.</p>
<p><cite>~matplotlib.rcParams</cite> defines the default values, which can be modified
in the matplotlibrc file.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.find_file">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.</span></span><span class="sig-name descname"><span class="pre">find_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">searchstring</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exp_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">postproc</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">print_result</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prefilter</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">expno</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dimname</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_acq</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">add_sizes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">add_dims</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_sweep</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">indirect_dimlabels</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lookup</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_list</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.find_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the file  given by the regular expression <cite>searchstring</cite> inside the directory identified by <cite>exp_type</cite>, load the nddata object, and postprocess with the function <cite>postproc</cite>.</p>
<p>It looks at the top level of the directory first, and if that fails, starts to look recursively.
Whenever it finds a file in the current directory, it will not return data from files in the directories underneath.
(For a more thorough description, see <a class="reference internal" href="#pyspecdata.datadir.getDATADIR" title="pyspecdata.datadir.getDATADIR"><code class="xref py py-func docutils literal notranslate"><span class="pre">getDATADIR()</span></code></a>).</p>
<p>Note that all loaded files will be logged in the data_files.log file in the directory that you run your python scripts from
(so that you can make sure they are properly synced to the cloud, etc.).</p>
<p>It calls <a class="reference internal" href="pyspecdata.load_files.html#pyspecdata.load_files.load_indiv_file" title="pyspecdata.load_files.load_indiv_file"><code class="xref py py-func docutils literal notranslate"><span class="pre">load_indiv_file()</span></code></a>, which finds the specific routine from inside one of the modules (sub-packages) associated with a particular file-type.</p>
<p>If it can’t find any files matching the criterion, it logs the missing file and throws an exception.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>searchstring</strong> (<em>str</em>) – Most commonly, this is just a fragment of the file name,
with any literal <code class="docutils literal notranslate"><span class="pre">*</span></code>, <code class="docutils literal notranslate"><span class="pre">.</span></code>, or <code class="docutils literal notranslate"><span class="pre">?</span></code> characters preceded by
a backslash.
More generally, it is a regular expression,
where <code class="docutils literal notranslate"><span class="pre">.*searchstring.*</span></code> matches a filename inside the
directory appropriate for <cite>exp_type</cite>.</p></li>
<li><p><strong>exp_type</strong> (<em>str</em>) – Gives the name of a directory, known to be pyspecdata, that contains
the file of interest.
For a directory to be known to pyspecdata, it must be registered with
the (terminal/shell/command prompt) command <cite>pyspecdata_register_dir</cite>
<strong>or</strong> in a directory contained inside (underneath) such a directory.</p></li>
<li><p><strong>expno</strong> (<em>int</em>) – For Bruker NMR and Prospa files, where the files are stored in numbered
subdirectories,
give the number of the subdirectory that you want.
Currently, this parameter is needed to load Bruker and Kea files.
If it finds multiple files that match the regular expression,
it will try to load this experiment number from all the directories.</p></li>
<li><p><strong>postproc</strong> (<a class="reference internal" href="#pyspecdata.function" title="pyspecdata.function"><em>function</em></a><em>, </em><em>str</em><em>, or </em><em>None</em>) – <p>This function is fed the nddata data and the remaining keyword
arguments (<cite>kwargs</cite>) as arguments.
It’s assumed that each module for each different file type
provides a dictionary called <cite>postproc_lookup</cite> (some are already
available in pySpecData, but also, see the <cite>lookup</cite> argument,
below).</p>
<p>If <cite>postproc</cite> is a string,
it looks up the string inside the <cite>postproc_lookup</cite>
dictionary that’s appropriate for the file type.</p>
<p>If <cite>postproc</cite> is None,
it checks to see if the any of the loading functions that were
called set the <cite>postproc_type</cite> property
– <em>i.e.</em> it checks the value of
<code class="docutils literal notranslate"><span class="pre">data.get_prop('postproc_type')</span></code> –
if this is set, it uses this as a key
to pull the corresponding value from <cite>postproc_lookup</cite>.
For example, if this is a bruker file, it sets postproc to the
name of the pulse sequence.</p>
<p>For instance, when the acert module loads an ACERT HDF5 file,
it sets <cite>postproc_type</cite> to the value of
<code class="docutils literal notranslate"><span class="pre">(h5</span> <span class="pre">root).experiment.description['class']</span></code>.
This, in turn, is used to choose the type of post-processing.</p>
<dl class="field-list simple">
<dt class="field-odd">dimname</dt>
<dd class="field-odd"><p>passed to <a class="reference internal" href="pyspecdata.load_files.html#pyspecdata.load_files.load_indiv_file" title="pyspecdata.load_files.load_indiv_file"><code class="xref py py-func docutils literal notranslate"><span class="pre">load_indiv_file()</span></code></a></p>
</dd>
<dt class="field-even">return_acq</dt>
<dd class="field-even"><p>passed to <a class="reference internal" href="pyspecdata.load_files.html#pyspecdata.load_files.load_indiv_file" title="pyspecdata.load_files.load_indiv_file"><code class="xref py py-func docutils literal notranslate"><span class="pre">load_indiv_file()</span></code></a></p>
</dd>
<dt class="field-odd">add_sizes</dt>
<dd class="field-odd"><p>passed to <a class="reference internal" href="pyspecdata.load_files.html#pyspecdata.load_files.load_indiv_file" title="pyspecdata.load_files.load_indiv_file"><code class="xref py py-func docutils literal notranslate"><span class="pre">load_indiv_file()</span></code></a></p>
</dd>
<dt class="field-even">add_dims</dt>
<dd class="field-even"><p>passed to <a class="reference internal" href="pyspecdata.load_files.html#pyspecdata.load_files.load_indiv_file" title="pyspecdata.load_files.load_indiv_file"><code class="xref py py-func docutils literal notranslate"><span class="pre">load_indiv_file()</span></code></a></p>
</dd>
<dt class="field-odd">use_sweep</dt>
<dd class="field-odd"><p>passed to <a class="reference internal" href="pyspecdata.load_files.html#pyspecdata.load_files.load_indiv_file" title="pyspecdata.load_files.load_indiv_file"><code class="xref py py-func docutils literal notranslate"><span class="pre">load_indiv_file()</span></code></a></p>
</dd>
<dt class="field-even">indirect_dimlabels</dt>
<dd class="field-even"><p>passed to <a class="reference internal" href="pyspecdata.load_files.html#pyspecdata.load_files.load_indiv_file" title="pyspecdata.load_files.load_indiv_file"><code class="xref py py-func docutils literal notranslate"><span class="pre">load_indiv_file()</span></code></a></p>
</dd>
</dl>
</p></li>
<li><p><strong>lookup</strong> (<em>dictionary with str:function pairs</em>) – types of postprocessing to add to the <cite>postproc_lookup</cite> dictionary</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pyspecdata.fitdata">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">pyspecdata.</span></span><span class="sig-name descname"><span class="pre">fitdata</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fitdata" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="../generated/pyspecdata.core.nddata.html#pyspecdata.core.nddata" title="pyspecdata.core.nddata"><code class="xref py py-class docutils literal notranslate"><span class="pre">pyspecdata.core.nddata</span></code></a></p>
<p>Inherits from an nddata and enables curve fitting through use of a sympy expression.</p>
<p>The user creates a fitdata class object from an existing nddata
class object, and on this fitdata object can define the
<a class="reference internal" href="#pyspecdata.fitdata.functional_form" title="pyspecdata.fitdata.functional_form"><code class="xref py py-func docutils literal notranslate"><span class="pre">functional_form()</span></code></a> of the curve it would like to fit to the
data of the original nddata.
This functional form must be provided as a sympy expression, with
one of its variables matching the name of the dimension that the
user would like to fit to.
The user provides fit coefficients using <code class="xref py py-func docutils literal notranslate"><span class="pre">fit_coeff()</span></code> and
obtains output using <a class="reference internal" href="#pyspecdata.fitdata.fit" title="pyspecdata.fitdata.fit"><code class="xref py py-func docutils literal notranslate"><span class="pre">fit()</span></code></a> and <a class="reference internal" href="#pyspecdata.fitdata.eval" title="pyspecdata.fitdata.eval"><code class="xref py py-func docutils literal notranslate"><span class="pre">eval()</span></code></a>.</p>
<p>If you haven’t done this before,
create a jupyter notebook (not checked in, just for your own playing around) with:
<code class="docutils literal notranslate"><span class="pre">`</span>
<span class="pre">import</span> <span class="pre">sympy</span> <span class="pre">as</span> <span class="pre">s</span>
<span class="pre">s.init_printing()</span>
<span class="pre">`</span></code>
you can then use <cite>s.symbols(</cite> to create symbols/variables that
allow you to build the mathematical expression for your fitting
function</p>
<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.fitdata.add_inactive_p">
<span class="sig-name descname"><span class="pre">add_inactive_p</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">p</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fitdata.add_inactive_p" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.fitdata.analytical_covariance">
<span class="sig-name descname"><span class="pre">analytical_covariance</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fitdata.analytical_covariance" title="Permalink to this definition">¶</a></dt>
<dd><p>Not up to date</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.fitdata.bootstrap">
<span class="sig-name descname"><span class="pre">bootstrap</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">points</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">swap_out</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.36787944117144233</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">seedval</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10347</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">minbounds</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">maxbounds</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fitdata.bootstrap" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.fitdata.copy">
<span class="sig-name descname"><span class="pre">copy</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fitdata.copy" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a full copy of this instance.</p>
<p>Because methods typically change the data in place, you might want to
use this frequently.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>data</strong> (<em>boolean</em>) – <p>Default to True.
False doesn’t copy the data – this is for internal use,
<em>e.g.</em> when you want to copy all the metadata and perform a
calculation on the data.</p>
<p>The code for this also provides the definitive list of the
nddata metadata.</p>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.fitdata.covar">
<span class="sig-name descname"><span class="pre">covar</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">names</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fitdata.covar" title="Permalink to this definition">¶</a></dt>
<dd><p>give the covariance for the different symbols</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.fitdata.covarmat">
<span class="sig-name descname"><span class="pre">covarmat</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">names</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fitdata.covarmat" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.fitdata.eval">
<span class="sig-name descname"><span class="pre">eval</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">taxis</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">set_what</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">set_to</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fitdata.eval" title="Permalink to this definition">¶</a></dt>
<dd><p>calculate the fit function along the axis taxis.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>taxis</strong> (<em>ndarray</em><em>, </em><em>int</em>) – <dl class="field-list simple">
<dt class="field-odd">if ndarray</dt>
<dd class="field-odd"><p>the new axis coordinates along which we want to calculate the fit.</p>
</dd>
<dt class="field-even">if int</dt>
<dd class="field-even"><p>number of evenly spaced points along the t-axis along the fit</p>
</dd>
</dl>
</p></li>
<li><p><strong>set_what</strong> (<em>'str'</em><em>, </em><em>optional</em>) – forcibly sets a specific symbol</p></li>
<li><p><strong>set_to</strong> (<em>double</em><em>, </em><em>optional</em>) – the specific value (int) you are assigning the symbol you included</p></li>
</ul>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>self</strong> – the fit function evaluated along the axis coordinates that were passed</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference internal" href="../pyspecdata.html#id0" title="pyspecdata.nddata">nddata</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.fitdata.fit">
<span class="sig-name descname"><span class="pre">fit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">set_what</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">set_to</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force_analytical</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fitdata.fit" title="Permalink to this definition">¶</a></dt>
<dd><p>actually run the fit</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.fitdata.fitfunc">
<span class="sig-name descname"><span class="pre">fitfunc</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">p</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fitdata.fitfunc" title="Permalink to this definition">¶</a></dt>
<dd><p>This is the function that does the actual fitting, and takes a properly ordered list of parameters as well as an np.ndarray for the x axis.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="pyspecdata.fitdata.function_string">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">function_string</span></span><a class="headerlink" href="#pyspecdata.fitdata.function_string" title="Permalink to this definition">¶</a></dt>
<dd><p>A property of the fitdata class which stores a string
output of the functional form of the desired fit expression
provided in func:<cite>functional_form</cite> in LaTeX format</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="pyspecdata.fitdata.functional_form">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">functional_form</span></span><a class="headerlink" href="#pyspecdata.fitdata.functional_form" title="Permalink to this definition">¶</a></dt>
<dd><p>A property of the fitdata class which is set by the user,
takes as input a sympy expression of the desired fit
expression</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.fitdata.gen_indices">
<span class="sig-name descname"><span class="pre">gen_indices</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">this_set</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">set_to</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fitdata.gen_indices" title="Permalink to this definition">¶</a></dt>
<dd><p>pass this this_set and this_set_to parameters, and it will return:
indices,values,mask
indices –&gt; gives the indices that are forced
values –&gt; the values they are forced to
mask –&gt; p[mask] are actually active in the fit</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.fitdata.guess">
<span class="sig-name descname"><span class="pre">guess</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">use_pseudoinverse</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fitdata.guess" title="Permalink to this definition">¶</a></dt>
<dd><p>old code that I am preserving here – provide the guess for our parameters; by default, based on pseudoinverse</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.fitdata.latex">
<span class="sig-name descname"><span class="pre">latex</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fitdata.latex" title="Permalink to this definition">¶</a></dt>
<dd><p>show the latex string for the function, with all the symbols substituted by their values</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.fitdata.linear">
<span class="sig-name descname"><span class="pre">linear</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fitdata.linear" title="Permalink to this definition">¶</a></dt>
<dd><p>return the linear-form function, either smoothly along the fit function, or on the raw data, depending on whether or not the taxis argument is given
can take optional arguments and pass them on to eval</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.fitdata.makereal">
<span class="sig-name descname"><span class="pre">makereal</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fitdata.makereal" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.fitdata.output">
<span class="sig-name descname"><span class="pre">output</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fitdata.output" title="Permalink to this definition">¶</a></dt>
<dd><p>give the fit value of a particular symbol, or a dictionary of all values.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>name</strong> (<em>str</em><em> (</em><em>optional</em><em>)</em>) – name of the symbol.
If no name is passed, then output returns a dictionary of the
resulting values.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>retval</strong> – Either a dictionary of all the values, or the value itself.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict or float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.fitdata.parameter_derivatives">
<span class="sig-name descname"><span class="pre">parameter_derivatives</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">xvals</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">set</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">set_to</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fitdata.parameter_derivatives" title="Permalink to this definition">¶</a></dt>
<dd><p>return a matrix containing derivatives of the parameters, can set dict set, or keys set, vals set_to</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.fitdata.pinv">
<span class="sig-name descname"><span class="pre">pinv</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fitdata.pinv" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.fitdata.remove_inactive_p">
<span class="sig-name descname"><span class="pre">remove_inactive_p</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">p</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fitdata.remove_inactive_p" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.fitdata.rename">
<span class="sig-name descname"><span class="pre">rename</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">previous</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">new</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fitdata.rename" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.fitdata.residual">
<span class="sig-name descname"><span class="pre">residual</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">p</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sigma</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fitdata.residual" title="Permalink to this definition">¶</a></dt>
<dd><p>just the residual (error) function</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.fitdata.set_guess">
<span class="sig-name descname"><span class="pre">set_guess</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dict_of_values</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fitdata.set_guess" title="Permalink to this definition">¶</a></dt>
<dd><p>sets parameters to guess/estimated value to compare fit.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>dict_of_values</strong> (<em>dict</em>) – dictionary of values set to parameters in fit equation.
Allows for the setting of multiple variables depending on
what’s defined in this dictionary. The keys of the dictionary
must be sympy symbols</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>self</strong> – The modified nddata</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="../pyspecdata.html#id0" title="pyspecdata.nddata">nddata</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.fitdata.settoguess">
<span class="sig-name descname"><span class="pre">settoguess</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fitdata.settoguess" title="Permalink to this definition">¶</a></dt>
<dd><p>a debugging function, to easily plot the initial guess</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.fname_makenice">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.</span></span><span class="sig-name descname"><span class="pre">fname_makenice</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fname</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.fname_makenice" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.format_listofexps">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.</span></span><span class="sig-name descname"><span class="pre">format_listofexps</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.format_listofexps" title="Permalink to this definition">¶</a></dt>
<dd><p><strong>Phased out</strong>: leaving documentation so we can interpret and update old code</p>
<p>This is an auxiliary function that’s used to decode the experiment list.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>args</strong> (<em>list</em><em> or </em><em>tuple</em>) – <p>can be in one of two formats
:<code class="docutils literal notranslate"><span class="pre">(dirname,[i,j,k,...N])</span></code>:  typically used, <em>e.g.</em> for</p>
<blockquote>
<div><p>Bruker NMR experiments.  <code class="docutils literal notranslate"><span class="pre">i,j,...N</span></code> are integer numbers
referring to individual experiments that are stored in
subdirectories of <cite>dirname</cite> (a string).</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd"><code class="docutils literal notranslate"><span class="pre">([exp_name1,...,exp_nameN])</span></code></dt>
<dd class="field-odd"><p>just return this list of
experiments given by the strings
<cite>exp_name1</cite>…`exp_nameN`.</p>
</dd>
<dt class="field-even"><code class="docutils literal notranslate"><span class="pre">([exp_name1,...,exp_nameN],[])</span></code></dt>
<dd class="field-even"><p>identical to previous</p>
</dd>
<dt class="field-odd"><code class="docutils literal notranslate"><span class="pre">([exp_name1,...,exp_nameN],[])</span></code></dt>
<dd class="field-odd"><p>identical to previous</p>
</dd>
<dt class="field-even"><code class="docutils literal notranslate"><span class="pre">(exp_name1,...,exp_nameN)</span></code></dt>
<dd class="field-even"><p>identical to previous</p>
</dd>
<dt class="field-odd"><code class="docutils literal notranslate"><span class="pre">(exp_name)</span></code> or <code class="docutils literal notranslate"><span class="pre">(exp_name,[])</span></code></dt>
<dd class="field-odd"><p>works for a single
experiment</p>
</dd>
</dl>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pyspecdata.function">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">pyspecdata.</span></span><span class="sig-name descname"><span class="pre">function</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">code</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">globals</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">argdefs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">closure</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.function" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Create a function object.</p>
<dl class="simple">
<dt>code</dt><dd><p>a code object</p>
</dd>
<dt>globals</dt><dd><p>the globals dictionary</p>
</dd>
<dt>name</dt><dd><p>a string that overrides the name from the code object</p>
</dd>
<dt>argdefs</dt><dd><p>a tuple that specifies the default argument values</p>
</dd>
<dt>closure</dt><dd><p>a tuple that supplies the bindings for free variables</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.gci">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.</span></span><span class="sig-name descname"><span class="pre">gci</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.gci" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the current colorable artist.</p>
<p>Specifically, returns the current <cite>.ScalarMappable</cite> instance (<cite>.Image</cite>
created by <cite>imshow</cite> or <cite>figimage</cite>, <cite>.Collection</cite> created by <cite>pcolor</cite> or
<cite>scatter</cite>, etc.), or <em>None</em> if no such instance has been defined.</p>
<p>The current image is an attribute of the current Axes, or the nearest
earlier Axes in the current figure that contains an image.</p>
<p class="rubric">Notes</p>
<p>Historically, the only colorable artists were images; hence the name
<code class="docutils literal notranslate"><span class="pre">gci</span></code> (get current image).</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.gensearch">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.</span></span><span class="sig-name descname"><span class="pre">gensearch</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">labelname</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">format</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'%0.3f'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">precision</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.gensearch" title="Permalink to this definition">¶</a></dt>
<dd><p>obsolete – use h5gensearch</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.getDATADIR">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.</span></span><span class="sig-name descname"><span class="pre">getDATADIR</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.getDATADIR" title="Permalink to this definition">¶</a></dt>
<dd><p>Used to find a directory containing data in a way that works
seamlessly across different computers (and operating systems).
Supports the case where data is processed both on a laboratory
computer and (<em>e.g.</em> after transferring via ssh or a syncing client) on a
user’s laptop.
While it will return a default directory without any arguments, it is
typically used with the keyword argument <cite>exp_type</cite>, described below.</p>
<p>Note that <strong>the most common way</strong> to use this mechanism is to set up your directories using
the pyspecdata_register_dir shell command – see
<a class="reference internal" href="#pyspecdata.datadir.register_directory" title="pyspecdata.datadir.register_directory"><code class="xref py py-func docutils literal notranslate"><span class="pre">register_directory()</span></code></a>.</p>
<p>It returns the directory ending in a trailing (back)slash.</p>
<p>It is determined by a call to <cite>MyConfig.get_setting</cite> with the setting name
<cite>data_directory</cite> and the environment variable set to <code class="docutils literal notranslate"><span class="pre">PYTHON_DATA_DIR</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>exp_type</strong> (<em>str</em>) – <p>A string identifying the name of a subdirectory where the data is stored.
It can contain slashes.
Typically, this gives the path relative to a google drive, rclone,
dropbox, etc, repository.
To make code portable, <cite>exp_type</cite> should <strong>not</strong> contain a full path or
or portions of the path that are specific to the computer/user.</p>
<p>If the directory has note been used before, all the directories listed
in the user’s <cite>_pyspecdata</cite> or <cite>.pyspecdata</cite> config file will be
searched recursively up to 2 levels deep.</p>
<p>It searches for <cite>exp_type</cite> in this order:</p>
<ul class="simple">
<li><dl class="simple">
<dt>Look in the <code class="docutils literal notranslate"><span class="pre">ExpTypes</span></code> section of the config file.</dt><dd><ul>
<li><dl class="simple">
<dt>Note that by using this, you can store data in locations other</dt><dd><p>than your main data directory.
For example, consider the following section of the
<code class="docutils literal notranslate"><span class="pre">~/.pyspecdata</span></code> config file:
<code class="docutils literal notranslate"><span class="pre">`</span>
<span class="pre">[ExpTypes]</span>
<span class="pre">alternate_base</span> <span class="pre">=</span> <span class="pre">/opt/other_data</span>
<span class="pre">alternate_type_one</span> <span class="pre">=</span> <span class="pre">%(alternate_base)s/type_one</span>
<span class="pre">`</span></code>
which would find data with <cite>exp_type</cite> <code class="docutils literal notranslate"><span class="pre">alternate_type_one</span></code> in
<code class="docutils literal notranslate"><span class="pre">/opt/other_data/type_one</span></code>.</p>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>use <cite>os.walk</cite> to search for a directory with this name</dt><dd><p>inside the directory identified by <cite>experimental_data</cite>.
excluding things that start with ‘.’, ‘_’ or
containing ‘.hfssresults’, always choosing the
thing that’s highest up in the tree.
If it doesn’t find a directory inside <cite>experimental_data</cite>, it will
search inside all the directories already listed in <cite>ExpTypes</cite>.
Currently, in both attempts, it will only walk 2 levels deep (since NMR directories
can be rather complex, and otherwise it would take forever).</p>
</dd>
</dl>
</li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.gridandtick">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.</span></span><span class="sig-name descname"><span class="pre">gridandtick</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ax</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rotation</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(0,</span> <span class="pre">0)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">precision</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(2,</span> <span class="pre">2)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">labelstring</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">('',</span> <span class="pre">'')</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gridcolor</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">array([0,</span> <span class="pre">0,</span> <span class="pre">0],</span> <span class="pre">dtype=int32)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">formatonly</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fixed_y_locator</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_grid</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spines</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.gridandtick" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.gridon">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.</span></span><span class="sig-name descname"><span class="pre">gridon</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">gridcolor</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">array([0,</span> <span class="pre">0,</span> <span class="pre">0],</span> <span class="pre">dtype=int32)</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.gridon" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.h5addrow">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.</span></span><span class="sig-name descname"><span class="pre">h5addrow</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bottomnode</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tablename</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.h5addrow" title="Permalink to this definition">¶</a></dt>
<dd><p>add a row to a table, creating it if necessary, but don’t add if the data matches the search condition indicated by <cite>match_row</cite>
<cite>match_row</cite> can be either text or a dictionary – in the latter case it’s passed to h5searchstring</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.h5attachattributes">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.</span></span><span class="sig-name descname"><span class="pre">h5attachattributes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">node</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">listofattributes</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">myvalues</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.h5attachattributes" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.h5child">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.</span></span><span class="sig-name descname"><span class="pre">h5child</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">thisnode</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">childname</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">clear</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">create</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.h5child" title="Permalink to this definition">¶</a></dt>
<dd><p>grab the child, optionally clearing it and/or (by default) creating it</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.h5inlist">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.</span></span><span class="sig-name descname"><span class="pre">h5inlist</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">columnname</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mylist</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.h5inlist" title="Permalink to this definition">¶</a></dt>
<dd><p>returns rows where the column named columnname is in the value of mylist</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.h5join">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.</span></span><span class="sig-name descname"><span class="pre">h5join</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">firsttuple</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">secondtuple</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">additional_search</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">select_fields</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pop_fields</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.h5join" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.h5loaddict">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.</span></span><span class="sig-name descname"><span class="pre">h5loaddict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">thisnode</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.h5loaddict" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.h5nodebypath">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.</span></span><span class="sig-name descname"><span class="pre">h5nodebypath</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">h5path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">only_lowest</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">check_only</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">directory</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'.'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.h5nodebypath" title="Permalink to this definition">¶</a></dt>
<dd><p>return the node based on an absolute path, including the filename</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.h5remrows">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.</span></span><span class="sig-name descname"><span class="pre">h5remrows</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bottomnode</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tablename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">searchstring</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.h5remrows" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.h5searchstring">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.</span></span><span class="sig-name descname"><span class="pre">h5searchstring</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.h5searchstring" title="Permalink to this definition">¶</a></dt>
<dd><p>generate robust search strings
:parameter fieldname,value:
search AROUND a certain value (overcomes some type conversion issues) optional arguments are the format specifier and the fractional precision:
<strong>OR</strong>
:parameter field_and_value_dictionary:
generate a search string that matches one or more criteria</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.h5table">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.</span></span><span class="sig-name descname"><span class="pre">h5table</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bottomnode</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tablename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tabledata</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.h5table" title="Permalink to this definition">¶</a></dt>
<dd><p>create the table, or if tabledata is None, just check if it exists</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.image">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.</span></span><span class="sig-name descname"><span class="pre">image</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">A</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">allow_nonuniform</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.image" title="Permalink to this definition">¶</a></dt>
<dd><p>Please don’t call image directly anymore – use the image method of figurelist</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.init_logging">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.</span></span><span class="sig-name descname"><span class="pre">init_logging</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">level</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stdout_level</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">20</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'pyspecdata.%d.log'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fileno</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.init_logging" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize a decent logging setup to log to <cite>~/pyspecdata.log</cite> (and <cite>~/pyspecdata.XX.log</cite> if that’s taken).</p>
<p>By default, everything above “debug” is logged to a
file, while everything above “info” is printed to
stdout.</p>
<p>Do NOT log if run from within a notebook (it’s fair to
assume that you will run first before embedding)</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.inside_sphinx">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.</span></span><span class="sig-name descname"><span class="pre">inside_sphinx</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.inside_sphinx" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pyspecdata.interp1d">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">pyspecdata.</span></span><span class="sig-name descname"><span class="pre">interp1d</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kind</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'linear'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">axis</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-</span> <span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">copy</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bounds_error</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fill_value</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">nan</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">assume_sorted</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.interp1d" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">scipy.interpolate.polyint._Interpolator1D</span></code></p>
<p>Interpolate a 1-D function.</p>
<p><cite>x</cite> and <cite>y</cite> are arrays of values used to approximate some function f:
<code class="docutils literal notranslate"><span class="pre">y</span> <span class="pre">=</span> <span class="pre">f(x)</span></code>. This class returns a function whose call method uses
interpolation to find the value of new points.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<em>(</em><em>N</em><em>,</em><em>) </em><em>array_like</em>) – A 1-D array of real values.</p></li>
<li><p><strong>y</strong> (<em>(</em><em>...</em><em>,</em><em>N</em><em>,</em><em>...</em><em>) </em><em>array_like</em>) – A N-D array of real values. The length of <cite>y</cite> along the interpolation
axis must be equal to the length of <cite>x</cite>.</p></li>
<li><p><strong>kind</strong> (<em>str</em><em> or </em><em>int</em><em>, </em><em>optional</em>) – Specifies the kind of interpolation as a string or as an integer
specifying the order of the spline interpolator to use.
The string has to be one of ‘linear’, ‘nearest’, ‘nearest-up’, ‘zero’,
‘slinear’, ‘quadratic’, ‘cubic’, ‘previous’, or ‘next’. ‘zero’,
‘slinear’, ‘quadratic’ and ‘cubic’ refer to a spline interpolation of
zeroth, first, second or third order; ‘previous’ and ‘next’ simply
return the previous or next value of the point; ‘nearest-up’ and
‘nearest’ differ when interpolating half-integers (e.g. 0.5, 1.5)
in that ‘nearest-up’ rounds up and ‘nearest’ rounds down. Default
is ‘linear’.</p></li>
<li><p><strong>axis</strong> (<em>int</em><em>, </em><em>optional</em>) – Specifies the axis of <cite>y</cite> along which to interpolate.
Interpolation defaults to the last axis of <cite>y</cite>.</p></li>
<li><p><strong>copy</strong> (<em>bool</em><em>, </em><em>optional</em>) – If True, the class makes internal copies of x and y.
If False, references to <cite>x</cite> and <cite>y</cite> are used. The default is to copy.</p></li>
<li><p><strong>bounds_error</strong> (<em>bool</em><em>, </em><em>optional</em>) – If True, a ValueError is raised any time interpolation is attempted on
a value outside of the range of x (where extrapolation is
necessary). If False, out of bounds values are assigned <cite>fill_value</cite>.
By default, an error is raised unless <code class="docutils literal notranslate"><span class="pre">fill_value=&quot;extrapolate&quot;</span></code>.</p></li>
<li><p><strong>fill_value</strong> (<em>array-like</em><em> or </em><em>(</em><em>array-like</em><em>, </em><em>array_like</em><em>) or </em><em>&quot;extrapolate&quot;</em><em>, </em><em>optional</em>) – <ul>
<li><p>if a ndarray (or float), this value will be used to fill in for
requested points outside of the data range. If not provided, then
the default is NaN. The array-like must broadcast properly to the
dimensions of the non-interpolation axes.</p></li>
<li><p>If a two-element tuple, then the first element is used as a
fill value for <code class="docutils literal notranslate"><span class="pre">x_new</span> <span class="pre">&lt;</span> <span class="pre">x[0]</span></code> and the second element is used for
<code class="docutils literal notranslate"><span class="pre">x_new</span> <span class="pre">&gt;</span> <span class="pre">x[-1]</span></code>. Anything that is not a 2-element tuple (e.g.,
list or ndarray, regardless of shape) is taken to be a single
array-like argument meant to be used for both bounds as
<code class="docutils literal notranslate"><span class="pre">below,</span> <span class="pre">above</span> <span class="pre">=</span> <span class="pre">fill_value,</span> <span class="pre">fill_value</span></code>.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 0.17.0.</span></p>
</div>
</li>
<li><p>If “extrapolate”, then points outside the data range will be
extrapolated.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 0.17.0.</span></p>
</div>
</li>
</ul>
</p></li>
<li><p><strong>assume_sorted</strong> (<em>bool</em><em>, </em><em>optional</em>) – If False, values of <cite>x</cite> can be in any order and they are sorted first.
If True, <cite>x</cite> has to be an array of monotonically increasing values.</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="pyspecdata.interp1d.fill_value">
<span class="sig-name descname"><span class="pre">fill_value</span></span><a class="headerlink" href="#pyspecdata.interp1d.fill_value" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.interp1d.__call__">
<span class="sig-name descname"><span class="pre">__call__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.interp1d.__call__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><code class="xref py py-obj docutils literal notranslate"><span class="pre">splrep</span></code>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">splev</span></code></p>
<dl class="simple">
<dt><a class="reference internal" href="#pyspecdata.UnivariateSpline" title="pyspecdata.UnivariateSpline"><code class="xref py py-obj docutils literal notranslate"><span class="pre">UnivariateSpline</span></code></a></dt><dd><p>An object-oriented wrapper of the FITPACK routines.</p>
</dd>
<dt><code class="xref py py-obj docutils literal notranslate"><span class="pre">interp2d</span></code></dt><dd><p>2-D interpolation</p>
</dd>
</dl>
</div>
<p class="rubric">Notes</p>
<p>Calling <cite>interp1d</cite> with NaNs present in input values results in
undefined behaviour.</p>
<p>Input values <cite>x</cite> and <cite>y</cite> must be convertible to <cite>float</cite> values like
<cite>int</cite> or <cite>float</cite>.</p>
<p>If the values in <cite>x</cite> are not unique, the resulting behavior is
undefined and specific to the choice of <cite>kind</cite>, i.e., changing
<cite>kind</cite> will change the behavior for duplicates.</p>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">scipy</span> <span class="kn">import</span> <span class="n">interpolate</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="o">-</span><span class="n">x</span><span class="o">/</span><span class="mf">3.0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">interpolate</span><span class="o">.</span><span class="n">interp1d</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">xnew</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ynew</span> <span class="o">=</span> <span class="n">f</span><span class="p">(</span><span class="n">xnew</span><span class="p">)</span>   <span class="c1"># use interpolation function returned by `interp1d`</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="s1">&#39;o&#39;</span><span class="p">,</span> <span class="n">xnew</span><span class="p">,</span> <span class="n">ynew</span><span class="p">,</span> <span class="s1">&#39;-&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<dl class="py attribute">
<dt class="sig sig-object py" id="pyspecdata.interp1d.dtype">
<span class="sig-name descname"><span class="pre">dtype</span></span><a class="headerlink" href="#pyspecdata.interp1d.dtype" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="id47">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">fill_value</span></span><a class="headerlink" href="#id47" title="Permalink to this definition">¶</a></dt>
<dd><p>The fill value.</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.ismethod">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.</span></span><span class="sig-name descname"><span class="pre">ismethod</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">object</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.ismethod" title="Permalink to this definition">¶</a></dt>
<dd><p>Return true if the object is an instance method.</p>
<dl class="simple">
<dt>Instance method objects provide these attributes:</dt><dd><p>__doc__         documentation string
__name__        name with which this method was defined
__func__        function object containing implementation of method
__self__        instance to which this method is bound</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.issympy">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.</span></span><span class="sig-name descname"><span class="pre">issympy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.issympy" title="Permalink to this definition">¶</a></dt>
<dd><p>tests if something is sympy (based on the module name)</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.join_rec">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.</span></span><span class="sig-name descname"><span class="pre">join_rec</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">xxx_todo_changeme</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xxx_todo_changeme1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.join_rec" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.lambda_rec">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.</span></span><span class="sig-name descname"><span class="pre">lambda_rec</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">myarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">myname</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">myfunction</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">varargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.lambda_rec" title="Permalink to this definition">¶</a></dt>
<dd><p>make a new field “myname” which consists of “myfunction” evaluated with the fields given by “myargs” as arguments
the new field is always placed after the last argument name
if myname is in myargs, the original row is popped</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.lambdify">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.</span></span><span class="sig-name descname"><span class="pre">lambdify</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">args</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Iterable</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">expr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">modules</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">printer</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_imps</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dummify</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cse</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.lambdify" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a SymPy expression into a function that allows for fast
numeric evaluation.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>This function uses <code class="docutils literal notranslate"><span class="pre">exec</span></code>, and thus shouldn’t be used on
unsanitized input.</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 1.7.0: </span>Passing a set for the <em>args</em> parameter is deprecated as sets are
unordered. Use an ordered iterable such as a list or tuple.</p>
</div>
<p>For example, to convert the SymPy expression <code class="docutils literal notranslate"><span class="pre">sin(x)</span> <span class="pre">+</span> <span class="pre">cos(x)</span></code> to an
equivalent NumPy function that numerically evaluates it:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">sympy</span> <span class="kn">import</span> <span class="n">sin</span><span class="p">,</span> <span class="n">cos</span><span class="p">,</span> <span class="n">symbols</span><span class="p">,</span> <span class="n">lambdify</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="n">symbols</span><span class="p">(</span><span class="s1">&#39;x&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">expr</span> <span class="o">=</span> <span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">+</span> <span class="n">cos</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">expr</span>
<span class="go">sin(x) + cos(x)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">lambdify</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">expr</span><span class="p">,</span> <span class="s1">&#39;numpy&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="go">[1.38177329 0.49315059]</span>
</pre></div>
</div>
<p>The primary purpose of this function is to provide a bridge from SymPy
expressions to numerical libraries such as NumPy, SciPy, NumExpr, mpmath,
and tensorflow. In general, SymPy functions do not work with objects from
other libraries, such as NumPy arrays, and functions from numeric
libraries like NumPy or mpmath do not work on SymPy expressions.
<code class="docutils literal notranslate"><span class="pre">lambdify</span></code> bridges the two by converting a SymPy expression to an
equivalent numeric function.</p>
<p>The basic workflow with <code class="docutils literal notranslate"><span class="pre">lambdify</span></code> is to first create a SymPy expression
representing whatever mathematical function you wish to evaluate. This
should be done using only SymPy functions and expressions. Then, use
<code class="docutils literal notranslate"><span class="pre">lambdify</span></code> to convert this to an equivalent function for numerical
evaluation. For instance, above we created <code class="docutils literal notranslate"><span class="pre">expr</span></code> using the SymPy symbol
<code class="docutils literal notranslate"><span class="pre">x</span></code> and SymPy functions <code class="docutils literal notranslate"><span class="pre">sin</span></code> and <code class="docutils literal notranslate"><span class="pre">cos</span></code>, then converted it to an
equivalent NumPy function <code class="docutils literal notranslate"><span class="pre">f</span></code>, and called it on a NumPy array <code class="docutils literal notranslate"><span class="pre">a</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>args</strong> (<em>List</em><em>[</em><em>Symbol</em><em>]</em>) – <p>A variable or a list of variables whose nesting represents the
nesting of the arguments that will be passed to the function.</p>
<p>Variables can be symbols, undefined functions, or matrix symbols.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">sympy</span> <span class="kn">import</span> <span class="n">Eq</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">sympy.abc</span> <span class="kn">import</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span>
</pre></div>
</div>
<p>The list of variables should match the structure of how the
arguments will be passed to the function. Simply enclose the
parameters as they will be passed in a list.</p>
<p>To call a function like <code class="docutils literal notranslate"><span class="pre">f(x)</span></code> then <code class="docutils literal notranslate"><span class="pre">[x]</span></code>
should be the first argument to <code class="docutils literal notranslate"><span class="pre">lambdify</span></code>; for this
case a single <code class="docutils literal notranslate"><span class="pre">x</span></code> can also be used:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">lambdify</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">x</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="go">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">lambdify</span><span class="p">([</span><span class="n">x</span><span class="p">],</span> <span class="n">x</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="go">2</span>
</pre></div>
</div>
<p>To call a function like <code class="docutils literal notranslate"><span class="pre">f(x,</span> <span class="pre">y)</span></code> then <code class="docutils literal notranslate"><span class="pre">[x,</span> <span class="pre">y]</span></code> will
be the first argument of the <code class="docutils literal notranslate"><span class="pre">lambdify</span></code>:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">lambdify</span><span class="p">([</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">],</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="go">2</span>
</pre></div>
</div>
<p>To call a function with a single 3-element tuple like
<code class="docutils literal notranslate"><span class="pre">f((x,</span> <span class="pre">y,</span> <span class="pre">z))</span></code> then <code class="docutils literal notranslate"><span class="pre">[(x,</span> <span class="pre">y,</span> <span class="pre">z)]</span></code> will be the first
argument of the <code class="docutils literal notranslate"><span class="pre">lambdify</span></code>:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">lambdify</span><span class="p">([(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="p">)],</span> <span class="n">Eq</span><span class="p">(</span><span class="n">z</span><span class="o">**</span><span class="mi">2</span><span class="p">,</span> <span class="n">x</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> <span class="n">y</span><span class="o">**</span><span class="mi">2</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="p">((</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>
<span class="go">True</span>
</pre></div>
</div>
<p>If two args will be passed and the first is a scalar but
the second is a tuple with two arguments then the items
in the list should match that structure:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">lambdify</span><span class="p">([</span><span class="n">x</span><span class="p">,</span> <span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="p">)],</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span> <span class="o">+</span> <span class="n">z</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>
<span class="go">6</span>
</pre></div>
</div>
</p></li>
<li><p><strong>expr</strong> (<em>Expr</em>) – <p>An expression, list of expressions, or matrix to be evaluated.</p>
<p>Lists may be nested.
If the expression is a list, the output will also be a list.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">lambdify</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="p">[</span><span class="n">x</span><span class="p">,</span> <span class="p">[</span><span class="n">x</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">x</span> <span class="o">+</span> <span class="mi">2</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="go">[1, [2, 3]]</span>
</pre></div>
</div>
<p>If it is a matrix, an array will be returned (for the NumPy module).</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">sympy</span> <span class="kn">import</span> <span class="n">Matrix</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">lambdify</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">Matrix</span><span class="p">([</span><span class="n">x</span><span class="p">,</span> <span class="n">x</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="go">[[1]</span>
<span class="go">[2]]</span>
</pre></div>
</div>
<p>Note that the argument order here (variables then expression) is used
to emulate the Python <code class="docutils literal notranslate"><span class="pre">lambda</span></code> keyword. <code class="docutils literal notranslate"><span class="pre">lambdify(x,</span> <span class="pre">expr)</span></code> works
(roughly) like <code class="docutils literal notranslate"><span class="pre">lambda</span> <span class="pre">x:</span> <span class="pre">expr</span></code>
(see <span class="xref std std-ref">lambdify-how-it-works</span> below).</p>
</p></li>
<li><p><strong>modules</strong> (<em>str</em><em>, </em><em>optional</em>) – <p>Specifies the numeric library to use.</p>
<p>If not specified, <em>modules</em> defaults to:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">[&quot;scipy&quot;,</span> <span class="pre">&quot;numpy&quot;]</span></code> if SciPy is installed</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">[&quot;numpy&quot;]</span></code> if only NumPy is installed</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">[&quot;math&quot;,</span> <span class="pre">&quot;mpmath&quot;,</span> <span class="pre">&quot;sympy&quot;]</span></code> if neither is installed.</p></li>
</ul>
<p>That is, SymPy functions are replaced as far as possible by
either <code class="docutils literal notranslate"><span class="pre">scipy</span></code> or <code class="docutils literal notranslate"><span class="pre">numpy</span></code> functions if available, and Python’s
standard library <code class="docutils literal notranslate"><span class="pre">math</span></code>, or <code class="docutils literal notranslate"><span class="pre">mpmath</span></code> functions otherwise.</p>
<p><em>modules</em> can be one of the following types:</p>
<ul>
<li><p>The strings <code class="docutils literal notranslate"><span class="pre">&quot;math&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;mpmath&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;numpy&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;numexpr&quot;</span></code>,
<code class="docutils literal notranslate"><span class="pre">&quot;scipy&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;sympy&quot;</span></code>, or <code class="docutils literal notranslate"><span class="pre">&quot;tensorflow&quot;</span></code>. This uses the
corresponding printer and namespace mapping for that module.</p></li>
<li><p>A module (e.g., <code class="docutils literal notranslate"><span class="pre">math</span></code>). This uses the global namespace of the
module. If the module is one of the above known modules, it will
also use the corresponding printer and namespace mapping
(i.e., <code class="docutils literal notranslate"><span class="pre">modules=numpy</span></code> is equivalent to <code class="docutils literal notranslate"><span class="pre">modules=&quot;numpy&quot;</span></code>).</p></li>
<li><p>A dictionary that maps names of SymPy functions to arbitrary
functions
(e.g., <code class="docutils literal notranslate"><span class="pre">{'sin':</span> <span class="pre">custom_sin}</span></code>).</p></li>
<li><p>A list that contains a mix of the arguments above, with higher
priority given to entries appearing first
(e.g., to use the NumPy module but override the <code class="docutils literal notranslate"><span class="pre">sin</span></code> function
with a custom version, you can use
<code class="docutils literal notranslate"><span class="pre">[{'sin':</span> <span class="pre">custom_sin},</span> <span class="pre">'numpy']</span></code>).</p></li>
</ul>
</p></li>
<li><p><strong>dummify</strong> (<em>bool</em><em>, </em><em>optional</em>) – <p>Whether or not the variables in the provided expression that are not
valid Python identifiers are substituted with dummy symbols.</p>
<p>This allows for undefined functions like <code class="docutils literal notranslate"><span class="pre">Function('f')(t)</span></code> to be
supplied as arguments. By default, the variables are only dummified
if they are not valid Python identifiers.</p>
<p>Set <code class="docutils literal notranslate"><span class="pre">dummify=True</span></code> to replace all arguments with dummy symbols
(if <code class="docutils literal notranslate"><span class="pre">args</span></code> is not a string) - for example, to ensure that the
arguments do not redefine any built-in names.</p>
</p></li>
<li><p><strong>cse</strong> (<em>bool</em><em>, or </em><em>callable</em><em>, </em><em>optional</em>) – <p>Large expressions can be computed more efficiently when
common subexpressions are identified and precomputed before
being used multiple time. Finding the subexpressions will make
creation of the ‘lambdify’ function slower, however.</p>
<p>When <code class="docutils literal notranslate"><span class="pre">True</span></code>, <code class="docutils literal notranslate"><span class="pre">sympy.simplify.cse</span></code> is used, otherwise (the default)
the user may pass a function matching the <code class="docutils literal notranslate"><span class="pre">cse</span></code> signature.</p>
</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">sympy.utilities.lambdify</span> <span class="kn">import</span> <span class="n">implemented_function</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">sympy</span> <span class="kn">import</span> <span class="n">sqrt</span><span class="p">,</span> <span class="n">sin</span><span class="p">,</span> <span class="n">Matrix</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">sympy</span> <span class="kn">import</span> <span class="n">Function</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">sympy.abc</span> <span class="kn">import</span> <span class="n">w</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">lambdify</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">x</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="go">4</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">lambdify</span><span class="p">((</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="p">),</span> <span class="p">[</span><span class="n">z</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">x</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
<span class="go">[3, 2, 1]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">lambdify</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">sqrt</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="go">2.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">lambdify</span><span class="p">((</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">),</span> <span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="o">*</span><span class="n">y</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
<span class="go">0.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">row</span> <span class="o">=</span> <span class="n">lambdify</span><span class="p">((</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">),</span> <span class="n">Matrix</span><span class="p">((</span><span class="n">x</span><span class="p">,</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span><span class="p">))</span><span class="o">.</span><span class="n">T</span><span class="p">,</span> <span class="n">modules</span><span class="o">=</span><span class="s1">&#39;sympy&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">row</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="go">Matrix([[1, 3]])</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">lambdify</span></code> can be used to translate SymPy expressions into mpmath
functions. This may be preferable to using <code class="docutils literal notranslate"><span class="pre">evalf</span></code> (which uses mpmath on
the backend) in some cases.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">lambdify</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">),</span> <span class="s1">&#39;mpmath&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="go">0.8414709848078965</span>
</pre></div>
</div>
<p>Tuple arguments are handled and the lambdified function should
be called with the same type of arguments as were used to create
the function:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">lambdify</span><span class="p">((</span><span class="n">x</span><span class="p">,</span> <span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="p">)),</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span>
<span class="go">3</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">flatten</span></code> function can be used to always work with flattened
arguments:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">sympy.utilities.iterables</span> <span class="kn">import</span> <span class="n">flatten</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">args</span> <span class="o">=</span> <span class="n">w</span><span class="p">,</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">vals</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">lambdify</span><span class="p">(</span><span class="n">flatten</span><span class="p">(</span><span class="n">args</span><span class="p">),</span> <span class="n">w</span> <span class="o">+</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span> <span class="o">+</span> <span class="n">z</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="p">(</span><span class="o">*</span><span class="n">flatten</span><span class="p">(</span><span class="n">vals</span><span class="p">))</span>
<span class="go">10</span>
</pre></div>
</div>
<p>Functions present in <code class="docutils literal notranslate"><span class="pre">expr</span></code> can also carry their own numerical
implementations, in a callable attached to the <code class="docutils literal notranslate"><span class="pre">_imp_</span></code> attribute. This
can be used with undefined functions using the <code class="docutils literal notranslate"><span class="pre">implemented_function</span></code>
factory:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">implemented_function</span><span class="p">(</span><span class="n">Function</span><span class="p">(</span><span class="s1">&#39;f&#39;</span><span class="p">),</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">func</span> <span class="o">=</span> <span class="n">lambdify</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">f</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">func</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="go">5</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">lambdify</span></code> always prefers <code class="docutils literal notranslate"><span class="pre">_imp_</span></code> implementations to implementations
in other namespaces, unless the <code class="docutils literal notranslate"><span class="pre">use_imps</span></code> input parameter is False.</p>
<p>Usage with Tensorflow:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">tensorflow</span> <span class="k">as</span> <span class="nn">tf</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">sympy</span> <span class="kn">import</span> <span class="n">Max</span><span class="p">,</span> <span class="n">sin</span><span class="p">,</span> <span class="n">lambdify</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">sympy.abc</span> <span class="kn">import</span> <span class="n">x</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">Max</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">func</span> <span class="o">=</span> <span class="n">lambdify</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">f</span><span class="p">,</span> <span class="s1">&#39;tensorflow&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>After tensorflow v2, eager execution is enabled by default.
If you want to get the compatible result across tensorflow v1 and v2
as same as this tutorial, run this line.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">tf</span><span class="o">.</span><span class="n">compat</span><span class="o">.</span><span class="n">v1</span><span class="o">.</span><span class="n">enable_eager_execution</span><span class="p">()</span>
</pre></div>
</div>
<p>If you have eager execution enabled, you can get the result out
immediately as you can use numpy.</p>
<p>If you pass tensorflow objects, you may get an <code class="docutils literal notranslate"><span class="pre">EagerTensor</span></code>
object instead of value.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">func</span><span class="p">(</span><span class="n">tf</span><span class="o">.</span><span class="n">constant</span><span class="p">(</span><span class="mf">1.0</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
<span class="go">tf.Tensor(1.0, shape=(), dtype=float32)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="o">.</span><span class="vm">__class__</span><span class="p">)</span>
<span class="go">&lt;class &#39;tensorflow.python.framework.ops.EagerTensor&#39;&gt;</span>
</pre></div>
</div>
<p>You can use <code class="docutils literal notranslate"><span class="pre">.numpy()</span></code> to get the numpy value of the tensor.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">result</span><span class="o">.</span><span class="n">numpy</span><span class="p">()</span>
<span class="go">1.0</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">var</span> <span class="o">=</span> <span class="n">tf</span><span class="o">.</span><span class="n">Variable</span><span class="p">(</span><span class="mf">2.0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">func</span><span class="p">(</span><span class="n">var</span><span class="p">)</span> <span class="c1"># also works for tf.Variable and tf.Placeholder</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span><span class="o">.</span><span class="n">numpy</span><span class="p">()</span>
<span class="go">2.0</span>
</pre></div>
</div>
<p>And it works with any shape array.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">tensor</span> <span class="o">=</span> <span class="n">tf</span><span class="o">.</span><span class="n">constant</span><span class="p">([[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">],</span> <span class="p">[</span><span class="mf">3.0</span><span class="p">,</span> <span class="mf">4.0</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">func</span><span class="p">(</span><span class="n">tensor</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span><span class="o">.</span><span class="n">numpy</span><span class="p">()</span>
<span class="go">[[1. 2.]</span>
<span class="go"> [3. 4.]]</span>
</pre></div>
</div>
<p class="rubric">Notes</p>
<ul>
<li><p>For functions involving large array calculations, numexpr can provide a
significant speedup over numpy. Please note that the available functions
for numexpr are more limited than numpy but can be expanded with
<code class="docutils literal notranslate"><span class="pre">implemented_function</span></code> and user defined subclasses of Function. If
specified, numexpr may be the only option in modules. The official list
of numexpr functions can be found at:
<a class="reference external" href="https://numexpr.readthedocs.io/en/latest/user_guide.html#supported-functions">https://numexpr.readthedocs.io/en/latest/user_guide.html#supported-functions</a></p></li>
<li><p>In previous versions of SymPy, <code class="docutils literal notranslate"><span class="pre">lambdify</span></code> replaced <code class="docutils literal notranslate"><span class="pre">Matrix</span></code> with
<code class="docutils literal notranslate"><span class="pre">numpy.matrix</span></code> by default. As of SymPy 1.0 <code class="docutils literal notranslate"><span class="pre">numpy.array</span></code> is the
default. To get the old default behavior you must pass in
<code class="docutils literal notranslate"><span class="pre">[{'ImmutableDenseMatrix':</span>&#160; <span class="pre">numpy.matrix},</span> <span class="pre">'numpy']</span></code> to the
<code class="docutils literal notranslate"><span class="pre">modules</span></code> kwarg.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">sympy</span> <span class="kn">import</span> <span class="n">lambdify</span><span class="p">,</span> <span class="n">Matrix</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">sympy.abc</span> <span class="kn">import</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">array2mat</span> <span class="o">=</span> <span class="p">[{</span><span class="s1">&#39;ImmutableDenseMatrix&#39;</span><span class="p">:</span> <span class="n">numpy</span><span class="o">.</span><span class="n">matrix</span><span class="p">},</span> <span class="s1">&#39;numpy&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">lambdify</span><span class="p">((</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">),</span> <span class="n">Matrix</span><span class="p">([</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">]),</span> <span class="n">modules</span><span class="o">=</span><span class="n">array2mat</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="go">[[1]</span>
<span class="go"> [2]]</span>
</pre></div>
</div>
</li>
<li><p>In the above examples, the generated functions can accept scalar
values or numpy arrays as arguments.  However, in some cases
the generated function relies on the input being a numpy array:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">sympy</span> <span class="kn">import</span> <span class="n">Piecewise</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">sympy.testing.pytest</span> <span class="kn">import</span> <span class="n">ignore_warnings</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">lambdify</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">Piecewise</span><span class="p">((</span><span class="n">x</span><span class="p">,</span> <span class="n">x</span> <span class="o">&lt;=</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="n">x</span><span class="p">,</span> <span class="n">x</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">)),</span> <span class="s2">&quot;numpy&quot;</span><span class="p">)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">ignore_warnings</span><span class="p">(</span><span class="ne">RuntimeWarning</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">f</span><span class="p">(</span><span class="n">numpy</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]))</span>
<span class="go">[-1.   0.   1.   0.5]</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
    <span class="o">...</span>
<span class="gr">ZeroDivisionError</span>: <span class="n">division by zero</span>
</pre></div>
</div>
<p>In such cases, the input should be wrapped in a numpy array:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">ignore_warnings</span><span class="p">(</span><span class="ne">RuntimeWarning</span><span class="p">):</span>
<span class="gp">... </span>    <span class="nb">float</span><span class="p">(</span><span class="n">f</span><span class="p">(</span><span class="n">numpy</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">0</span><span class="p">])))</span>
<span class="go">0.0</span>
</pre></div>
</div>
<p>Or if numpy functionality is not required another module can be used:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">lambdify</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">Piecewise</span><span class="p">((</span><span class="n">x</span><span class="p">,</span> <span class="n">x</span> <span class="o">&lt;=</span> <span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="n">x</span><span class="p">,</span> <span class="n">x</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">)),</span> <span class="s2">&quot;math&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="go">0</span>
</pre></div>
</div>
</li>
</ul>
<p>When using this function, it helps a great deal to have an idea of what it
is doing. At its core, lambdify is nothing more than a namespace
translation, on top of a special printer that makes some corner cases work
properly.</p>
<p>To understand lambdify, first we must properly understand how Python
namespaces work. Say we had two files. One called <code class="docutils literal notranslate"><span class="pre">sin_cos_sympy.py</span></code>,
with</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># sin_cos_sympy.py</span>

<span class="kn">from</span> <span class="nn">sympy</span> <span class="kn">import</span> <span class="n">sin</span><span class="p">,</span> <span class="n">cos</span>

<span class="k">def</span> <span class="nf">sin_cos</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">+</span> <span class="n">cos</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
</pre></div>
</div>
<p>and one called <code class="docutils literal notranslate"><span class="pre">sin_cos_numpy.py</span></code> with</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># sin_cos_numpy.py</span>

<span class="kn">from</span> <span class="nn">numpy</span> <span class="kn">import</span> <span class="n">sin</span><span class="p">,</span> <span class="n">cos</span>

<span class="k">def</span> <span class="nf">sin_cos</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">+</span> <span class="n">cos</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
</pre></div>
</div>
<p>The two files define an identical function <code class="docutils literal notranslate"><span class="pre">sin_cos</span></code>. However, in the
first file, <code class="docutils literal notranslate"><span class="pre">sin</span></code> and <code class="docutils literal notranslate"><span class="pre">cos</span></code> are defined as the SymPy <code class="docutils literal notranslate"><span class="pre">sin</span></code> and
<code class="docutils literal notranslate"><span class="pre">cos</span></code>. In the second, they are defined as the NumPy versions.</p>
<p>If we were to import the first file and use the <code class="docutils literal notranslate"><span class="pre">sin_cos</span></code> function, we
would get something like</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">sin_cos_sympy</span> <span class="kn">import</span> <span class="n">sin_cos</span> 
<span class="gp">&gt;&gt;&gt; </span><span class="n">sin_cos</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> 
<span class="go">cos(1) + sin(1)</span>
</pre></div>
</div>
<p>On the other hand, if we imported <code class="docutils literal notranslate"><span class="pre">sin_cos</span></code> from the second file, we
would get</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">sin_cos_numpy</span> <span class="kn">import</span> <span class="n">sin_cos</span> 
<span class="gp">&gt;&gt;&gt; </span><span class="n">sin_cos</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> 
<span class="go">1.38177329068</span>
</pre></div>
</div>
<p>In the first case we got a symbolic output, because it used the symbolic
<code class="docutils literal notranslate"><span class="pre">sin</span></code> and <code class="docutils literal notranslate"><span class="pre">cos</span></code> functions from SymPy. In the second, we got a numeric
result, because <code class="docutils literal notranslate"><span class="pre">sin_cos</span></code> used the numeric <code class="docutils literal notranslate"><span class="pre">sin</span></code> and <code class="docutils literal notranslate"><span class="pre">cos</span></code> functions
from NumPy. But notice that the versions of <code class="docutils literal notranslate"><span class="pre">sin</span></code> and <code class="docutils literal notranslate"><span class="pre">cos</span></code> that were
used was not inherent to the <code class="docutils literal notranslate"><span class="pre">sin_cos</span></code> function definition. Both
<code class="docutils literal notranslate"><span class="pre">sin_cos</span></code> definitions are exactly the same. Rather, it was based on the
names defined at the module where the <code class="docutils literal notranslate"><span class="pre">sin_cos</span></code> function was defined.</p>
<p>The key point here is that when function in Python references a name that
is not defined in the function, that name is looked up in the “global”
namespace of the module where that function is defined.</p>
<p>Now, in Python, we can emulate this behavior without actually writing a
file to disk using the <code class="docutils literal notranslate"><span class="pre">exec</span></code> function. <code class="docutils literal notranslate"><span class="pre">exec</span></code> takes a string
containing a block of Python code, and a dictionary that should contain
the global variables of the module. It then executes the code “in” that
dictionary, as if it were the module globals. The following is equivalent
to the <code class="docutils literal notranslate"><span class="pre">sin_cos</span></code> defined in <code class="docutils literal notranslate"><span class="pre">sin_cos_sympy.py</span></code>:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">sympy</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">module_dictionary</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;sin&#39;</span><span class="p">:</span> <span class="n">sympy</span><span class="o">.</span><span class="n">sin</span><span class="p">,</span> <span class="s1">&#39;cos&#39;</span><span class="p">:</span> <span class="n">sympy</span><span class="o">.</span><span class="n">cos</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">exec</span><span class="p">(</span><span class="s1">&#39;&#39;&#39;</span>
<span class="gp">... </span><span class="s1">def sin_cos(x):</span>
<span class="gp">... </span><span class="s1">    return sin(x) + cos(x)</span>
<span class="gp">... </span><span class="s1">&#39;&#39;&#39;</span><span class="p">,</span> <span class="n">module_dictionary</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sin_cos</span> <span class="o">=</span> <span class="n">module_dictionary</span><span class="p">[</span><span class="s1">&#39;sin_cos&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sin_cos</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="go">cos(1) + sin(1)</span>
</pre></div>
</div>
<p>and similarly with <code class="docutils literal notranslate"><span class="pre">sin_cos_numpy</span></code>:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">module_dictionary</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;sin&#39;</span><span class="p">:</span> <span class="n">numpy</span><span class="o">.</span><span class="n">sin</span><span class="p">,</span> <span class="s1">&#39;cos&#39;</span><span class="p">:</span> <span class="n">numpy</span><span class="o">.</span><span class="n">cos</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">exec</span><span class="p">(</span><span class="s1">&#39;&#39;&#39;</span>
<span class="gp">... </span><span class="s1">def sin_cos(x):</span>
<span class="gp">... </span><span class="s1">    return sin(x) + cos(x)</span>
<span class="gp">... </span><span class="s1">&#39;&#39;&#39;</span><span class="p">,</span> <span class="n">module_dictionary</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sin_cos</span> <span class="o">=</span> <span class="n">module_dictionary</span><span class="p">[</span><span class="s1">&#39;sin_cos&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sin_cos</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="go">1.38177329068</span>
</pre></div>
</div>
<p>So now we can get an idea of how <code class="docutils literal notranslate"><span class="pre">lambdify</span></code> works. The name “lambdify”
comes from the fact that we can think of something like <code class="docutils literal notranslate"><span class="pre">lambdify(x,</span>
<span class="pre">sin(x)</span> <span class="pre">+</span> <span class="pre">cos(x),</span> <span class="pre">'numpy')</span></code> as <code class="docutils literal notranslate"><span class="pre">lambda</span> <span class="pre">x:</span> <span class="pre">sin(x)</span> <span class="pre">+</span> <span class="pre">cos(x)</span></code>, where
<code class="docutils literal notranslate"><span class="pre">sin</span></code> and <code class="docutils literal notranslate"><span class="pre">cos</span></code> come from the <code class="docutils literal notranslate"><span class="pre">numpy</span></code> namespace. This is also why
the symbols argument is first in <code class="docutils literal notranslate"><span class="pre">lambdify</span></code>, as opposed to most SymPy
functions where it comes after the expression: to better mimic the
<code class="docutils literal notranslate"><span class="pre">lambda</span></code> keyword.</p>
<p><code class="docutils literal notranslate"><span class="pre">lambdify</span></code> takes the input expression (like <code class="docutils literal notranslate"><span class="pre">sin(x)</span> <span class="pre">+</span> <span class="pre">cos(x)</span></code>) and</p>
<ol class="arabic simple">
<li><p>Converts it to a string</p></li>
<li><p>Creates a module globals dictionary based on the modules that are
passed in (by default, it uses the NumPy module)</p></li>
<li><p>Creates the string <code class="docutils literal notranslate"><span class="pre">&quot;def</span> <span class="pre">func({vars}):</span> <span class="pre">return</span> <span class="pre">{expr}&quot;</span></code>, where <code class="docutils literal notranslate"><span class="pre">{vars}</span></code> is the
list of variables separated by commas, and <code class="docutils literal notranslate"><span class="pre">{expr}</span></code> is the string
created in step 1., then <code class="docutils literal notranslate"><span class="pre">exec``s</span> <span class="pre">that</span> <span class="pre">string</span> <span class="pre">with</span> <span class="pre">the</span> <span class="pre">module</span> <span class="pre">globals</span>
<span class="pre">namespace</span> <span class="pre">and</span> <span class="pre">returns</span> <span class="pre">``func</span></code>.</p></li>
</ol>
<p>In fact, functions returned by <code class="docutils literal notranslate"><span class="pre">lambdify</span></code> support inspection. So you can
see exactly how they are defined by using <code class="docutils literal notranslate"><span class="pre">inspect.getsource</span></code>, or <code class="docutils literal notranslate"><span class="pre">??</span></code> if you
are using IPython or the Jupyter notebook.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">lambdify</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">+</span> <span class="n">cos</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">inspect</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">inspect</span><span class="o">.</span><span class="n">getsource</span><span class="p">(</span><span class="n">f</span><span class="p">))</span>
<span class="go">def _lambdifygenerated(x):</span>
<span class="go">    return sin(x) + cos(x)</span>
</pre></div>
</div>
<p>This shows us the source code of the function, but not the namespace it
was defined in. We can inspect that by looking at the <code class="docutils literal notranslate"><span class="pre">__globals__</span></code>
attribute of <code class="docutils literal notranslate"><span class="pre">f</span></code>:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="vm">__globals__</span><span class="p">[</span><span class="s1">&#39;sin&#39;</span><span class="p">]</span>
<span class="go">&lt;ufunc &#39;sin&#39;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="vm">__globals__</span><span class="p">[</span><span class="s1">&#39;cos&#39;</span><span class="p">]</span>
<span class="go">&lt;ufunc &#39;cos&#39;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="vm">__globals__</span><span class="p">[</span><span class="s1">&#39;sin&#39;</span><span class="p">]</span> <span class="ow">is</span> <span class="n">numpy</span><span class="o">.</span><span class="n">sin</span>
<span class="go">True</span>
</pre></div>
</div>
<p>This shows us that <code class="docutils literal notranslate"><span class="pre">sin</span></code> and <code class="docutils literal notranslate"><span class="pre">cos</span></code> in the namespace of <code class="docutils literal notranslate"><span class="pre">f</span></code> will be
<code class="docutils literal notranslate"><span class="pre">numpy.sin</span></code> and <code class="docutils literal notranslate"><span class="pre">numpy.cos</span></code>.</p>
<p>Note that there are some convenience layers in each of these steps, but at
the core, this is how <code class="docutils literal notranslate"><span class="pre">lambdify</span></code> works. Step 1 is done using the
<code class="docutils literal notranslate"><span class="pre">LambdaPrinter</span></code> printers defined in the printing module (see
<code class="xref py py-mod docutils literal notranslate"><span class="pre">sympy.printing.lambdarepr</span></code>). This allows different SymPy expressions
to define how they should be converted to a string for different modules.
You can change which printer <code class="docutils literal notranslate"><span class="pre">lambdify</span></code> uses by passing a custom printer
in to the <code class="docutils literal notranslate"><span class="pre">printer</span></code> argument.</p>
<p>Step 2 is augmented by certain translations. There are default
translations for each module, but you can provide your own by passing a
list to the <code class="docutils literal notranslate"><span class="pre">modules</span></code> argument. For instance,</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">mysin</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;taking the sin of&#39;</span><span class="p">,</span> <span class="n">x</span><span class="p">)</span>
<span class="gp">... </span>    <span class="k">return</span> <span class="n">numpy</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">lambdify</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">),</span> <span class="p">[{</span><span class="s1">&#39;sin&#39;</span><span class="p">:</span> <span class="n">mysin</span><span class="p">},</span> <span class="s1">&#39;numpy&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="go">taking the sin of 1</span>
<span class="go">0.8414709848078965</span>
</pre></div>
</div>
<p>The globals dictionary is generated from the list by merging the
dictionary <code class="docutils literal notranslate"><span class="pre">{'sin':</span> <span class="pre">mysin}</span></code> and the module dictionary for NumPy. The
merging is done so that earlier items take precedence, which is why
<code class="docutils literal notranslate"><span class="pre">mysin</span></code> is used above instead of <code class="docutils literal notranslate"><span class="pre">numpy.sin</span></code>.</p>
<p>If you want to modify the way <code class="docutils literal notranslate"><span class="pre">lambdify</span></code> works for a given function, it
is usually easiest to do so by modifying the globals dictionary as such.
In more complicated cases, it may be necessary to create and pass in a
custom printer.</p>
<p>Finally, step 3 is augmented with certain convenience operations, such as
the addition of a docstring.</p>
<p>Understanding how <code class="docutils literal notranslate"><span class="pre">lambdify</span></code> works can make it easier to avoid certain
gotchas when using it. For instance, a common mistake is to create a
lambdified function for one module (say, NumPy), and pass it objects from
another (say, a SymPy expression).</p>
<p>For instance, say we create</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">sympy.abc</span> <span class="kn">import</span> <span class="n">x</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">lambdify</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">x</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;numpy&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Now if we pass in a NumPy array, we get that array plus 1</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="go">[2 3]</span>
</pre></div>
</div>
<p>But what happens if you make the mistake of passing in a SymPy expression
instead of a NumPy array:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="p">(</span><span class="n">x</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
<span class="go">x + 2</span>
</pre></div>
</div>
<p>This worked, but it was only by accident. Now take a different lambdified
function:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">sympy</span> <span class="kn">import</span> <span class="n">sin</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">g</span> <span class="o">=</span> <span class="n">lambdify</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">x</span> <span class="o">+</span> <span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">),</span> <span class="s1">&#39;numpy&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>This works as expected on NumPy arrays:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">g</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="go">[1.84147098 2.90929743]</span>
</pre></div>
</div>
<p>But if we try to pass in a SymPy expression, it fails</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">try</span><span class="p">:</span>
<span class="gp">... </span>    <span class="n">g</span><span class="p">(</span><span class="n">x</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
<span class="gp">... </span><span class="c1"># NumPy release after 1.17 raises TypeError instead of</span>
<span class="gp">... </span><span class="c1"># AttributeError</span>
<span class="gp">... </span><span class="k">except</span> <span class="p">(</span><span class="ne">AttributeError</span><span class="p">,</span> <span class="ne">TypeError</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">raise</span> <span class="ne">AttributeError</span><span class="p">()</span> 
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">AttributeError</span>:
</pre></div>
</div>
<p>Now, let’s look at what happened. The reason this fails is that <code class="docutils literal notranslate"><span class="pre">g</span></code>
calls <code class="docutils literal notranslate"><span class="pre">numpy.sin</span></code> on the input expression, and <code class="docutils literal notranslate"><span class="pre">numpy.sin</span></code> does not
know how to operate on a SymPy object. <strong>As a general rule, NumPy
functions do not know how to operate on SymPy expressions, and SymPy
functions do not know how to operate on NumPy arrays. This is why lambdify
exists: to provide a bridge between SymPy and NumPy.</strong></p>
<p>However, why is it that <code class="docutils literal notranslate"><span class="pre">f</span></code> did work? That’s because <code class="docutils literal notranslate"><span class="pre">f</span></code> doesn’t call
any functions, it only adds 1. So the resulting function that is created,
<code class="docutils literal notranslate"><span class="pre">def</span> <span class="pre">_lambdifygenerated(x):</span> <span class="pre">return</span> <span class="pre">x</span> <span class="pre">+</span> <span class="pre">1</span></code> does not depend on the globals
namespace it is defined in. Thus it works, but only by accident. A future
version of <code class="docutils literal notranslate"><span class="pre">lambdify</span></code> may remove this behavior.</p>
<p>Be aware that certain implementation details described here may change in
future versions of SymPy. The API of passing in custom modules and
printers will not change, but the details of how a lambda function is
created may change. However, the basic idea will remain the same, and
understanding it will be helpful to understanding the behavior of
lambdify.</p>
<p><strong>In general: you should create lambdified functions for one module (say,
NumPy), and only pass it input types that are compatible with that module
(say, NumPy arrays).</strong> Remember that by default, if the <code class="docutils literal notranslate"><span class="pre">module</span></code>
argument is not provided, <code class="docutils literal notranslate"><span class="pre">lambdify</span></code> creates functions using the NumPy
and SciPy namespaces.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.leastsq">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.</span></span><span class="sig-name descname"><span class="pre">leastsq</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">args</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">()</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Dfun</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">full_output</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">col_deriv</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ftol</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.49012e-08</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xtol</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.49012e-08</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gtol</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">maxfev</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">epsfcn</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">factor</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">100</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">diag</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.leastsq" title="Permalink to this definition">¶</a></dt>
<dd><p>Minimize the sum of squares of a set of equations.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="n">arg</span> <span class="nb">min</span><span class="p">(</span><span class="nb">sum</span><span class="p">(</span><span class="n">func</span><span class="p">(</span><span class="n">y</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span><span class="p">,</span><span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">))</span>
         <span class="n">y</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>func</strong> (<em>callable</em>) – Should take at least one (possibly length <code class="docutils literal notranslate"><span class="pre">N</span></code> vector) argument and
returns <code class="docutils literal notranslate"><span class="pre">M</span></code> floating point numbers. It must not return NaNs or
fitting might fail. <code class="docutils literal notranslate"><span class="pre">M</span></code> must be greater than or equal to <code class="docutils literal notranslate"><span class="pre">N</span></code>.</p></li>
<li><p><strong>x0</strong> (<em>ndarray</em>) – The starting estimate for the minimization.</p></li>
<li><p><strong>args</strong> (<em>tuple</em><em>, </em><em>optional</em>) – Any extra arguments to func are placed in this tuple.</p></li>
<li><p><strong>Dfun</strong> (<em>callable</em><em>, </em><em>optional</em>) – A function or method to compute the Jacobian of func with derivatives
across the rows. If this is None, the Jacobian will be estimated.</p></li>
<li><p><strong>full_output</strong> (<em>bool</em><em>, </em><em>optional</em>) – non-zero to return all optional outputs.</p></li>
<li><p><strong>col_deriv</strong> (<em>bool</em><em>, </em><em>optional</em>) – non-zero to specify that the Jacobian function computes derivatives
down the columns (faster, because there is no transpose operation).</p></li>
<li><p><strong>ftol</strong> (<em>float</em><em>, </em><em>optional</em>) – Relative error desired in the sum of squares.</p></li>
<li><p><strong>xtol</strong> (<em>float</em><em>, </em><em>optional</em>) – Relative error desired in the approximate solution.</p></li>
<li><p><strong>gtol</strong> (<em>float</em><em>, </em><em>optional</em>) – Orthogonality desired between the function vector and the columns of
the Jacobian.</p></li>
<li><p><strong>maxfev</strong> (<em>int</em><em>, </em><em>optional</em>) – The maximum number of calls to the function. If <cite>Dfun</cite> is provided,
then the default <cite>maxfev</cite> is 100*(N+1) where N is the number of elements
in x0, otherwise the default <cite>maxfev</cite> is 200*(N+1).</p></li>
<li><p><strong>epsfcn</strong> (<em>float</em><em>, </em><em>optional</em>) – A variable used in determining a suitable step length for the forward-
difference approximation of the Jacobian (for Dfun=None).
Normally the actual step length will be sqrt(epsfcn)*x
If epsfcn is less than the machine precision, it is assumed that the
relative errors are of the order of the machine precision.</p></li>
<li><p><strong>factor</strong> (<em>float</em><em>, </em><em>optional</em>) – A parameter determining the initial step bound
(<code class="docutils literal notranslate"><span class="pre">factor</span> <span class="pre">*</span> <span class="pre">||</span> <span class="pre">diag</span> <span class="pre">*</span> <span class="pre">x||</span></code>). Should be in interval <code class="docutils literal notranslate"><span class="pre">(0.1,</span> <span class="pre">100)</span></code>.</p></li>
<li><p><strong>diag</strong> (<em>sequence</em><em>, </em><em>optional</em>) – N positive entries that serve as a scale factors for the variables.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul>
<li><p><strong>x</strong> (<em>ndarray</em>) – The solution (or the result of the last iteration for an unsuccessful
call).</p></li>
<li><p><strong>cov_x</strong> (<em>ndarray</em>) – The inverse of the Hessian. <cite>fjac</cite> and <cite>ipvt</cite> are used to construct an
estimate of the Hessian. A value of None indicates a singular matrix,
which means the curvature in parameters <cite>x</cite> is numerically flat. To
obtain the covariance matrix of the parameters <cite>x</cite>, <cite>cov_x</cite> must be
multiplied by the variance of the residuals – see curve_fit.</p></li>
<li><p><strong>infodict</strong> (<em>dict</em>) – a dictionary of optional outputs with the keys:</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">nfev</span></code></dt><dd><p>The number of function calls</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">fvec</span></code></dt><dd><p>The function evaluated at the output</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">fjac</span></code></dt><dd><p>A permutation of the R matrix of a QR
factorization of the final approximate
Jacobian matrix, stored column wise.
Together with ipvt, the covariance of the
estimate can be approximated.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">ipvt</span></code></dt><dd><p>An integer array of length N which defines
a permutation matrix, p, such that
fjac*p = q*r, where r is upper triangular
with diagonal elements of nonincreasing
magnitude. Column j of p is column ipvt(j)
of the identity matrix.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">qtf</span></code></dt><dd><p>The vector (transpose(q) * fvec).</p>
</dd>
</dl>
</li>
<li><p><strong>mesg</strong> (<em>str</em>) – A string message giving information about the cause of failure.</p></li>
<li><p><strong>ier</strong> (<em>int</em>) – An integer flag. If it is equal to 1, 2, 3 or 4, the solution was
found. Otherwise, the solution was not found. In either case, the
optional output variable ‘mesg’ gives more information.</p></li>
</ul>
</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><code class="xref py py-obj docutils literal notranslate"><span class="pre">least_squares</span></code></dt><dd><p>Newer interface to solve nonlinear least-squares problems with bounds on the variables. See <code class="docutils literal notranslate"><span class="pre">method=='lm'</span></code> in particular.</p>
</dd>
</dl>
</div>
<p class="rubric">Notes</p>
<p>“leastsq” is a wrapper around MINPACK’s lmdif and lmder algorithms.</p>
<p>cov_x is a Jacobian approximation to the Hessian of the least squares
objective function.
This approximation assumes that the objective function is based on the
difference between some observed target data (ydata) and a (non-linear)
function of the parameters <cite>f(xdata, params)</cite></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">func</span><span class="p">(</span><span class="n">params</span><span class="p">)</span> <span class="o">=</span> <span class="n">ydata</span> <span class="o">-</span> <span class="n">f</span><span class="p">(</span><span class="n">xdata</span><span class="p">,</span> <span class="n">params</span><span class="p">)</span>
</pre></div>
</div>
<p>so that the objective function is</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>  <span class="nb">min</span>   <span class="nb">sum</span><span class="p">((</span><span class="n">ydata</span> <span class="o">-</span> <span class="n">f</span><span class="p">(</span><span class="n">xdata</span><span class="p">,</span> <span class="n">params</span><span class="p">))</span><span class="o">**</span><span class="mi">2</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="n">params</span>
</pre></div>
</div>
<p>The solution, <cite>x</cite>, is always a 1-D array, regardless of the shape of <cite>x0</cite>,
or whether <cite>x0</cite> is a scalar.</p>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">scipy.optimize</span> <span class="kn">import</span> <span class="n">leastsq</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">func</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">return</span> <span class="mi">2</span><span class="o">*</span><span class="p">(</span><span class="n">x</span><span class="o">-</span><span class="mi">3</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span><span class="o">+</span><span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">leastsq</span><span class="p">(</span><span class="n">func</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="go">(array([2.99999999]), 1)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.level_str_to_int">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.</span></span><span class="sig-name descname"><span class="pre">level_str_to_int</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">level</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.level_str_to_int" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.listdir">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.</span></span><span class="sig-name descname"><span class="pre">listdir</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.listdir" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list containing the names of the files in the directory.</p>
<dl class="simple">
<dt>path can be specified as either str, bytes, or a path-like object.  If path is bytes,</dt><dd><p>the filenames returned will also be bytes; in all other circumstances
the filenames returned will be str.</p>
</dd>
</dl>
<p>If path is None, uses the path=’.’.
On some platforms, path may also be specified as an open file descriptor;</p>
<blockquote>
<div><p>the file descriptor must refer to a directory.
If this functionality is unavailable, using it raises NotImplementedError.</p>
</div></blockquote>
<p>The list is in arbitrary order.  It does not include the special
entries ‘.’ and ‘..’ even if they are present in the directory.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pyspecdata.lmfitdata">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">pyspecdata.</span></span><span class="sig-name descname"><span class="pre">lmfitdata</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.lmfitdata" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="../generated/pyspecdata.core.nddata.html#pyspecdata.core.nddata" title="pyspecdata.core.nddata"><code class="xref py py-class docutils literal notranslate"><span class="pre">pyspecdata.core.nddata</span></code></a></p>
<p>Inherits from an nddata and enables curve fitting through use of a sympy expression.</p>
<p>The user creates a lmfitdata class object from an existing nddata
class object, and on this lmfitdata object can define the
<a class="reference internal" href="#pyspecdata.lmfitdata.functional_form" title="pyspecdata.lmfitdata.functional_form"><code class="xref py py-func docutils literal notranslate"><span class="pre">functional_form()</span></code></a> of the curve it would like to fit to the
data of the original nddata.
This functional form must be provided as a sympy expression, with
one of its variables matching the name of the dimension that the
user would like to fit to.</p>
<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.lmfitdata.add_inactive_p">
<span class="sig-name descname"><span class="pre">add_inactive_p</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">p</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.lmfitdata.add_inactive_p" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.lmfitdata.copy">
<span class="sig-name descname"><span class="pre">copy</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.lmfitdata.copy" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a full copy of this instance.</p>
<p>Because methods typically change the data in place, you might want to
use this frequently.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>data</strong> (<em>boolean</em>) – <p>Default to True.
False doesn’t copy the data – this is for internal use,
<em>e.g.</em> when you want to copy all the metadata and perform a
calculation on the data.</p>
<p>The code for this also provides the definitive list of the
nddata metadata.</p>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.lmfitdata.eval">
<span class="sig-name descname"><span class="pre">eval</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">taxis</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">set_what</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">set_to</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.lmfitdata.eval" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the fit function along the axis taxis.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>taxis</strong> (<em>ndarray</em><em>, </em><em>int</em>) – <dl class="field-list simple">
<dt class="field-odd">if ndarray</dt>
<dd class="field-odd"><p>the new axis coordinates along which we want to calculate the fit.</p>
</dd>
<dt class="field-even">if int</dt>
<dd class="field-even"><p>number of evenly spaced points along the t-axis along the fit</p>
</dd>
</dl>
</p></li>
<li><p><strong>set_what</strong> (<em>'str'</em><em>, </em><em>optional</em>) – forcibly sets a specific symbol</p></li>
<li><p><strong>set_to</strong> (<em>double</em><em>, </em><em>optional</em>) – the specific value(int) you are assigning the symbol you included</p></li>
</ul>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>self</strong> – the fit function evaluated along the axis coordinates that were passed</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference internal" href="../pyspecdata.html#id0" title="pyspecdata.nddata">nddata</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.lmfitdata.fit">
<span class="sig-name descname"><span class="pre">fit</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.lmfitdata.fit" title="Permalink to this definition">¶</a></dt>
<dd><p>actually run the fit</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="pyspecdata.lmfitdata.function_string">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">function_string</span></span><a class="headerlink" href="#pyspecdata.lmfitdata.function_string" title="Permalink to this definition">¶</a></dt>
<dd><p>A property of the myfitclass class which stores a string
output of the functional form of the desired fit expression
provided in func:<cite>functional_form</cite> in LaTeX format</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="pyspecdata.lmfitdata.functional_form">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">functional_form</span></span><a class="headerlink" href="#pyspecdata.lmfitdata.functional_form" title="Permalink to this definition">¶</a></dt>
<dd><p>A property of the myfitclass class which is set by the user,
takes as input a sympy expression of the desired fit
expression</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.lmfitdata.gen_indices">
<span class="sig-name descname"><span class="pre">gen_indices</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">this_set</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">set_to</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.lmfitdata.gen_indices" title="Permalink to this definition">¶</a></dt>
<dd><p>pass this this_set and this_set_to parameters, and it will return:
indices,values,mask
indices –&gt; gives the indices that are forced
values –&gt; the values they are forced to
mask –&gt; p[mask] are actually active in the fit</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.lmfitdata.guess">
<span class="sig-name descname"><span class="pre">guess</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.lmfitdata.guess" title="Permalink to this definition">¶</a></dt>
<dd><p>Old code that we are preserving here – provide the guess for our
parameters; by default, based on pseudoinverse</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.lmfitdata.latex">
<span class="sig-name descname"><span class="pre">latex</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.lmfitdata.latex" title="Permalink to this definition">¶</a></dt>
<dd><p>show the latex string for the function, with all the symbols substituted by their values</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.lmfitdata.output">
<span class="sig-name descname"><span class="pre">output</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.lmfitdata.output" title="Permalink to this definition">¶</a></dt>
<dd><p>give the fit value of a particular symbol, or a dictionary of all values.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>name</strong> (<em>str</em><em> (</em><em>optional</em><em>)</em>) – name of the symbol.
If no name is passed, then output returns a dictionary of the
resulting values.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>retval</strong> – Either a dictionary of all the values, or the value itself</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict or float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.lmfitdata.residual">
<span class="sig-name descname"><span class="pre">residual</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pars</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sigma</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.lmfitdata.residual" title="Permalink to this definition">¶</a></dt>
<dd><p>calculate the residual OR if data is None, return fake data</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.lmfitdata.run_lambda">
<span class="sig-name descname"><span class="pre">run_lambda</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pars</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.lmfitdata.run_lambda" title="Permalink to this definition">¶</a></dt>
<dd><p>actually run the lambda function we separate this in case we want
our function to involve something else, as well (e.g. taking a Fourier
transform)</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.lmfitdata.set_guess">
<span class="sig-name descname"><span class="pre">set_guess</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.lmfitdata.set_guess" title="Permalink to this definition">¶</a></dt>
<dd><p>set both the guess and the bounds</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>guesses</strong> (<em>dict of dicts</em>) – <p>each dict has a keyword giving the parameter and a value
that comprises a dict with guesses (value) and/or constraints
(min/max)</p>
<p>Can be passed either as the only argument, or a kwarg called
guesses, or as the kwargs themselves.</p>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.lmfitdata.settoguess">
<span class="sig-name descname"><span class="pre">settoguess</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.lmfitdata.settoguess" title="Permalink to this definition">¶</a></dt>
<dd><p>a debugging function, to easily plot the initial guess</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.load_indiv_file">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.</span></span><span class="sig-name descname"><span class="pre">load_indiv_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dimname</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_acq</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">add_sizes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">add_dims</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_sweep</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">indirect_dimlabels</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">expno</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exp_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_list</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.load_indiv_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Open the file given by <cite>filename</cite>, use file signature magic and/or
filename extension(s) to identify the file type, and call the appropriate
function to open it.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dimname</strong> (<em>str</em>) – When there is a single indirect dimension composed of several scans,
call the indirect dimension <cite>dimname</cite>.</p></li>
<li><p><strong>return_acq</strong> (<em>DEPRECATED</em>) – </p></li>
<li><p><strong>add_sizes</strong> (<em>list</em>) – the sizes associated with the dimensions in add_dims</p></li>
<li><p><strong>add_dims</strong> (<em>list</em>) – Can only be used with <cite>dimname</cite>.
Break the dimension <cite>dimname</cite> into several dimensions,
with the names given by the list <cite>add_dims</cite> and sizes given by <cite>add_sizes</cite>.
If the product of the sizes is not the same as the original dimension
given by <cite>dimname</cite>,
retain it as the “outermost” (leftmost) dimension.
<code class="xref py py-func docutils literal notranslate"><span class="pre">pyspecdata.core.chunkoff()</span></code> is used to do this, like so:
<code class="docutils literal notranslate"><span class="pre">data.chunkoff(dimname,add_dims,add_sizes)</span></code></p></li>
<li><p><strong>indirect_dimlabels</strong> (<em>str</em><em> or </em><em>None</em>) – passed through to <cite>acert.load_pulse</cite> (names an indirect dimension when dimlabels isn’t provided)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the nddata containing the data,
or else, <cite>None</cite>, indicating that this is part of a pair of
files that should be skipped</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="../pyspecdata.html#id0" title="pyspecdata.nddata">nddata</a> or None</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.load_t1_axis">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.</span></span><span class="sig-name descname"><span class="pre">load_t1_axis</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.load_t1_axis" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.log_fname">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.</span></span><span class="sig-name descname"><span class="pre">log_fname</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">logname</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fname</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dirname</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exp_type</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.log_fname" title="Permalink to this definition">¶</a></dt>
<dd><p>logs the file name either used or missing into a csv file.</p>
<p>Also, by setting the <cite>err</cite> flag to True, you can generate an error message
that will guide you on how to selectively copy down this data from a remote source
(google drive, etc.), <em>e.g.</em>:</p>
<dl class="simple">
<dt><a href="#id48"><span class="problematic" id="id49">``</span></a>Traceback (most recent call last):</dt><dd><dl class="simple">
<dt>File “proc_square_refl.py”, line 21, in &lt;module&gt;</dt><dd><p>directory=getDATADIR(exp_type=’test_equip’))</p>
</dd>
<dt>File “c:usersjohnfnotebookpyspecdatapyspecdatacore.py”, line 6630, in __init__</dt><dd><p>check_only=True, directory=directory)</p>
</dd>
<dt>File “c:usersjohnfnotebookpyspecdatapyspecdatacore.py”, line 1041, in h5nodebypath</dt><dd><p>+errmsg)</p>
</dd>
</dl>
</dd>
</dl>
<p>AttributeError: You’re checking for a node in a file (200110_pulse_2.h5) that does not exist
I can’t find 200110_pulse_2.h5 in C:Usersjohnfexp_datatest_equip, so I’m going to search for t in your rclone remotes
checking remote g_syr:
You should be able to retrieve this file with:
rclone copy -v –include ‘200110_pulse_2.h5’ g_syr:exp_data/test_equip C:\Users\johnf\exp_data\test_equip``</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.lookup_rec">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.</span></span><span class="sig-name descname"><span class="pre">lookup_rec</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">A</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">B</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">indexpair</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.lookup_rec" title="Permalink to this definition">¶</a></dt>
<dd><p>look up information about A in table B (i.e. chemical by index, etc)
indexpair is either the name of the index
or – if it’s differently named – the pair of indices
given in (A,B) respectively</p>
<p>This will just drop any fields in B that are also in A,
and the output uses the first indexname</p>
<p>note that it it seems like the join_rec function above may be more efficient!!</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.lrecordarray">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.</span></span><span class="sig-name descname"><span class="pre">lrecordarray</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.lrecordarray" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.lsafe">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.</span></span><span class="sig-name descname"><span class="pre">lsafe</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">string</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.lsafe" title="Permalink to this definition">¶</a></dt>
<dd><p>Output properly escaped for latex</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.lsafen">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.</span></span><span class="sig-name descname"><span class="pre">lsafen</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">string</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.lsafen" title="Permalink to this definition">¶</a></dt>
<dd><p>see lsafe, but with an added double newline</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.make_bar_graph_indices">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.</span></span><span class="sig-name descname"><span class="pre">make_bar_graph_indices</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mystructarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">list_of_text_fields</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">recursion_depth</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spacing</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.make_bar_graph_indices" title="Permalink to this definition">¶</a></dt>
<dd><p>This is a recursive function that is used as part of textlabel_bargraph; it does NOT work without the sorting given at the beginning of that function</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.make_ndarray">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.</span></span><span class="sig-name descname"><span class="pre">make_ndarray</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">array_to_conv</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name_forprint</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'unknown'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.make_ndarray" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.make_rec">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.</span></span><span class="sig-name descname"><span class="pre">make_rec</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.make_rec" title="Permalink to this definition">¶</a></dt>
<dd><p>input,names or a single argument, which is a dictionarynstrlen = 100 gives length of the strings (which need to be specified in record arrays)nyou can also specify (especially useful with the dictionary format) the list order = [str1,str2,…] which orders the output records with the field containing str1 first, then the field containing str2, then any remaining fields</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.maprep">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.</span></span><span class="sig-name descname"><span class="pre">maprep</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">mylist</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.maprep" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.meanstd_rec">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.</span></span><span class="sig-name descname"><span class="pre">meanstd_rec</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">myarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mylist</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">standard_error</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.meanstd_rec" title="Permalink to this definition">¶</a></dt>
<dd><p>this is something like applyto_rec, except that it applies the mean and creates new rows for the “error,” where it puts the standard deviation</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.mybasicfunction">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.</span></span><span class="sig-name descname"><span class="pre">mybasicfunction</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">first_figure</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.mybasicfunction" title="Permalink to this definition">¶</a></dt>
<dd><p>this gives the format for doing the image thing
note also
nextfigure(fl,’name’)
and
nextfigure({‘lplotproperty’:value})</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.mydiff">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.</span></span><span class="sig-name descname"><span class="pre">mydiff</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">axis</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-</span> <span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.mydiff" title="Permalink to this definition">¶</a></dt>
<dd><p>this will replace np.diff with a version that has the same number of indices, with the last being the copy of the first</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.myfilter">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.</span></span><span class="sig-name descname"><span class="pre">myfilter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">center</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">250000.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sigma</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">100000.0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.myfilter" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.myplotfunc">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.</span></span><span class="sig-name descname"><span class="pre">myplotfunc</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scalex</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scaley</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.myplotfunc" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot y versus x as lines and/or markers.</p>
<p>Call signatures:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">plot</span><span class="p">([</span><span class="n">x</span><span class="p">],</span> <span class="n">y</span><span class="p">,</span> <span class="p">[</span><span class="n">fmt</span><span class="p">],</span> <span class="o">*</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
<span class="n">plot</span><span class="p">([</span><span class="n">x</span><span class="p">],</span> <span class="n">y</span><span class="p">,</span> <span class="p">[</span><span class="n">fmt</span><span class="p">],</span> <span class="p">[</span><span class="n">x2</span><span class="p">],</span> <span class="n">y2</span><span class="p">,</span> <span class="p">[</span><span class="n">fmt2</span><span class="p">],</span> <span class="o">...</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</pre></div>
</div>
<p>The coordinates of the points or line nodes are given by <em>x</em>, <em>y</em>.</p>
<p>The optional parameter <em>fmt</em> is a convenient way for defining basic
formatting like color, marker and linestyle. It’s a shortcut string
notation described in the <em>Notes</em> section below.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>        <span class="c1"># plot x and y using default line style and color</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="s1">&#39;bo&#39;</span><span class="p">)</span>  <span class="c1"># plot x and y using blue circle markers</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plot</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>           <span class="c1"># plot y using x as index array 0..N-1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plot</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="s1">&#39;r+&#39;</span><span class="p">)</span>     <span class="c1"># ditto, but with red plusses</span>
</pre></div>
</div>
<p>You can use <cite>.Line2D</cite> properties as keyword arguments for more
control on the appearance. Line properties and <em>fmt</em> can be mixed.
The following two calls yield identical results:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="s1">&#39;go--&#39;</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">markersize</span><span class="o">=</span><span class="mi">12</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;green&#39;</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="s1">&#39;o&#39;</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;dashed&#39;</span><span class="p">,</span>
<span class="gp">... </span>     <span class="n">linewidth</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">markersize</span><span class="o">=</span><span class="mi">12</span><span class="p">)</span>
</pre></div>
</div>
<p>When conflicting with <em>fmt</em>, keyword arguments take precedence.</p>
<p><strong>Plotting labelled data</strong></p>
<p>There’s a convenient way for plotting objects with labelled data (i.e.
data that can be accessed by index <code class="docutils literal notranslate"><span class="pre">obj['y']</span></code>). Instead of giving
the data in <em>x</em> and <em>y</em>, you can provide the object in the <em>data</em>
parameter and just give the labels for <em>x</em> and <em>y</em>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">plot</span><span class="p">(</span><span class="s1">&#39;xlabel&#39;</span><span class="p">,</span> <span class="s1">&#39;ylabel&#39;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">obj</span><span class="p">)</span>
</pre></div>
</div>
<p>All indexable objects are supported. This could e.g. be a <cite>dict</cite>, a
<cite>pandas.DataFrame</cite> or a structured numpy array.</p>
<p><strong>Plotting multiple sets of data</strong></p>
<p>There are various ways to plot multiple sets of data.</p>
<ul>
<li><p>The most straight forward way is just to call <cite>plot</cite> multiple times.
Example:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">plot</span><span class="p">(</span><span class="n">x1</span><span class="p">,</span> <span class="n">y1</span><span class="p">,</span> <span class="s1">&#39;bo&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plot</span><span class="p">(</span><span class="n">x2</span><span class="p">,</span> <span class="n">y2</span><span class="p">,</span> <span class="s1">&#39;go&#39;</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><p>If <em>x</em> and/or <em>y</em> are 2D arrays a separate data set will be drawn
for every column. If both <em>x</em> and <em>y</em> are 2D, they must have the
same shape. If only one of them is 2D with shape (N, m) the other
must have length N and will be used for every data set m.</p>
<p>Example:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
</pre></div>
</div>
<p>is equivalent to:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">y</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]):</span>
<span class="gp">... </span>    <span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">[:,</span> <span class="n">col</span><span class="p">])</span>
</pre></div>
</div>
</li>
<li><p>The third way is to specify multiple sets of <em>[x]</em>, <em>y</em>, <em>[fmt]</em>
groups:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">plot</span><span class="p">(</span><span class="n">x1</span><span class="p">,</span> <span class="n">y1</span><span class="p">,</span> <span class="s1">&#39;g^&#39;</span><span class="p">,</span> <span class="n">x2</span><span class="p">,</span> <span class="n">y2</span><span class="p">,</span> <span class="s1">&#39;g-&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>In this case, any additional keyword argument applies to all
datasets. Also this syntax cannot be combined with the <em>data</em>
parameter.</p>
</li>
</ul>
<p>By default, each line is assigned a different style specified by a
‘style cycle’. The <em>fmt</em> and line property parameters are only
necessary if you want explicit deviations from these defaults.
Alternatively, you can also change the style cycle using
<a href="#id50"><span class="problematic" id="id51">:rc:`axes.prop_cycle`</span></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<em>array-like</em><em> or </em><em>scalar</em>) – <p>The horizontal / vertical coordinates of the data points.
<em>x</em> values are optional and default to <code class="docutils literal notranslate"><span class="pre">range(len(y))</span></code>.</p>
<p>Commonly, these parameters are 1D arrays.</p>
<p>They can also be scalars, or two-dimensional (in that case, the
columns represent separate data sets).</p>
<p>These arguments cannot be passed as keywords.</p>
</p></li>
<li><p><strong>y</strong> (<em>array-like</em><em> or </em><em>scalar</em>) – <p>The horizontal / vertical coordinates of the data points.
<em>x</em> values are optional and default to <code class="docutils literal notranslate"><span class="pre">range(len(y))</span></code>.</p>
<p>Commonly, these parameters are 1D arrays.</p>
<p>They can also be scalars, or two-dimensional (in that case, the
columns represent separate data sets).</p>
<p>These arguments cannot be passed as keywords.</p>
</p></li>
<li><p><strong>fmt</strong> (<em>str</em><em>, </em><em>optional</em>) – <p>A format string, e.g. ‘ro’ for red circles. See the <em>Notes</em>
section for a full description of the format strings.</p>
<p>Format strings are just an abbreviation for quickly setting
basic line properties. All of these and more can also be
controlled by keyword arguments.</p>
<p>This argument cannot be passed as keyword.</p>
</p></li>
<li><p><strong>data</strong> (<em>indexable object</em><em>, </em><em>optional</em>) – <p>An object with labelled data. If given, provide the label names to
plot in <em>x</em> and <em>y</em>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Technically there’s a slight ambiguity in calls where the
second label is a valid <em>fmt</em>. <code class="docutils literal notranslate"><span class="pre">plot('n',</span> <span class="pre">'o',</span> <span class="pre">data=obj)</span></code>
could be <code class="docutils literal notranslate"><span class="pre">plt(x,</span> <span class="pre">y)</span></code> or <code class="docutils literal notranslate"><span class="pre">plt(y,</span> <span class="pre">fmt)</span></code>. In such cases,
the former interpretation is chosen, but a warning is issued.
You may suppress the warning by adding an empty format string
<code class="docutils literal notranslate"><span class="pre">plot('n',</span> <span class="pre">'o',</span> <span class="pre">'',</span> <span class="pre">data=obj)</span></code>.</p>
</div>
</p></li>
<li><p><strong>scalex</strong> (<em>bool</em><em>, </em><em>default: True</em>) – These parameters determine if the view limits are adapted to the
data limits. The values are passed on to <cite>autoscale_view</cite>.</p></li>
<li><p><strong>scaley</strong> (<em>bool</em><em>, </em><em>default: True</em>) – These parameters determine if the view limits are adapted to the
data limits. The values are passed on to <cite>autoscale_view</cite>.</p></li>
<li><p><strong>**kwargs</strong> (<cite>.Line2D</cite> properties, optional) – <p><em>kwargs</em> are used to specify properties like a line label (for
auto legends), linewidth, antialiasing, marker face color.
Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">plot</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="s1">&#39;go-&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;line 1&#39;</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plot</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">9</span><span class="p">],</span> <span class="s1">&#39;rs&#39;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;line 2&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>If you specify multiple lines with one plot call, the kwargs apply
to all those lines. In case the label object is iterable, each
element is used as labels for each set of data.</p>
<p>Here is a list of available <cite>.Line2D</cite> properties:</p>
<p>Properties:
agg_filter: a filter function, which takes a (m, n, 3) float array and a dpi value, and returns a (m, n, 3) array
alpha: scalar or None
animated: bool
antialiased or aa: bool
clip_box: <cite>.Bbox</cite>
clip_on: bool
clip_path: Patch or (Path, Transform) or None
color or c: color
contains: unknown
dash_capstyle: <cite>.CapStyle</cite> or {‘butt’, ‘projecting’, ‘round’}
dash_joinstyle: <cite>.JoinStyle</cite> or {‘miter’, ‘round’, ‘bevel’}
dashes: sequence of floats (on/off ink in points) or (None, None)
data: (2, N) array or two 1D arrays
drawstyle or ds: {‘default’, ‘steps’, ‘steps-pre’, ‘steps-mid’, ‘steps-post’}, default: ‘default’
figure: <cite>.Figure</cite>
fillstyle: {‘full’, ‘left’, ‘right’, ‘bottom’, ‘top’, ‘none’}
gid: str
in_layout: bool
label: object
linestyle or ls: {‘-’, ‘–’, ‘-.’, ‘:’, ‘’, (offset, on-off-seq), …}
linewidth or lw: float
marker: marker style string, <cite>~.path.Path</cite> or <cite>~.markers.MarkerStyle</cite>
markeredgecolor or mec: color
markeredgewidth or mew: float
markerfacecolor or mfc: color
markerfacecoloralt or mfcalt: color
markersize or ms: float
markevery: None or int or (int, int) or slice or list[int] or float or (float, float) or list[bool]
path_effects: <cite>.AbstractPathEffect</cite>
picker: float or callable[[Artist, Event], tuple[bool, dict]]
pickradius: float
rasterized: bool
sketch_params: (scale: float, length: float, randomness: float)
snap: bool or None
solid_capstyle: <cite>.CapStyle</cite> or {‘butt’, ‘projecting’, ‘round’}
solid_joinstyle: <cite>.JoinStyle</cite> or {‘miter’, ‘round’, ‘bevel’}
transform: <cite>matplotlib.transforms.Transform</cite>
url: str
visible: bool
xdata: 1D array
ydata: 1D array
zorder: float</p>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A list of lines representing the plotted data.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list of <cite>.Line2D</cite></p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><code class="xref py py-obj docutils literal notranslate"><span class="pre">scatter</span></code></dt><dd><p>XY scatter plot with markers of varying size and/or color ( sometimes also called bubble chart).</p>
</dd>
</dl>
</div>
<p class="rubric">Notes</p>
<p><strong>Format Strings</strong></p>
<p>A format string consists of a part for color, marker and line:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">fmt</span> <span class="o">=</span> <span class="s1">&#39;[marker][line][color]&#39;</span>
</pre></div>
</div>
<p>Each of them is optional. If not provided, the value from the style
cycle is used. Exception: If <code class="docutils literal notranslate"><span class="pre">line</span></code> is given, but no <code class="docutils literal notranslate"><span class="pre">marker</span></code>,
the data will be a line without markers.</p>
<p>Other combinations such as <code class="docutils literal notranslate"><span class="pre">[color][marker][line]</span></code> are also
supported, but note that their parsing may be ambiguous.</p>
<p><strong>Markers</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 30%" />
<col style="width: 70%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>character</p></th>
<th class="head"><p>description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">'.'</span></code></p></td>
<td><p>point marker</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">','</span></code></p></td>
<td><p>pixel marker</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">'o'</span></code></p></td>
<td><p>circle marker</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">'v'</span></code></p></td>
<td><p>triangle_down marker</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">'^'</span></code></p></td>
<td><p>triangle_up marker</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">'&lt;'</span></code></p></td>
<td><p>triangle_left marker</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">'&gt;'</span></code></p></td>
<td><p>triangle_right marker</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">'1'</span></code></p></td>
<td><p>tri_down marker</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">'2'</span></code></p></td>
<td><p>tri_up marker</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">'3'</span></code></p></td>
<td><p>tri_left marker</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">'4'</span></code></p></td>
<td><p>tri_right marker</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">'8'</span></code></p></td>
<td><p>octagon marker</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">'s'</span></code></p></td>
<td><p>square marker</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">'p'</span></code></p></td>
<td><p>pentagon marker</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">'P'</span></code></p></td>
<td><p>plus (filled) marker</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">'*'</span></code></p></td>
<td><p>star marker</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">'h'</span></code></p></td>
<td><p>hexagon1 marker</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">'H'</span></code></p></td>
<td><p>hexagon2 marker</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">'+'</span></code></p></td>
<td><p>plus marker</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">'x'</span></code></p></td>
<td><p>x marker</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">'X'</span></code></p></td>
<td><p>x (filled) marker</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">'D'</span></code></p></td>
<td><p>diamond marker</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">'d'</span></code></p></td>
<td><p>thin_diamond marker</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">'|'</span></code></p></td>
<td><p>vline marker</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">'_'</span></code></p></td>
<td><p>hline marker</p></td>
</tr>
</tbody>
</table>
<p><strong>Line Styles</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 30%" />
<col style="width: 70%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>character</p></th>
<th class="head"><p>description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">'-'</span></code></p></td>
<td><p>solid line style</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">'--'</span></code></p></td>
<td><p>dashed line style</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">'-.'</span></code></p></td>
<td><p>dash-dot line style</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">':'</span></code></p></td>
<td><p>dotted line style</p></td>
</tr>
</tbody>
</table>
<p>Example format strings:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s1">&#39;b&#39;</span>    <span class="c1"># blue markers with default shape</span>
<span class="s1">&#39;or&#39;</span>   <span class="c1"># red circles</span>
<span class="s1">&#39;-g&#39;</span>   <span class="c1"># green solid line</span>
<span class="s1">&#39;--&#39;</span>   <span class="c1"># dashed line with default color</span>
<span class="s1">&#39;^k:&#39;</span>  <span class="c1"># black triangle_up markers connected by a dotted line</span>
</pre></div>
</div>
<p><strong>Colors</strong></p>
<p>The supported color abbreviations are the single letter codes</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 30%" />
<col style="width: 70%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>character</p></th>
<th class="head"><p>color</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">'b'</span></code></p></td>
<td><p>blue</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">'g'</span></code></p></td>
<td><p>green</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">'r'</span></code></p></td>
<td><p>red</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">'c'</span></code></p></td>
<td><p>cyan</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">'m'</span></code></p></td>
<td><p>magenta</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">'y'</span></code></p></td>
<td><p>yellow</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">'k'</span></code></p></td>
<td><p>black</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">'w'</span></code></p></td>
<td><p>white</p></td>
</tr>
</tbody>
</table>
<p>and the <code class="docutils literal notranslate"><span class="pre">'CN'</span></code> colors that index into the default property cycle.</p>
<p>If the color is the only part of the format string, you can
additionally use any  <cite>matplotlib.colors</cite> spec, e.g. full names
(<code class="docutils literal notranslate"><span class="pre">'green'</span></code>) or hex strings (<code class="docutils literal notranslate"><span class="pre">'#008000'</span></code>).</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pyspecdata.nddata">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">pyspecdata.</span></span><span class="sig-name descname"><span class="pre">nddata</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>This is the detailed API reference.
For an introduction on how to use ND-Data, see the <a class="reference internal" href="../nddata.html#nddata-summary-label"><span class="std std-ref">Main ND-Data Documentation</span></a>.</p>
<dl class="py property">
<dt class="sig sig-object py" id="pyspecdata.nddata.C">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">C</span></span><a class="headerlink" href="#pyspecdata.nddata.C" title="Permalink to this definition">¶</a></dt>
<dd><p>shortcut for copy</p>
<p>btw, what we are doing is analogous to a ruby function with
functioname!() modify result, and we can use the “out” keyword in
numpy.</p>
<dl>
<dt>..todo::</dt><dd><p>(new idea)
This should just set a flag that says “Do not allow this data to be substituted in place,”
so that if something goes to edit the data in place,
it instead first makes a copy.</p>
<p>also here, see <a class="reference external" href="https://docs.python.org/2/library/copy.html">Definition of shallow and deep copy</a></p>
<p>(older idea)
We should offer “N”, which generates something like a copy,
but which is sets the equivalent of “nopop”.
For example, currently, you need to do something like
<code class="docutils literal notranslate"><span class="pre">d.C.argmax('t2')</span></code>,
which is very inefficient, since it copies the whole np.array.
So, instead, we should do
<code class="docutils literal notranslate"><span class="pre">d.N.argmax('t2')</span></code>, which tells argmax and all other
functions not to overwrite “self” but to return a new object.
This would cause things like “run_nopop” to become obsolete.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.nddata.add_noise">
<span class="sig-name descname"><span class="pre">add_noise</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">intensity</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.add_noise" title="Permalink to this definition">¶</a></dt>
<dd><p>Add Gaussian (box-muller) noise to the data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>intensity</strong> (<em>double OR function</em>) – If a double, gives the standard deviation of the noise.
If a function, used to calculate the standard deviation of the noise from the data:
<em>e.g.</em> <code class="docutils literal notranslate"><span class="pre">lambda</span> <span class="pre">x:</span> <span class="pre">max(abs(x))/10.</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.nddata.aligndata">
<span class="sig-name descname"><span class="pre">aligndata</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">arg</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.aligndata" title="Permalink to this definition">¶</a></dt>
<dd><p>This is a fundamental method used by all of the arithmetic operations.
It uses the dimension labels of <cite>self</cite> (the current instance) and <cite>arg</cite>
(an nddata passed to this method) to generate two corresponding output
nddatas that I refer to here, respectively, as <cite>A</cite> and <cite>B</cite>.  <cite>A</cite> and
<cite>B</cite> have dimensions that are “aligned” – that is, they are identical
except for singleton dimensions (note that numpy automatically tiles
singleton dimensions).  Regardless of how the dimensions of <cite>self.data</cite>
and <cite>arg.data</cite> (the underlying numpy data) were ordered, <cite>A.data</cite> and
<cite>B.data</cite> are now ordered identically, where dimensions with the same
label (<cite>.dimlabel</cite>) correspond to the same numpy index.  This allows
you do do math.</p>
<p>Note that, currently, both <cite>A</cite> and <cite>B</cite> are given a full set of axis
labels, even for singleton dimensions.  This is because we’re assuming
you’re going to do math with them, and that the singleton dimensions
will be expanded.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>arg</strong> (<a class="reference internal" href="../pyspecdata.html#id0" title="pyspecdata.nddata"><em>nddata</em></a><em> or </em><em>np.ndarray</em>) – The nddata that you want to align to <cite>self</cite>.
If arg is an np.ndarray, it will try to match dimensions to self based
on the length of the dimension.
<strong>Note:</strong> currently there is an issue where this will only really
work for 1D data, since it first makes an nddata instance based on
arg, which apparently collapses multi-D data to 1D data.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>A</strong> (<em>nddata</em>) – realigned version of <cite>self</cite></p></li>
<li><p><strong>B</strong> (<em>nddata</em>) – realigned version of <cite>arg</cite> (the argument)</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.nddata.along">
<span class="sig-name descname"><span class="pre">along</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dimname</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.along" title="Permalink to this definition">¶</a></dt>
<dd><p>Specifies the dimension for the next matrix
multiplication (represents the rows/columns).</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="pyspecdata.nddata.angle">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">angle</span></span><a class="headerlink" href="#pyspecdata.nddata.angle" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the angle component of the data</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.nddata.argmax">
<span class="sig-name descname"><span class="pre">argmax</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.argmax" title="Permalink to this definition">¶</a></dt>
<dd><p>find the max along a particular axis, and get rid of that axis, replacing it with the index number of the max value</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>raw_index</strong> (<em>bool</em>) – return the raw (np.ndarray) numerical index, rather than the corresponding axis value
Note that the result returned is still, however, an nddata (rather than numpy np.ndarray) object.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.nddata.argmin">
<span class="sig-name descname"><span class="pre">argmin</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">axes</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.argmin" title="Permalink to this definition">¶</a></dt>
<dd><p>If <cite>np.argmin(‘axisname’)</cite> find the min along a particular axis, and get rid of that
axis, replacing it with the index number of the max value.
If <cite>np.argmin()</cite>: return a dictionary giving the coordinates of the overall minimum point.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>raw_index</strong> (<em>bool</em>) – Return the raw (np.ndarray) numerical index, rather than the corresponding axis value.
Note that the result returned is still, however, an nddata (rather than numpy np.ndarray) object.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.nddata.axis">
<span class="sig-name descname"><span class="pre">axis</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">axisname</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.axis" title="Permalink to this definition">¶</a></dt>
<dd><p>returns a 1-D axis for further manipulation</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.nddata.axlen">
<span class="sig-name descname"><span class="pre">axlen</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">axis</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.axlen" title="Permalink to this definition">¶</a></dt>
<dd><p>return the size (length) of an axis, by name</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>axis</strong> (<em>str</em>) – name of the axis whos length you are interested in</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.nddata.axn">
<span class="sig-name descname"><span class="pre">axn</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">axis</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.axn" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the index number for the axis with the name “axis”</p>
<p>This is used by many other methods.
As a simple example,
self.:func:<cite>axlen`(axis) (the axis length) returns
``np.shape(self.data)[self.axn(axis)]`</cite></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>axis</strong> (<em>str</em>) – name of the axis</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.nddata.cdf">
<span class="sig-name descname"><span class="pre">cdf</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">normalized</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_bins</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">500</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.cdf" title="Permalink to this definition">¶</a></dt>
<dd><p>calculate the Cumulative Distribution Function for the data along <cite>axis_name</cite></p>
<p>only for 1D data right now</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p></p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>A new nddata object with an axis labeled <cite>values</cite>, and data corresponding to the CDF.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.nddata.check_axis_coords_errors">
<span class="sig-name descname"><span class="pre">check_axis_coords_errors</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.check_axis_coords_errors" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.nddata.chunk">
<span class="sig-name descname"><span class="pre">chunk</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">axisin</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">otherargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.chunk" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>“Chunking” is defined here to be the opposite of taking a direct product, increasing the number of dimensions by the inverse of the process by which taking a direct product decreases the number of dimensions.  This function chunks axisin into multiple new axes arguments.:</dt><dd><p>axesout – gives the names of the output axes
shapesout – optional – if not given, it assumes equal length – if given, one of the values can be -1, which is assumed length</p>
</dd>
</dl>
<p>When there are axes, it assumes that the axes of the new dimensions
are nested – <em>e.g.</em>, it will chunk a dimension with axis:
[1,2,3,4,5,6,7,8,9,10]
into dimensions with axes:
[0,1,2,3,4], [1,6]</p>
<dl class="simple">
<dt>..todo::</dt><dd><p>Deal with this efficiently when we move to new-style axes</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.nddata.chunk_auto">
<span class="sig-name descname"><span class="pre">chunk_auto</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">axis_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">which_field</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dimname</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.chunk_auto" title="Permalink to this definition">¶</a></dt>
<dd><p>assuming that axis “axis_name” is currently labeled with a structured np.array, choose one field (“which_field”) of that structured np.array to generate a new dimension
Note that for now, by definition, no error is allowed on the axes.
However, once I upgrade to using structured arrays to handle axis and data errors, I will want to deal with that appropriately here.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.nddata.circshift">
<span class="sig-name descname"><span class="pre">circshift</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">axis</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">amount</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.circshift" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.nddata.contiguous">
<span class="sig-name descname"><span class="pre">contiguous</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lambdafunc</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">axis</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.contiguous" title="Permalink to this definition">¶</a></dt>
<dd><p>Return contiguous blocks that satisfy the condition given by <cite>lambdafunc</cite></p>
<p>this function returns the start and stop positions along the
axis for the contiguous blocks for which lambdafunc returns
true
<strong>Currently only supported for 1D data</strong></p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>adapted from stackexchange post <a class="reference external" href="http://stackoverflow.com/questions/4494404/find-large-number-of-consecutive-values-fulfilling-condition-in-a-numpy-array">http://stackoverflow.com/questions/4494404/find-large-number-of-consecutive-values-fulfilling-condition-in-a-numpy-array</a></p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>lambdafunc</strong> (<em>types.FunctionType</em>) – If only one argument (lambdafunc) is given,
then lambdafunc is
a function that accepts a copy of the current nddata object
(<cite>self</cite>) as the argument.
If two arguments are given,
the second is <cite>axis</cite>, and lambdafunc has two arguments,
<cite>self</cite> and the value of <cite>axis</cite>.</p></li>
<li><p><strong>axis</strong> (<em>{None</em><em>,</em><em>str}</em>) – the name of the axis along which you want to find contiguous
blocks</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>retval</strong> – An <span class="math notranslate nohighlight">\(N\times 2\)</span> matrix, where the <span class="math notranslate nohighlight">\(N\)</span> rows correspond to pairs of axis
label that give ranges over which <cite>lambdafunc</cite> evaluates to <cite>True</cite>.
These are ordered according to descending range width.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>np.ndarray</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">sum_for_contiguous</span> <span class="o">=</span> <span class="nb">abs</span><span class="p">(</span><span class="n">forplot</span><span class="p">)</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="s1">&#39;t1&#39;</span><span class="p">)</span>
<span class="n">fl</span><span class="o">.</span><span class="n">next</span><span class="p">(</span><span class="s2">&quot;test contiguous&quot;</span><span class="p">)</span>
<span class="n">forplot</span> <span class="o">=</span> <span class="n">sum_for_contiguous</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span><span class="o">.</span><span class="n">set_error</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>
<span class="n">fl</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">forplot</span><span class="p">,</span><span class="n">alpha</span> <span class="o">=</span> <span class="mf">0.25</span><span class="p">,</span><span class="n">linewidth</span> <span class="o">=</span> <span class="mi">3</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;this is what the max looks like&quot;</span><span class="p">,</span><span class="mf">0.5</span><span class="o">*</span><span class="n">sum_for_contiguous</span><span class="o">.</span><span class="n">set_error</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span><span class="o">.</span><span class="n">runcopy</span><span class="p">(</span><span class="nb">max</span><span class="p">,</span><span class="s1">&#39;t2&#39;</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">sum_for_contiguous</span> <span class="o">&gt;</span> <span class="mf">0.5</span><span class="o">*</span><span class="n">sum_for_contiguous</span><span class="o">.</span><span class="n">runcopy</span><span class="p">(</span><span class="nb">max</span><span class="p">,</span><span class="s1">&#39;t2&#39;</span><span class="p">))</span>
<span class="n">retval</span> <span class="o">=</span> <span class="n">sum_for_contiguous</span><span class="o">.</span><span class="n">contiguous</span><span class="p">(</span><span class="n">quarter_of_max</span><span class="p">,</span><span class="s1">&#39;t2&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;contiguous range / 1e6:&quot;</span><span class="p">,</span><span class="n">retval</span><span class="o">/</span><span class="mf">1e6</span><span class="p">)</span>
<span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">retval</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]):</span>
    <span class="n">a</span><span class="p">,</span><span class="n">b</span> <span class="o">=</span> <span class="n">retval</span><span class="p">[</span><span class="n">j</span><span class="p">,:]</span>
    <span class="n">fl</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">forplot</span><span class="p">[</span><span class="s1">&#39;t2&#39;</span><span class="p">:(</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">)])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.nddata.contour">
<span class="sig-name descname"><span class="pre">contour</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">labels</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.contour" title="Permalink to this definition">¶</a></dt>
<dd><p>Contour plot – kwargs are passed to the matplotlib
<cite>contour</cite> function.</p>
<p>See docstring of <cite>figlist_var.image()</cite> for an example</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="pyspecdata.nddata.labels">
<span class="sig-name descname"><span class="pre">labels</span></span><a class="headerlink" href="#pyspecdata.nddata.labels" title="Permalink to this definition">¶</a></dt>
<dd><p>Whether or not the levels should be labeled.
Defaults to True</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>boolean</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.nddata.convolve">
<span class="sig-name descname"><span class="pre">convolve</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">axisname</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filterwidth</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">convfunc</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'gaussian'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">enforce_causality</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.convolve" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform a convolution.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>axisname</strong> (<em>str</em>) – apply the convolution along <cite>axisname</cite></p></li>
<li><p><strong>filterwidth</strong> (<em>double</em>) – width of the convolution function
(the units of this value are specified in the
same domain as that in which the data exists
when you call this function on said data)</p></li>
<li><p><strong>convfunc</strong> (<a class="reference internal" href="#pyspecdata.function" title="pyspecdata.function"><em>function</em></a>) – A function that takes two
arguments – the first are the axis
coordinates and the second is
<cite>filterwidth</cite> (see <cite>filterwidth</cite>).
Default is a normalized Gaussian of FWHM
(<span class="math notranslate nohighlight">\(\lambda\)</span>) <cite>filterwidth</cite>
For example if you want a complex Lorentzian with <cite>filterwidth</cite> controlled by the rate <span class="math notranslate nohighlight">\(R\)</span>,
<em>i.e.</em>
<span class="math notranslate nohighlight">\(\frac{-1}{-i 2 \pi f - R}\)</span>
then <code class="docutils literal notranslate"><span class="pre">convfunc</span> <span class="pre">=</span> <span class="pre">lambda</span> <span class="pre">f,R:</span> <span class="pre">-1./(-1j*2*pi*f-R)</span></code></p></li>
<li><p><strong>enforce_causality</strong> (<em>boolean</em>) – <p>make sure that the ift of the filter doesn’t get aliased to high
time values.</p>
<p>”Causal” data here means data derived as the FT of time-domain
data that starts at time zero – like an FID – for which real
and abs parts are Hermite transform pairs.</p>
<p><cite>enforce_causality</cite> should be <cite>True</cite> for frequency-domain data
whose corresponding time-domain data has a startpoint at or near
zero, with no negative time values – like data derived from the
FT of an IFT.
In contrast, for example, if you have frequency-domain data that
is entirely real (like a power spectral density) then you want to
set enforce_causality to False.</p>
<p>It is ignored if you call a convolution on time-domain data.</p>
</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.nddata.copy">
<span class="sig-name descname"><span class="pre">copy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.copy" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a full copy of this instance.</p>
<p>Because methods typically change the data in place, you might want to
use this frequently.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>data</strong> (<em>boolean</em>) – <p>Default to True.
False doesn’t copy the data – this is for internal use,
<em>e.g.</em> when you want to copy all the metadata and perform a
calculation on the data.</p>
<p>The code for this also provides the definitive list of the
nddata metadata.</p>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.nddata.copy_axes">
<span class="sig-name descname"><span class="pre">copy_axes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">other</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.copy_axes" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.nddata.copy_props">
<span class="sig-name descname"><span class="pre">copy_props</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">other</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.copy_props" title="Permalink to this definition">¶</a></dt>
<dd><p>Copy all properties (see <a class="reference internal" href="../pyspecdata.html#pyspecdata.nddata.get_prop" title="pyspecdata.nddata.get_prop"><code class="xref py py-func docutils literal notranslate"><span class="pre">get_prop()</span></code></a>) from another nddata
object – note that these include properties pertaining the the FT
status of various dimensions.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.nddata.copyaxes">
<span class="sig-name descname"><span class="pre">copyaxes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">other</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.copyaxes" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.nddata.cropped_log">
<span class="sig-name descname"><span class="pre">cropped_log</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">subplot_axes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">magnitude</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">4</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.cropped_log" title="Permalink to this definition">¶</a></dt>
<dd><p>For the purposes of plotting, this generates a copy where I take the log, spanning “magnitude” orders of magnitude
This is designed to be called as abs(instance).cropped_log(), so it doesn’t make a copy</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.nddata.diff">
<span class="sig-name descname"><span class="pre">diff</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">thisaxis</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">backwards</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.diff" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.nddata.dot">
<span class="sig-name descname"><span class="pre">dot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">arg</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.dot" title="Permalink to this definition">¶</a></dt>
<dd><p>Tensor dot of self with arg – dot all matching dimension labels.  This can be used to do matrix multiplication, but note that the order of doesn’t matter, since the dimensions that are contracted are determined by matching the dimension names, not the order of the dimension.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">nddata</span><span class="p">(</span><span class="n">r_</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">9</span><span class="p">],[</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">],[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span><span class="s1">&#39;b&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span> <span class="o">=</span> <span class="n">nddata</span><span class="p">(</span><span class="n">r_</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">3</span><span class="p">],</span><span class="s1">&#39;b&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">a</span><span class="o">.</span><span class="n">C</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">a</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">b</span><span class="o">.</span><span class="n">data</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">nddata</span><span class="p">(</span><span class="n">r_</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">27</span><span class="p">],[</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">],[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span><span class="s1">&#39;b&#39;</span><span class="p">,</span><span class="s1">&#39;c&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span> <span class="o">=</span> <span class="n">nddata</span><span class="p">(</span><span class="n">r_</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">9</span><span class="p">],[</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">],[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span><span class="s1">&#39;b&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">a</span><span class="o">.</span><span class="n">C</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">tensordot</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">data</span><span class="p">,</span><span class="n">b</span><span class="o">.</span><span class="n">data</span><span class="p">,</span><span class="n">axes</span><span class="o">=</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">),(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">)))</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">nddata</span><span class="p">(</span><span class="n">r_</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">27</span><span class="p">],[</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">],[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span><span class="s1">&#39;b&#39;</span><span class="p">,</span><span class="s1">&#39;c&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span> <span class="o">=</span> <span class="n">nddata</span><span class="p">(</span><span class="n">r_</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">9</span><span class="p">],[</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">],[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span><span class="s1">&#39;d&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">a</span><span class="o">.</span><span class="n">C</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">tensordot</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">data</span><span class="p">,</span><span class="n">b</span><span class="o">.</span><span class="n">data</span><span class="p">,</span><span class="n">axes</span><span class="o">=</span><span class="p">((</span><span class="mi">0</span><span class="p">),(</span><span class="mi">0</span><span class="p">)))</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.nddata.eval_poly">
<span class="sig-name descname"><span class="pre">eval_poly</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">c</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">axis</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">inplace</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.eval_poly" title="Permalink to this definition">¶</a></dt>
<dd><p>Take <cite>c</cite> output (array of polynomial coefficents in ascending order) from <a class="reference internal" href="../pyspecdata.html#pyspecdata.nddata.polyfit" title="pyspecdata.nddata.polyfit"><code class="xref py py-func docutils literal notranslate"><span class="pre">polyfit()</span></code></a>, and apply it along axis <cite>axis</cite></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>c</strong> (<em>ndarray</em>) – polynomial coefficients in ascending polynomial order</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.nddata.extend">
<span class="sig-name descname"><span class="pre">extend</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">axis</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extent</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fill_with</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tolerance</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1e-05</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.extend" title="Permalink to this definition">¶</a></dt>
<dd><p>Extend the (domain of the) dataset and fill with a pre-set value.</p>
<p>The coordinates associated with
<cite>axis</cite> must be uniformly ascending with spacing <span class="math notranslate nohighlight">\(dx\)</span>.
The function will extend <cite>self</cite>
by adding a point every <span class="math notranslate nohighlight">\(dx\)</span> until the axis
includes the point <cite>extent</cite>.  Fill the newly created datapoints with <cite>fill_with</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>axis</strong> (<em>str</em>) – name of the axis to extend</p></li>
<li><p><strong>extent</strong> (<em>double</em>) – <p>Extend the axis coordinates of <cite>axis</cite> out to this value.</p>
<p>The value of <cite>extent</cite> must be less the smallest (most negative)
axis coordinate or greater than the largest (most positive)
axis coordinate.</p>
</p></li>
<li><p><strong>fill_with</strong> (<em>double</em>) – fill the new data points with this value (defaults to 0)</p></li>
<li><p><strong>tolerance</strong> (<em>double</em>) – when checking for ascending axis labels, etc.,
values/differences must match to within tolerance
(assumed to represent the actual precision, given
various errors, etc.)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.nddata.extend_for_shear">
<span class="sig-name descname"><span class="pre">extend_for_shear</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">altered_axis</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">propto_axis</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">skew_amount</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.extend_for_shear" title="Permalink to this definition">¶</a></dt>
<dd><p>this is propto_axis helper function for <cite>.fourier.shear</cite></p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.nddata.fld">
<span class="sig-name descname"><span class="pre">fld</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dict_in</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">noscalar</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.fld" title="Permalink to this definition">¶</a></dt>
<dd><p>flatten dictionary – return list</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.nddata.fourier_shear">
<span class="sig-name descname"><span class="pre">fourier_shear</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">altered_axis</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">propto_axis</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">by_amount</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">zero_fill</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_in_conj</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.fourier_shear" title="Permalink to this definition">¶</a></dt>
<dd><p>the fourier shear method – see .shear() documentation</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.nddata.fromaxis">
<span class="sig-name descname"><span class="pre">fromaxis</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.fromaxis" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate an nddata object from one of the axis labels.</p>
<p>Can be used in one of several ways:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">self.fromaxis('axisname')</span></code>: Returns an nddata where <cite>retval.data</cite> consists of the given axis values.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">self.fromaxis('axisname',inputfunc)</span></code>: use <cite>axisname</cite> as the input for <cite>inputfunc</cite>, and load the result into <cite>retval.data</cite></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">self.fromaxis(inputsymbolic)</span></code>: Evaluate <cite>inputsymbolic</cite> and load the result into <cite>retval.data</cite></p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>axisname</strong> (<em>str</em><em> | </em><em>list</em>) – The axis (or list of axes) to that is used as the argument of <cite>inputfunc</cite> or the function represented by <cite>inputsymbolic</cite>.
If this is the only argument, it cannot be a list.</p></li>
<li><p><strong>inputsymbolic</strong> (<em>sympy.Expr</em>) – A sympy expression whose only symbols are the names of axes.
It is preferred, though not required, that this is passed
without an <cite>axisname</cite> argument – the axis names are then
inferred from the symbolic expression.</p></li>
<li><p><strong>inputfunc</strong> (<a class="reference internal" href="#pyspecdata.function" title="pyspecdata.function"><em>function</em></a>) – A function (typically a lambda function) that taxes the values of the axis given by <cite>axisname</cite> as input.</p></li>
<li><p><strong>overwrite</strong> (<em>bool</em>) – Defaults to <cite>False</cite>. If set to <cite>True</cite>, it overwrites <cite>self</cite> with <cite>retval</cite>.</p></li>
<li><p><strong>as_array</strong> (<em>bool</em>) – Defaults to <cite>False</cite>. If set to <cite>True</cite>, <cite>retval</cite> is a properly dimensioned numpy ndarray rather than an nddata.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>retval</strong> – An expression calculated from the axis(es) given by <cite>axisname</cite> or inferred from <cite>inputsymbolic</cite>.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="../pyspecdata.html#id0" title="pyspecdata.nddata">nddata</a> | ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.nddata.ft">
<span class="sig-name descname"><span class="pre">ft</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">axes</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tolerance</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1e-05</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cosine</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unitary</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.ft" title="Permalink to this definition">¶</a></dt>
<dd><p>This performs a Fourier transform along the axes identified by the string or list of strings <cite>axes</cite>.</p>
<dl class="simple">
<dt>It adjusts normalization and units so that the result conforms to</dt><dd><p><span class="math notranslate nohighlight">\(\tilde{s}(f)=\int_{x_{min}}^{x_{max}} s(t) e^{-i 2 \pi f t} dt\)</span></p>
</dd>
</dl>
<p><strong>pre-FT</strong>, we use the axis to cyclically permute <span class="math notranslate nohighlight">\(t=0\)</span> to the first index</p>
<p><strong>post-FT</strong>, we assume that the data has previously been IFT’d
If this is the case, passing <code class="docutils literal notranslate"><span class="pre">shift=True</span></code> will cause an error
If this is not the case, passing <code class="docutils literal notranslate"><span class="pre">shift=True</span></code> generates a standard fftshift
<code class="docutils literal notranslate"><span class="pre">shift=None</span></code> will choose True, if and only if this is not the case</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pad</strong> (<em>int</em><em> or </em><em>boolean</em>) – <cite>pad</cite> specifies a zero-filling.  If it’s a number, then it gives
the length of the zero-filled dimension.  If it is just <cite>True</cite>,
then the size of the dimension is determined by rounding the
dimension size up to the nearest integral power of 2.</p></li>
<li><p><strong>automix</strong> (<em>double</em>) – <cite>automix</cite> can be set to the approximate frequency value.  This is
useful for the specific case where the data has been captured on a
sampling scope, and it’s severely aliased over.</p></li>
<li><p><strong>cosine</strong> (<em>boolean</em>) – yields a sum of the fft and ifft, for a cosine transform</p></li>
<li><p><strong>unitary</strong> (<em>boolean</em><em> (</em><em>None</em><em>)</em>) – return a result that is vector-unitary</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.nddata.ft_clear_startpoints">
<span class="sig-name descname"><span class="pre">ft_clear_startpoints</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">axis</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">t</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">f</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nearest</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.ft_clear_startpoints" title="Permalink to this definition">¶</a></dt>
<dd><p>Clears memory of where the origins in the time and frequency domain are.
This is useful, <em>e.g.</em> when you want to ift and center about time=0.
By setting shift=True you can also manually set the points.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>t</strong> (<em>float</em><em>, </em><em>'current'</em><em>, </em><em>'reset'</em><em>, or </em><em>None</em>) – keyword arguments <cite>t</cite> and <cite>f</cite> can be set by (1) manually setting
the start point (2) using the string ‘current’ to leave the
current setting a lone (3) ‘reset’, which clears the startpoint
and (4) None, which will be changed to ‘current’ when the other is set to a number or ‘rest’ if both are set to None.</p></li>
<li><p><strong>t</strong> – see <cite>t</cite></p></li>
<li><p><strong>nearest</strong> (<em>bool</em>) – <p>Shifting the startpoint can only be done
by an integral number of datapoints
(<em>i.e.</em> an integral number of dwell
times, dt, in the time domain or
integral number of df in the frequency
domain).
While it is possible to shift by a
non-integral number of datapoints,
this is done by applying a
phase-dependent shift in the inverse
domain.
Applying such a axis-dependent shift
can have vary unexpected effects if the
data in the inverse domain is aliased,
and is therefore heavily discouraged.
(For example, consider what happens if
we attempt to apply a
frequency-dependent phase shift to data
where a peak at 110 Hz is aliased and
appears at the 10 Hz position.)</p>
<p>Setting <cite>nearest</cite> to <strong>True</strong>
will choose a startpoint at the closest
integral datapoint to what you have
specified.</p>
<p>Setting <cite>nearest</cite> to <strong>False</strong>
will explicitly override the safeties –
essentially telling the code that you
know the data is not aliased in the
inverse domain and/or are willing to
deal with the consequences.</p>
</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.nddata.ft_state_to_str">
<span class="sig-name descname"><span class="pre">ft_state_to_str</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">axes</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.ft_state_to_str" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a string that lists the FT domain for the given axes.</p>
<p><span class="math notranslate nohighlight">\(u\)</span> refers to the original domain (typically time) and <span class="math notranslate nohighlight">\(v\)</span> refers to the FT’d domain (typically frequency)
If no axes are passed as arguments, it does this for all axes.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.nddata.ftshift">
<span class="sig-name descname"><span class="pre">ftshift</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">axis</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.ftshift" title="Permalink to this definition">¶</a></dt>
<dd><p>FT-based shift.  Currently only works in time domain.</p>
<p>This was previously made obsolete, but is now a demo of how to use the ft properties.
It is not the most efficient way to do this.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.nddata.get_covariance">
<span class="sig-name descname"><span class="pre">get_covariance</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.get_covariance" title="Permalink to this definition">¶</a></dt>
<dd><p>this returns the covariance matrix of the data</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.nddata.get_error">
<span class="sig-name descname"><span class="pre">get_error</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.get_error" title="Permalink to this definition">¶</a></dt>
<dd><p>get a copy of the errors
either set_error(‘axisname’,error_for_axis) or set_error(error_for_data)</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.nddata.get_ft_prop">
<span class="sig-name descname"><span class="pre">get_ft_prop</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">axis</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">propname</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.get_ft_prop" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the FT property given by <cite>propname</cite>.  For both setting and getting, <cite>None</cite> is equivalent to an unset value if no <cite>propname</cite> is given, this just sets the <cite>FT</cite> property, which tells if a dimension is frequency or time domain</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.nddata.get_plot_color">
<span class="sig-name descname"><span class="pre">get_plot_color</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.get_plot_color" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.nddata.get_prop">
<span class="sig-name descname"><span class="pre">get_prop</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">propname</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.get_prop" title="Permalink to this definition">¶</a></dt>
<dd><p>return arbitrary ND-data properties (typically acquisition parameters <em>etc.</em>) by name (<cite>propname</cite>)</p>
<p>In order to allow ND-data to store acquisition parameters and other info that accompanies the data,
but might not be structured in a gridded format, nddata instances
always have a <cite>other_info</cite> dictionary attribute,
which stores these properties by name.</p>
<p>If the property doesn’t exist, this returns <cite>None</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>propname</strong> (<em>str</em>) – <p>Name of the property that you’re want returned.
If this is left out or set to “None” (not given), the names of the available
properties are returned.
If no exact match is found, and propname contains a . or * or [, it’s
assumed to be a regular expression.
If several such matches are found, the error message is informative.</p>
<div class="admonition-todo admonition" id="id53">
<p class="admonition-title">Todo</p>
<p>have it recursively search dictionaries (e.g. bruker acq)</p>
</div>
</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>The value of the property (can by any type) or <cite>None</cite> if the property doesn’t exist.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.nddata.get_range">
<span class="sig-name descname"><span class="pre">get_range</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dimname</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stop</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.get_range" title="Permalink to this definition">¶</a></dt>
<dd><p>get raw indices that can be used to generate a slice for the start and (non-inclusive) stop</p>
<p>Uses the same code as the standard slicing format (the ‘range’ option of parseslices)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dimname</strong> (<em>str</em>) – name of the dimension</p></li>
<li><p><strong>start</strong> (<em>float</em>) – the coordinate for the start of the range</p></li>
<li><p><strong>stop</strong> (<em>float</em>) – the coordinate for the stop of the range</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>start</strong> (<em>int</em>) – the index corresponding to the start of the range</p></li>
<li><p><strong>stop</strong> (<em>int</em>) – the index corresponding to the stop of the range</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.nddata.get_units">
<span class="sig-name descname"><span class="pre">get_units</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.get_units" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.nddata.getaxis">
<span class="sig-name descname"><span class="pre">getaxis</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">axisname</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.getaxis" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.nddata.getaxisshape">
<span class="sig-name descname"><span class="pre">getaxisshape</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">axisname</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.getaxisshape" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.nddata.gnuplot_save">
<span class="sig-name descname"><span class="pre">gnuplot_save</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.gnuplot_save" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.nddata.hdf5_write">
<span class="sig-name descname"><span class="pre">hdf5_write</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">h5path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">directory</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'.'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.hdf5_write" title="Permalink to this definition">¶</a></dt>
<dd><p>Write the nddata to an HDF5 file.</p>
<p><cite>h5path</cite> is the name of the file followed by the node path where
you want to put it – it does <strong>not</strong> include the directory where
the file lives.
The directory can be passed to the <cite>directory</cite> argument.</p>
<p>You can use either <a class="reference internal" href="#pyspecdata.find_file" title="pyspecdata.find_file"><code class="xref py py-func docutils literal notranslate"><span class="pre">find_file()</span></code></a> or
<a class="reference internal" href="#pyspecdata.nddata_hdf5" title="pyspecdata.nddata_hdf5"><code class="xref py py-func docutils literal notranslate"><span class="pre">nddata_hdf5()</span></code></a> to read the data, as shown below.
When reading this, please note that HDF5 files store <em>multiple</em> datasets,
and each is named (here, the name is <cite>test_data</cite>).</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">pyspecdata</span> <span class="kn">import</span> <span class="o">*</span>
<span class="n">init_logging</span><span class="p">(</span><span class="s1">&#39;debug&#39;</span><span class="p">)</span>
<span class="n">a</span> <span class="o">=</span> <span class="n">nddata</span><span class="p">(</span><span class="n">r_</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">5</span><span class="p">:</span><span class="mi">10</span><span class="n">j</span><span class="p">],</span> <span class="s1">&#39;x&#39;</span><span class="p">)</span>
<span class="n">a</span><span class="o">.</span><span class="n">name</span><span class="p">(</span><span class="s1">&#39;test_data&#39;</span><span class="p">)</span>
<span class="k">try</span><span class="p">:</span>
    <span class="n">a</span><span class="o">.</span><span class="n">hdf5_write</span><span class="p">(</span><span class="s1">&#39;example.h5&#39;</span><span class="p">,</span><span class="n">getDATADIR</span><span class="p">(</span><span class="n">exp_type</span><span class="o">=</span><span class="s1">&#39;Sam&#39;</span><span class="p">))</span>
<span class="k">except</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;file already exists, not creating again -- delete the file or node if wanted&quot;</span><span class="p">)</span>
<span class="c1"># read the file by the &quot;raw method&quot;</span>
<span class="n">b</span> <span class="o">=</span> <span class="n">nddata_hdf5</span><span class="p">(</span><span class="s1">&#39;example.h5/test_data&#39;</span><span class="p">,</span>
        <span class="n">getDATADIR</span><span class="p">(</span><span class="n">exp_type</span><span class="o">=</span><span class="s1">&#39;Sam&#39;</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;found data:&quot;</span><span class="p">,</span><span class="n">b</span><span class="p">)</span>
<span class="c1"># or use the find file method</span>
<span class="n">c</span> <span class="o">=</span> <span class="n">find_file</span><span class="p">(</span><span class="s1">&#39;example.h5&#39;</span><span class="p">,</span> <span class="n">exp_type</span><span class="o">=</span><span class="s1">&#39;Sam&#39;</span><span class="p">,</span>
        <span class="n">expno</span><span class="o">=</span><span class="s1">&#39;test_data&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;found data:&quot;</span><span class="p">,</span><span class="n">c</span><span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>h5path</strong> (<em>str</em>) – The name of the file followed by the node path where
you want to put it – it does <strong>not</strong> include the directory where
the file lives.
(Because HDF5 files contain an internal directory-like group
structure.)</p></li>
<li><p><strong>directory</strong> (<em>str</em>) – the directory where the HDF5 file lives.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.nddata.histogram">
<span class="sig-name descname"><span class="pre">histogram</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.histogram" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.nddata.human_units">
<span class="sig-name descname"><span class="pre">human_units</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.human_units" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.nddata.ift">
<span class="sig-name descname"><span class="pre">ift</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">axes</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tolerance</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1e-05</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unitary</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.ift" title="Permalink to this definition">¶</a></dt>
<dd><p>This performs an inverse Fourier transform along the axes identified by the string or list of strings <cite>axes</cite>.</p>
<dl class="simple">
<dt>It adjusts normalization and units so that the result conforms to</dt><dd><p><span class="math notranslate nohighlight">\(s(t)=\int_{x_{min}}^{x_{max}} \tilde{s}(f) e^{i 2 \pi f t} df\)</span></p>
</dd>
</dl>
<p><strong>pre-IFT</strong>, we use the axis to cyclically permute <span class="math notranslate nohighlight">\(f=0\)</span> to the first index</p>
<p><strong>post-IFT</strong>, we assume that the data has previously been FT’d
If this is the case, passing <code class="docutils literal notranslate"><span class="pre">shift=True</span></code> will cause an error
If this is not the case, passing <code class="docutils literal notranslate"><span class="pre">shift=True</span></code> generates a standard ifftshift
<code class="docutils literal notranslate"><span class="pre">shift=None</span></code> will choose True, if and only if this is not the case</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pad</strong> (<em>int</em><em> or </em><em>boolean</em>) – <p><cite>pad</cite> specifies a zero-filling.  If it’s a number, then it gives
the length of the zero-filled dimension.  If it is just <cite>True</cite>,
then the size of the dimension is determined by rounding the
dimension size up to the nearest integral power of 2.   It uses the
<cite>start_time</cite> ft property to determine the start of the axis.  To
do this, it assumes that it is a stationary signal
(convolved with infinite comb function).
The value of <cite>start_time</cite> can differ from by a non-integral multiple of
<span class="math notranslate nohighlight">\(\Delta t\)</span>, though the routine will check whether or not it is safe to
do this.</p>
<dl class="simple">
<dt>..note ::</dt><dd><p>In the code, this is controlled by <cite>p2_post</cite> (the integral
<span class="math notranslate nohighlight">\(\Delta t\)</span> and <cite>p2_post_discrepancy</cite> – the non-integral.</p>
</dd>
</dl>
</p></li>
<li><p><strong>unitary</strong> (<em>boolean</em><em> (</em><em>None</em><em>)</em>) – return a result that is vector-unitary</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="pyspecdata.nddata.imag">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">imag</span></span><a class="headerlink" href="#pyspecdata.nddata.imag" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the imag component of the data</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.nddata.indices">
<span class="sig-name descname"><span class="pre">indices</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">axis_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">values</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.indices" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a string of indeces that most closely match the axis labels corresponding to values. Filter them to make sure they are unique.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.nddata.inhomog_coords">
<span class="sig-name descname"><span class="pre">inhomog_coords</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">direct_dim</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">indirect_dim</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tolerance</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1e-05</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'linear'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plot_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">debug_kwargs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.inhomog_coords" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply the “inhomogeneity transform,” which rotates the data by <span class="math notranslate nohighlight">\(45^{\circ}\)</span>, and then mirrors the portion with <span class="math notranslate nohighlight">\(t_2&lt;0\)</span> in order to transform from a <span class="math notranslate nohighlight">\((t_1,t_2)\)</span> coordinate system to a <span class="math notranslate nohighlight">\((t_{inh},t_{homog})\)</span> coordinate system.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>direct_dim</strong> (<em>str</em>) – Label of the direct dimension (typically <span class="math notranslate nohighlight">\(t_2\)</span>)</p></li>
<li><p><strong>indirect_dim</strong> (<em>str</em>) – Label of the indirect dimension (typically <span class="math notranslate nohighlight">\(t_1\)</span>)</p></li>
<li><p><strong>method</strong> (<em>'linear'</em><em>, </em><em>'fourier'</em>) – The interpolation method used to rotate the data and to mirror the data.
<strong>Note</strong> currently, both use a fourier-based mirroring method.</p></li>
<li><p><strong>plot_name</strong> (<em>str</em>) – the base name for the plots that are generated</p></li>
<li><p><strong>fl</strong> (<em>figlist_var</em>) – </p></li>
<li><p><strong>debug_kwargs</strong> (<em>dict</em>) – <p>with keys:</p>
<dl class="field-list simple">
<dt class="field-odd"><cite>correct_overlap</cite></dt>
<dd class="field-odd"><p>if False, doesn’t correct for the overlap error that occurs during mirroring</p>
</dd>
</dl>
</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.nddata.integrate">
<span class="sig-name descname"><span class="pre">integrate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">thisaxis</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">backwards</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cumulative</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.integrate" title="Permalink to this definition">¶</a></dt>
<dd><p>Performs an integration – which is similar to a sum, except that it takes the axis into account, <em>i.e.</em>, it performs:
<span class="math notranslate nohighlight">\(\int f(x) dx\)</span>
rather than
<span class="math notranslate nohighlight">\(\sum_i f(x_i)\)</span></p>
<p>Gaussian quadrature, etc, is planned for a future version.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>thisaxis</strong> – The dimension that you want to integrate along</p></li>
<li><p><strong>cumulative</strong> (<em>boolean</em><em> (</em><em>default False</em><em>)</em>) – Perform a cumulative integral (analogous to a cumulative sum)
– <em>e.g.</em> for ESR.</p></li>
<li><p><strong>backwards</strong> (<em>boolean</em><em> (</em><em>default False</em><em>)</em>) – for cumulative integration – perform the integration backwards</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.nddata.interp">
<span class="sig-name descname"><span class="pre">interp</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">axis</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">axisvalues</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">past_bounds</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_func</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.interp" title="Permalink to this definition">¶</a></dt>
<dd><p>interpolate data values given axis values</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>return_func</strong> (<em>boolean</em>) – defaults to False.  If True, it returns a function that accepts
axis values and returns a data value.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.nddata.invinterp">
<span class="sig-name descname"><span class="pre">invinterp</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">axis</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">values</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.invinterp" title="Permalink to this definition">¶</a></dt>
<dd><p>interpolate axis values given data values</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.nddata.item">
<span class="sig-name descname"><span class="pre">item</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.item" title="Permalink to this definition">¶</a></dt>
<dd><p>like numpy item – returns a number when zero-dimensional</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="id54">
<span class="sig-name descname"><span class="pre">labels</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#id54" title="Permalink to this definition">¶</a></dt>
<dd><p>label the dimensions, given in listofstrings with the axis labels given in listofaxes – listofaxes must be a numpy np.array;
you can pass either a dictionary or a axis name (string)/axis label (numpy np.array) pair</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.nddata.like">
<span class="sig-name descname"><span class="pre">like</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.like" title="Permalink to this definition">¶</a></dt>
<dd><p>provide “zeros_like” and “ones_like” functionality</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>value</strong> (<em>float</em>) – 1 is “ones_like” 0 is “zeros_like”, etc.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.nddata.linear_shear">
<span class="sig-name descname"><span class="pre">linear_shear</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">along_axis</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">propto_axis</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shear_amnt</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">zero_fill</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.linear_shear" title="Permalink to this definition">¶</a></dt>
<dd><p>the linear shear – see <cite>self.shear</cite> for documentation</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.nddata.matchdims">
<span class="sig-name descname"><span class="pre">matchdims</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">other</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.matchdims" title="Permalink to this definition">¶</a></dt>
<dd><p>add any dimensions to self that are not present in other</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.nddata.matrices_3d">
<span class="sig-name descname"><span class="pre">matrices_3d</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">also1d</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">invert</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_dimsize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1024</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">downsample_self</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.matrices_3d" title="Permalink to this definition">¶</a></dt>
<dd><p>returns X,Y,Z,x_axis,y_axis
matrices X,Y,Z, are suitable for a variety of mesh plotting, etc, routines
x_axis and y_axis are the x and y axes</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.nddata.max">
<span class="sig-name descname"><span class="pre">max</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.max" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.nddata.mayavi_surf">
<span class="sig-name descname"><span class="pre">mayavi_surf</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.mayavi_surf" title="Permalink to this definition">¶</a></dt>
<dd><p>use the mayavi surf function, assuming that we’ve already loaded mlab
during initialization</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.nddata.mean">
<span class="sig-name descname"><span class="pre">mean</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.mean" title="Permalink to this definition">¶</a></dt>
<dd><p>Take the mean and (optionally) set the error to the standard deviation</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>std</strong> (<em>bool</em>) – whether or not to return the standard deviation as an error</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.nddata.mean_all_but">
<span class="sig-name descname"><span class="pre">mean_all_but</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">listofdims</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.mean_all_but" title="Permalink to this definition">¶</a></dt>
<dd><p>take the mean over all dimensions not in the list</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.nddata.mean_nopop">
<span class="sig-name descname"><span class="pre">mean_nopop</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">axis</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.mean_nopop" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.nddata.mean_weighted">
<span class="sig-name descname"><span class="pre">mean_weighted</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">axisname</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.mean_weighted" title="Permalink to this definition">¶</a></dt>
<dd><p>perform  the weighted mean along <cite>axisname</cite> (use $sigma$ from $sigma = $self.get_error() do generate $1/sigma$ weights)
for now, it clears the error of <cite>self</cite>, though it would be easy to calculate the new error, since everything is linear</p>
<p>unlike other functions, this creates working objects that are themselves nddata objects
this strategy is easier than coding out the raw numpy math, but probably less efficient</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.nddata.meshplot">
<span class="sig-name descname"><span class="pre">meshplot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">stride=None</span></em>, <em class="sig-param"><span class="pre">alpha=1.0</span></em>, <em class="sig-param"><span class="pre">onlycolor=False</span></em>, <em class="sig-param"><span class="pre">light=None</span></em>, <em class="sig-param"><span class="pre">rotation=None</span></em>, <em class="sig-param"><span class="pre">cmap=&lt;matplotlib.colors.LinearSegmentedColormap</span> <span class="pre">object&gt;</span></em>, <em class="sig-param"><span class="pre">ax=None</span></em>, <em class="sig-param"><span class="pre">invert=False</span></em>, <em class="sig-param"><span class="pre">**kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.meshplot" title="Permalink to this definition">¶</a></dt>
<dd><p>takes both rotation and light as elevation, azimuth
only use the light kwarg to generate a black and white shading display</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.nddata.min">
<span class="sig-name descname"><span class="pre">min</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.min" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.nddata.mkd">
<span class="sig-name descname"><span class="pre">mkd</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">arg</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.mkd" title="Permalink to this definition">¶</a></dt>
<dd><p>make dictionary format</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.nddata.multimin">
<span class="sig-name descname"><span class="pre">multimin</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">minfunc</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">axisname</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filterwidth</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">numberofmins</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.multimin" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.nddata.name">
<span class="sig-name descname"><span class="pre">name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">arg</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.name" title="Permalink to this definition">¶</a></dt>
<dd><p>args:
.name(newname) –&gt; Name the object (for storage, etc)
.name() –&gt; Return the name</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.nddata.nnls">
<span class="sig-name descname"><span class="pre">nnls</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dimname</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">newaxis_dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kernel_func</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">l</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.nnls" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform regularized non-negative least-squares “fit” on self.</p>
<p>Capable of solving for solution in 1 or 2 dimensions.</p>
<p>We seek to minimize
<span class="math notranslate nohighlight">\(Q = \| Ax - b \|_2 + \|\lambda x\|_2\)</span>
in order to obtain solution vector <span class="math notranslate nohighlight">\(x\)</span> subject to non-negativity constraint
given input matrix <span class="math notranslate nohighlight">\(A\)</span>, the kernel, and input vector <span class="math notranslate nohighlight">\(b\)</span>, the data.</p>
<p>The first term assesses agreement between the fit <span class="math notranslate nohighlight">\(Ax\)</span> and the data <span class="math notranslate nohighlight">\(b\)</span>,
and the second term accounts for noise with the regularization parameter <span class="math notranslate nohighlight">\(\lambda\)</span>
according to Tikhonov regularization.</p>
<p>To perform regularized minimization in 2 dimensions, set <cite>l</cite> to <a href="#id55"><span class="problematic" id="id56">:str:`BRD`</span></a> and provide a
tuple of parameters <a href="#id57"><span class="problematic" id="id58">:str:`dimname`</span></a>, <a href="#id59"><span class="problematic" id="id60">:nddata:`newaxis_dict`</span></a>, and <a href="#id61"><span class="problematic" id="id62">:function:`kernel_func`</span></a>.
Algorithm described in Venkataramanan et al. 2002 is performed which determines optimal <span class="math notranslate nohighlight">\(\lambda\)</span>
for the data (DOI:10.1109/78.995059).</p>
<p>See: <a class="reference external" href="https://en.wikipedia.org/wiki/Non-negative_least_squares">Wikipedia page on NNLS</a>,
<a class="reference external" href="https://en.wikipedia.org/wiki/Tikhonov_regularization">Wikipedia page on Tikhonov regularization</a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dimname</strong> (<em>str</em>) – Name of the “data” dimension that is to be replaced by a
distribution (the “fit” dimension);
<em>e.g.</em> if you are regularizing a set of functions
<span class="math notranslate nohighlight">\(\np.exp(-\tau*R_1)\)</span>, then this is <span class="math notranslate nohighlight">\(\tau\)</span></p></li>
<li><p><strong>newaxis_dict</strong> (<em>dict</em><em> or </em><a class="reference internal" href="../pyspecdata.html#id0" title="pyspecdata.nddata"><em>nddata</em></a>) – a dictionary whose key is the name of the “fit” dimension
(<span class="math notranslate nohighlight">\(R_1\)</span> in the example above)
and whose value is an np.array with the new axis labels.
OR
this can be a 1D nddata
– if it has an axis, the axis will be used to create the
fit axis; if it has no axis, the data will be used</p></li>
<li><p><strong>kernel_func</strong> (<a class="reference internal" href="#pyspecdata.function" title="pyspecdata.function"><em>function</em></a>) – a function giving the kernel for the regularization.
The first argument is the “data” variable
and the second argument is the “fit” variable
(in the example above, this would be something like
<code class="docutils literal notranslate"><span class="pre">lambda</span> <span class="pre">x,y:</span> <span class="pre">np.exp(-x*y)</span></code>)</p></li>
<li><p><strong>l</strong> (<em>double</em><em> (</em><em>default 0</em><em>) or </em><em>str</em>) – the regularization parameter
<span class="math notranslate nohighlight">\(lambda\)</span> – if this is set to 0, the algorithm reverts to
standard nnls.
If this is set to <a href="#id65"><span class="problematic" id="id66">:str:`BRD`</span></a>, then algorithm expects tuple of each parameter
described above in order to perform a 2-dimensional fit.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The regularized result.
For future use, both the kernel (as an nddata, in a property called
“nnls_kernel”) and the residual (as an nddata, in a property called
“nnls_residual”) are stored as properties of the nddata.
The regularized dimension is always last
(innermost).
If <a href="#id67"><span class="problematic" id="id68">:str:`BRD`</span></a> is specified, then the individual, uncompressed kernels <span class="math notranslate nohighlight">\(K_{1}\)</span> and <span class="math notranslate nohighlight">\(K_{2}\)</span> are returned as properties of the nddata “K1” and “K2” respectively. The number of singular values used to compressed each kernel is returned in properties of the nddata called, respectively, “s1” and “s2”.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>self</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.nddata.normalize">
<span class="sig-name descname"><span class="pre">normalize</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">axis</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">first_figure</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.normalize" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.nddata.oldtimey">
<span class="sig-name descname"><span class="pre">oldtimey</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">alpha</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">linewidth</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sclinewidth</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">20.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">light</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rotation</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">invert</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.oldtimey" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.nddata.plot_labels">
<span class="sig-name descname"><span class="pre">plot_labels</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">labels</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fmt</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs_passed</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.plot_labels" title="Permalink to this definition">¶</a></dt>
<dd><p>this only works for one axis now</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.nddata.polyfit">
<span class="sig-name descname"><span class="pre">polyfit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">axis</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">order</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force_y_intercept</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.polyfit" title="Permalink to this definition">¶</a></dt>
<dd><p>polynomial fitting routine – return the coefficients and the fit
.. note:</p>
<blockquote>
<div><p>previously, this returned the fit data as a second argument called <cite>formult</cite>– you
very infrequently want it to be in the same size as the data, though;
to duplicate the old behavior, just add the line <code class="docutils literal notranslate"><span class="pre">formult</span> <span class="pre">=</span> <span class="pre">mydata.eval_poly(c,'axisname')</span></code>.</p>
</div></blockquote>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="../pyspecdata.html#pyspecdata.nddata.eval_poly" title="pyspecdata.nddata.eval_poly"><code class="xref py py-func docutils literal notranslate"><span class="pre">eval_poly()</span></code></a></p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>axis</strong> (<em>str</em>) – name of the axis that you want to fit along
(not sure if this is currently tested for multi-dimensional data,
but the idea should be that multiple fits would be returned.)</p></li>
<li><p><strong>order</strong> (<em>int</em>) – the order of the polynomial to be fit</p></li>
<li><p><strong>force_y_intercept</strong> (<em>double</em><em> or </em><em>None</em>) – force the y intercept to a particular value (e.g. 0)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>c</strong> – a standard numpy np.array containing the coefficients (in ascending polynomial order)</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>np.ndarray</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.nddata.popdim">
<span class="sig-name descname"><span class="pre">popdim</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dimname</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.popdim" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.nddata.random_mask">
<span class="sig-name descname"><span class="pre">random_mask</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">axisname</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">threshold</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.36787944117144233</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">inversion</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.random_mask" title="Permalink to this definition">¶</a></dt>
<dd><p>generate a random mask with about ‘threshold’ of the points thrown out</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="pyspecdata.nddata.real">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">real</span></span><a class="headerlink" href="#pyspecdata.nddata.real" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the real component of the data</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.nddata.register_axis">
<span class="sig-name descname"><span class="pre">register_axis</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">arg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nearest</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.register_axis" title="Permalink to this definition">¶</a></dt>
<dd><p>Interpolate the data so that the given axes are in register with a set of specified values. Does not change the spacing of the axis labels.</p>
<p>It finds the axis label position that is closest to the values given in <cite>arg</cite>, then interpolates (Fourier/sinc method) the data onto a new, slightly shifted, axis that passes exactly through the value given.
To do this, it uses
<a class="reference internal" href="#pyspecdata.core.nddata.ft_clear_startpoints" title="pyspecdata.core.nddata.ft_clear_startpoints"><code class="xref py py-func docutils literal notranslate"><span class="pre">.ft_clear_startpoints()</span></code></a>
and uses
<a class="reference internal" href="#pyspecdata.core.nddata.set_ft_prop" title="pyspecdata.core.nddata.set_ft_prop"><code class="xref py py-func docutils literal notranslate"><span class="pre">.set_ft_prop()</span></code></a>
to override the “not aliased” flag.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>arg</strong> (<em>dict</em><em> (</em><em>key</em><em>,</em><em>value = str</em><em>,</em><em>double</em><em>)</em>) – A list of the dimensions that you want to place in register, and the values you want them registered to.</p></li>
<li><p><strong>nearest</strong> (<em>bool</em><em>, </em><em>optional</em>) – Passed through to ft_clear_startpoints</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.nddata.rename">
<span class="sig-name descname"><span class="pre">rename</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">previous</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">new</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.rename" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.nddata.reorder">
<span class="sig-name descname"><span class="pre">reorder</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">axes</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.reorder" title="Permalink to this definition">¶</a></dt>
<dd><p>Reorder the dimensions
the first arguments are a list of dimensions</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>*axes</strong> (<em>str</em>) – Accept any number of arguments that gives the dimensions, in the
order that you want thee.</p></li>
<li><p><strong>first</strong> (<em>bool</em>) – (default True)
Put this list of dimensions first, while False puts them last (where they then come in the order given).</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.nddata.replicate_units">
<span class="sig-name descname"><span class="pre">replicate_units</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">other</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.replicate_units" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.nddata.repwlabels">
<span class="sig-name descname"><span class="pre">repwlabels</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">axis</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.repwlabels" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.nddata.retaxis">
<span class="sig-name descname"><span class="pre">retaxis</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">axisname</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.retaxis" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.nddata.run">
<span class="sig-name descname"><span class="pre">run</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.run" title="Permalink to this definition">¶</a></dt>
<dd><p>run a standard numpy function on the nddata:</p>
<p><code class="docutils literal notranslate"><span class="pre">d.run(func,'axisname')</span></code> will run function <cite>func</cite> (<em>e.g.</em> a
lambda function) along axis named ‘axisname’</p>
<p><code class="docutils literal notranslate"><span class="pre">d.run(func)</span></code> will run function <cite>func</cite> on the data</p>
<p><strong>in general</strong>: if the result of func reduces a dimension size to
1, the ‘axisname’ dimension will be “popped” (it will not exist in
the result) – if this is not what you want, use <code class="docutils literal notranslate"><span class="pre">run_nopop</span></code></p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.nddata.run_avg">
<span class="sig-name descname"><span class="pre">run_avg</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">thisaxisname</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">decimation</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">20</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">centered</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.run_avg" title="Permalink to this definition">¶</a></dt>
<dd><p>a simple running average</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.nddata.run_nopop">
<span class="sig-name descname"><span class="pre">run_nopop</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">axis</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.run_nopop" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.nddata.runcopy">
<span class="sig-name descname"><span class="pre">runcopy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.runcopy" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.nddata.secsy_transform">
<span class="sig-name descname"><span class="pre">secsy_transform</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">direct_dim</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">indirect_dim</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">has_indirect</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'fourier'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">truncate</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.secsy_transform" title="Permalink to this definition">¶</a></dt>
<dd><p>Shift the time-domain data backwards by the echo time.</p>
<p>As opposed to <a class="reference internal" href="pyspecdata.axis_manipulation.html#pyspecdata.axis_manipulation.secsy_transform_manual" title="pyspecdata.axis_manipulation.secsy_transform_manual"><code class="xref py py-func docutils literal notranslate"><span class="pre">secsy_transform_manual</span></code></a>, this calls on on <code class="xref py py-func docutils literal notranslate"><span class="pre">skew</span></code>,
rather than directly manipulating the phase of the function, which can lead to aliasing.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>has_indirect</strong> (<em>bool</em>) – <p>(This option is largely specific to data loaded by <code class="xref py py-func docutils literal notranslate"><span class="pre">acert_hdf5</span></code>)</p>
<p>Does the data actually have an indirect dimension?
If not, assume that there is a constant echo time,
that can be retrieved with <code class="docutils literal notranslate"><span class="pre">.get_prop('te')</span></code>.</p>
</p></li>
<li><p><strong>truncate</strong> (<em>bool</em>) – If this is set, <cite>register_axis &lt;pyspecdata.axis_manipulation.register_axis&gt;</cite> to <span class="math notranslate nohighlight">\(t_{direct}=0\)</span>,
and then throw out the data for which <span class="math notranslate nohighlight">\(t_{direct}&lt;0\)</span>.</p></li>
<li><p><strong>method</strong> (<em>str</em>) – The shear method (linear or fourier).</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.nddata.secsy_transform_manual">
<span class="sig-name descname"><span class="pre">secsy_transform_manual</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">direct_dim</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">indirect_dim</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">has_indirect</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">truncate</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.secsy_transform_manual" title="Permalink to this definition">¶</a></dt>
<dd><p>Shift the time-domain data backwards by the echo time.
As opposed to <a class="reference internal" href="pyspecdata.axis_manipulation.html#pyspecdata.axis_manipulation.secsy_transform" title="pyspecdata.axis_manipulation.secsy_transform"><code class="xref py py-func docutils literal notranslate"><span class="pre">secsy_transform</span></code></a>, this directlly manipulates the phase of the function, rather than calling on <code class="xref py py-func docutils literal notranslate"><span class="pre">skew</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>has_indirect</strong> (<em>bool</em>) – <p>(This option is largely specific to data loaded by <code class="xref py py-func docutils literal notranslate"><span class="pre">acert_hdf5</span></code>)</p>
<p>Does the data actually have an indirect dimension?
If not, assume that there is a constant echo time,
that can be retrieved with <code class="docutils literal notranslate"><span class="pre">.get_prop('te')</span></code>.</p>
</p></li>
<li><p><strong>truncate</strong> (<em>bool</em>) – If this is set, <cite>register_axis &lt;pyspecdata.axis_manipulation.register_axis&gt;</cite> to <span class="math notranslate nohighlight">\(t_{direct}=0\)</span>,
and then throw out the data for which <span class="math notranslate nohighlight">\(t_{direct}&lt;0\)</span>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.nddata.set_error">
<span class="sig-name descname"><span class="pre">set_error</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.set_error" title="Permalink to this definition">¶</a></dt>
<dd><p>set the errors: either</p>
<p><cite>set_error(‘axisname’,error_for_axis)</cite> or <cite>set_error(error_for_data)</cite></p>
<p><cite>error_for_data</cite> can be a scalar, in which case, <strong>all</strong> the data errors are set to <cite>error_for_data</cite></p>
<div class="admonition-todo admonition" id="id69">
<p class="admonition-title">Todo</p>
<p>several options below – enumerate them in the documentation</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.nddata.set_ft_prop">
<span class="sig-name descname"><span class="pre">set_ft_prop</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">axis</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">propname</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.set_ft_prop" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the FT property given by <cite>propname</cite>.  For both setting and getting, <cite>None</cite> is equivalent to an unset value if <cite>propname</cite> is a boolean, and <cite>value</cite> is True (the default), it’s assumed that propname is actually None, and that <cite>value</cite> is set to the <cite>propname</cite> argument (this allows us to set the <cite>FT</cite> property more easily)</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.nddata.set_plot_color">
<span class="sig-name descname"><span class="pre">set_plot_color</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">thiscolor</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.set_plot_color" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.nddata.set_prop">
<span class="sig-name descname"><span class="pre">set_prop</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.set_prop" title="Permalink to this definition">¶</a></dt>
<dd><p>set a ‘property’ of the nddata
This is where you can put all unstructured information (e.g. experimental parameters, etc)</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.nddata.set_to">
<span class="sig-name descname"><span class="pre">set_to</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">otherinst</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.set_to" title="Permalink to this definition">¶</a></dt>
<dd><p>Set data inside the current instance to that of the other instance.</p>
<p>Goes through the list of attributes specified in copy,
and assigns them to the element of the current instance.</p>
<p>This is to be used:</p>
<ul class="simple">
<li><p>for constructing classes that inherit nddata with additional methods.</p></li>
<li><p>for overwriting the current data with the result of a slicing operation</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.nddata.set_units">
<span class="sig-name descname"><span class="pre">set_units</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.set_units" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.nddata.setaxis">
<span class="sig-name descname"><span class="pre">setaxis</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.setaxis" title="Permalink to this definition">¶</a></dt>
<dd><p>set or alter the value of the coordinate axis</p>
<p>Can be used in one of several ways:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">self.setaxis('axisname',</span> <span class="pre">values)</span></code>: just sets the values</p></li>
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">self.setaxis('axisname',</span> <span class="pre">'#')</span></code>: just</dt><dd><p>number the axis in numerically increasing order,
with integers,
(e.g. if you have smooshed it from a couple
other dimensions.)</p>
</dd>
</dl>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">self.fromaxis('axisname',inputfunc)</span></code>: take the existing function, apply inputfunc, and replace</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">self.fromaxis(inputsymbolic)</span></code>: Evaluate <cite>inputsymbolic</cite> and load the result into the axes, appropriately</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.nddata.shear">
<span class="sig-name descname"><span class="pre">shear</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">along_axis</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">propto_axis</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shear_amnt</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">zero_fill</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_in_conj</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'linear'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.shear" title="Permalink to this definition">¶</a></dt>
<dd><p>Shear the data <span class="math notranslate nohighlight">\(s\)</span>:</p>
<p><span class="math notranslate nohighlight">\(s(x',y,z) = s(x+ay,y,z)\)</span></p>
<p>where <span class="math notranslate nohighlight">\(x\)</span> is the <cite>altered_axis</cite> and <span class="math notranslate nohighlight">\(y\)</span> is the
<cite>propto_axis</cite>.  (Actually typically 2D, but <span class="math notranslate nohighlight">\(z\)</span> included
just to illustrate other dimensions that aren’t involved)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>method</strong> (<em>{'fourier'</em><em>,</em><em>'linear'}</em>) – <dl>
<dt>fourier</dt><dd><p>Use the Fourier shift theorem (<em>i.e.</em>, sinc interpolation).  A
shear is equivalent to the following in the conjugate domain:</p>
<p>..math: <cite>tilde{s}(f_x,f’_y,z) = tilde{s}(f_x,f_y-af_x,f_z)</cite></p>
<p>Because of this, the algorithm <strong>also</strong>
automatically <cite>extend`s the data in `f_y</cite> axis.
Equivalently, it increases the resolution
(decreases the interval between points) in the
<cite>propto_axis</cite> dimension.  This prevents aliasing
in the conjugate domain, which will corrupt the
data <em>w.r.t.</em> successive transformations. It does
this whether or not <cite>zero_fill</cite> is set
(<cite>zero_fill</cite> only controls filling in the
“current” dimension)</p>
</dd>
<dt>linear</dt><dd><p>Use simple linear interpolation.</p>
</dd>
</dl>
</p></li>
<li><p><strong>altered_axis</strong> (<em>str</em>) – The coordinate for which data is altered, <em>i.e.</em>
..math: <cite>x</cite> such that ..math: <cite>f(x+ay,y)</cite>.</p></li>
<li><p><strong>by_amount</strong> (<em>double</em>) – The amount of the shear (..math: <cite>a</cite> in the previous)</p></li>
<li><p><strong>propto_axis</strong> (<em>str</em>) – The shift along the <cite>altered_axis</cite> dimension is
proportional to the shift along <cite>propto_axis</cite>.
The position of data relative to the <cite>propto_axis</cite> is not
changed.
Note that by the shift theorem, in the frequency domain,
an equivalent magnitude, opposite sign, shear is applied
with the <cite>propto_axis</cite> and <cite>altered_axis</cite> dimensions
flipped.</p></li>
<li><p><strong>start_in_conj</strong> (<em>{False</em><em>, </em><em>True}</em><em>, </em><em>optional</em>) – <p>Defaults to False</p>
<p>For efficiency, one can replace a double (I)FT call followed by a
shear call with a single shear call where <cite>start_in_conj</cite> is set.</p>
<p><cite>self</cite> before the call is given in the conjugate domain  (<em>i.e.</em>,
<span class="math notranslate nohighlight">\(f\)</span> <em>vs.</em> <span class="math notranslate nohighlight">\(t\)</span>) along both dimensions from the one that’s
desired.  This means: (1) <cite>self</cite> after the function call transformed
into the conjugate domain from that before the call and (2)
<cite>by_amount</cite>, <cite>altered_axis</cite>, and <cite>propto_axis</cite> all refer to the shear
in the conjugate domain that the data is in at the end of the
function call.</p>
</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.nddata.smoosh">
<span class="sig-name descname"><span class="pre">smoosh</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dimstocollapse</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dimname</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">noaxis</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.smoosh" title="Permalink to this definition">¶</a></dt>
<dd><p>Collapse (smoosh) multiple dimensions into one dimension.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dimstocollapse</strong> (<em>list of strings</em>) – the dimensions you want to collapse to one result dimension</p></li>
<li><p><strong>dimname</strong> (<em>None</em><em>, </em><em>string</em><em>, </em><em>integer</em><em> (</em><em>default 0</em><em>)</em>) – <p>if dimname is:</p>
<ul>
<li><p>None: create a new (direct product) name,</p></li>
<li><p>a number: an index to the <code class="docutils literal notranslate"><span class="pre">dimstocollapse</span></code> list.  The resulting smooshed dimension will be named <code class="docutils literal notranslate"><span class="pre">dimstocollapse[dimname]</span></code>. Because the default is the number 0, the new dimname will be the first dimname given in the list.</p></li>
<li><p>a string: the name of the resulting smooshed dimension (can be part of the <code class="docutils literal notranslate"><span class="pre">dimstocollapse</span></code> list or not)</p></li>
</ul>
</p></li>
<li><p><strong>noaxis</strong> (<em>bool</em>) – if set, then just skip calculating the axis for the new dimension,
which otherwise is typically a complicated record array</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>self</strong> (<em>nddata</em>) – the dimensions <cite>dimstocollapse</cite> are smooshed into a single dimension,
whose name is determined by <cite>dimname</cite>.
The axis for the resulting, smooshed dimension is a structured
np.array consisting of two fields that give the labels along the
original axes.</p></li>
<li><p><em>..todo::</em> – when we transition to axes that are stored using a
slice/linspace-like format,
allow for smooshing to determine a new axes that is standard
(not a structured np.array) and that increases linearly.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.nddata.sort">
<span class="sig-name descname"><span class="pre">sort</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">axisname</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reverse</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.sort" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.nddata.sort_and_xy">
<span class="sig-name descname"><span class="pre">sort_and_xy</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.sort_and_xy" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.nddata.squeeze">
<span class="sig-name descname"><span class="pre">squeeze</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">return_dropped</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.squeeze" title="Permalink to this definition">¶</a></dt>
<dd><p>squeeze singleton dimensions</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>return_dropped</strong> (<em>bool</em><em> (</em><em>default False</em><em>)</em>) – return a list of the dimensions that were dropped as a second argument</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><em>self</em></p></li>
<li><p><strong>return_dropped</strong> (<em>list</em>) – (optional, only if return_dropped is True)</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.nddata.sum">
<span class="sig-name descname"><span class="pre">sum</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">axes</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.sum" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.nddata.sum_nopop">
<span class="sig-name descname"><span class="pre">sum_nopop</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">axes</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.sum_nopop" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.nddata.to_ppm">
<span class="sig-name descname"><span class="pre">to_ppm</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.to_ppm" title="Permalink to this definition">¶</a></dt>
<dd><p>Function that converts from Hz to ppm using Bruker parameters</p>
<div class="admonition-todo admonition" id="id70">
<p class="admonition-title">Todo</p>
<p>Figure out what the units of PHC1 in Topspin are (degrees per <em>what??</em>), and apply those as well.</p>
<p>make this part of an inherited bruker class</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.nddata.unitify_axis">
<span class="sig-name descname"><span class="pre">unitify_axis</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">axis_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">is_axis</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.unitify_axis" title="Permalink to this definition">¶</a></dt>
<dd><p>this just generates an axis label with appropriate units</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.nddata.units_texsafe">
<span class="sig-name descname"><span class="pre">units_texsafe</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.units_texsafe" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.nddata.unset_prop">
<span class="sig-name descname"><span class="pre">unset_prop</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">arg</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.unset_prop" title="Permalink to this definition">¶</a></dt>
<dd><p>remove a ‘property’</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pyspecdata.nddata.want_to_prospa_decim_correct">
<span class="sig-name descname"><span class="pre">want_to_prospa_decim_correct</span></span><em class="property"> <span class="pre">=</span> <span class="pre">False</span></em><a class="headerlink" href="#pyspecdata.nddata.want_to_prospa_decim_correct" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.nddata.waterfall">
<span class="sig-name descname"><span class="pre">waterfall</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">alpha</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.3</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rotation</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">color</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'b'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">edgecolor</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'k'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata.waterfall" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pyspecdata.nddata_hdf5">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">pyspecdata.</span></span><span class="sig-name descname"><span class="pre">nddata_hdf5</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pathstring</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">directory</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'.'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nddata_hdf5" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="../generated/pyspecdata.core.nddata.html#pyspecdata.core.nddata" title="pyspecdata.core.nddata"><code class="xref py py-class docutils literal notranslate"><span class="pre">pyspecdata.core.nddata</span></code></a></p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.ndgrid">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.</span></span><span class="sig-name descname"><span class="pre">ndgrid</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">input</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.ndgrid" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pyspecdata.ndshape">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">pyspecdata.</span></span><span class="sig-name descname"><span class="pre">ndshape</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.ndshape" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pyspecdata.ndshape.ndshape_base" title="pyspecdata.ndshape.ndshape_base"><code class="xref py py-class docutils literal notranslate"><span class="pre">pyspecdata.ndshape.ndshape_base</span></code></a></p>
<p>A class for describing the shape and dimension names of nddata objects.</p>
<p>A main goal of this class is to allow easy generation (allocation) of new
arrays – see <a class="reference internal" href="#pyspecdata.ndshape.alloc" title="pyspecdata.ndshape.alloc"><code class="xref py py-func docutils literal notranslate"><span class="pre">alloc()</span></code></a>.</p>
<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.ndshape.alloc">
<span class="sig-name descname"><span class="pre">alloc</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dtype</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'complex128'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">labels</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">format</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.ndshape.alloc" title="Permalink to this definition">¶</a></dt>
<dd><p>Use the shape object to allocate an empty nddata object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>labels</strong> – Needs documentation</p></li>
<li><p><strong>format</strong> (<em>0</em><em>, </em><em>1</em><em>, or </em><em>None</em>) – What goes in the allocated array.
<cite>None</cite> uses numpy empty.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Example</p>
<p>If you want to create new empty array that’s 10x3 with dimensions “x” and “y”:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">ndshape</span><span class="p">([</span><span class="mi">10</span><span class="p">,</span><span class="mi">3</span><span class="p">],[</span><span class="s1">&#39;x&#39;</span><span class="p">,</span><span class="s1">&#39;y&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">alloc</span><span class="p">(</span><span class="nb">format</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
</pre></div>
</div>
<p>You can also do things like creating a new array based on the size of
an existing array (create a new array without dimension x, but with new
dimension z)</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">myshape</span> <span class="o">=</span> <span class="n">ndshape</span><span class="p">(</span><span class="n">mydata</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">myshape</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s1">&#39;x&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">myshape</span> <span class="o">+</span> <span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="s1">&#39;z&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">result</span> <span class="o">=</span> <span class="n">myshape</span><span class="o">.</span><span class="n">alloc</span><span class="p">(</span><span class="nb">format</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pyspecdata.ndshape_base">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">pyspecdata.</span></span><span class="sig-name descname"><span class="pre">ndshape_base</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.ndshape_base" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>The base ndshape class, which doesn’t include an allocation method.</p>
<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.ndshape_base.axn">
<span class="sig-name descname"><span class="pre">axn</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">axis</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.ndshape_base.axn" title="Permalink to this definition">¶</a></dt>
<dd><p>return the number for the axis with the name “axis”</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.ndshape_base.copy">
<span class="sig-name descname"><span class="pre">copy</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.ndshape_base.copy" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.ndshape_base.matchdims">
<span class="sig-name descname"><span class="pre">matchdims</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">arg</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.ndshape_base.matchdims" title="Permalink to this definition">¶</a></dt>
<dd><p>returns shape with [not in self, len 1] + [overlapping dims between arg + self] + [not in arg] –&gt; this is better accomplished by using sets as I do in the matchdims below</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.ndshape_base.pop">
<span class="sig-name descname"><span class="pre">pop</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">label</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.ndshape_base.pop" title="Permalink to this definition">¶</a></dt>
<dd><p>remove a dimension</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.ndshape_base.rename">
<span class="sig-name descname"><span class="pre">rename</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">before</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">after</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.ndshape_base.rename" title="Permalink to this definition">¶</a></dt>
<dd><p>rename a dimension</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.newcol_rec">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.</span></span><span class="sig-name descname"><span class="pre">newcol_rec</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">A</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">new_dtypes</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.newcol_rec" title="Permalink to this definition">¶</a></dt>
<dd><p>add new, np.empty (i.e. random numbers) fields to A, as given by new_dtypes
–&gt; note that there are deeply nested numpy functions to do this, but the options are confusing, and I think the way these work is efficient</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.nextfigure">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.</span></span><span class="sig-name descname"><span class="pre">nextfigure</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">figurelist</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nextfigure" title="Permalink to this definition">¶</a></dt>
<dd><p>obsolete – now use class</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.nnls_regularized">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.</span></span><span class="sig-name descname"><span class="pre">nnls_regularized</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">A</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">b</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">l</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">maxiter</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.nnls_regularized" title="Permalink to this definition">¶</a></dt>
<dd><p>Solve math:<cite>argmin_x || Ax - b ||_2^2 + lambda^2 ||x||_2^2</cite> for <code class="docutils literal notranslate"><span class="pre">x&gt;=0</span></code>.
This is a wrapper for a FORTRAN non-negative least squares solver,
with regularization (added by stacking $A$ on top an identity matrix
times $lambda$ and $b$ on top of a matching array of zero.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>A</strong> (<em>ndarray</em>) – Matrix <code class="docutils literal notranslate"><span class="pre">A</span></code> as shown above.</p></li>
<li><p><strong>b</strong> (<em>ndarray</em>) – Right-hand side vector.</p></li>
<li><p><strong>l</strong> (<em>double</em><em> (</em><em>default 0</em><em>)</em>) – <span class="math notranslate nohighlight">\(lambda\)</span> – if this is set to 0, the algorithm reverts to
standard nnls (rather than stacking on top of two zero matrices
for no reason)</p></li>
<li><p><strong>maxiter</strong> (<em>int</em><em>, </em><em>optional</em>) – Maximum number of iterations, optional.
Default is <code class="docutils literal notranslate"><span class="pre">3</span> <span class="pre">*</span> <span class="pre">A.shape[1]</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>x</strong> (<em>ndarray</em>) – Solution vector.</p></li>
<li><p><strong>rnorm</strong> (<em>float</em>) – The residual, <code class="docutils literal notranslate"><span class="pre">||</span> <span class="pre">Ax-b</span> <span class="pre">||_2</span></code>.</p></li>
</ul>
</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>The FORTRAN code was published in the book below. The algorithm
is an active set method. It solves the KKT (Karush-Kuhn-Tucker)
conditions for the non-negative least squares problem.</p>
<p>This was adapted from the source distributed with scipy –
see scipy for relevant licensing.</p>
<p class="rubric">References</p>
<p>Lawson C., Hanson R.J., (1987) Solving Least Squares Problems, SIAM</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.normal_attrs">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.</span></span><span class="sig-name descname"><span class="pre">normal_attrs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obj</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.normal_attrs" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.obs">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.</span></span><span class="sig-name descname"><span class="pre">obs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">x</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.obs" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.obsn">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.</span></span><span class="sig-name descname"><span class="pre">obsn</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">x</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.obsn" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.othergridandtick">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.</span></span><span class="sig-name descname"><span class="pre">othergridandtick</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ax</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rotation</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(0,</span> <span class="pre">0)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">precision</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(2,</span> <span class="pre">2)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">labelstring</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">('',</span> <span class="pre">'')</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gridcolor</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">array([0,</span> <span class="pre">0,</span> <span class="pre">0],</span> <span class="pre">dtype=int32)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spines</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.othergridandtick" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.pinvr">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.</span></span><span class="sig-name descname"><span class="pre">pinvr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">C</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">alpha</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.pinvr" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.plot">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.</span></span><span class="sig-name descname"><span class="pre">plot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.plot" title="Permalink to this definition">¶</a></dt>
<dd><p>The base plotting function that wraps around matplotlib to do a couple convenient things.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>label_format_string</strong> (<em>str</em>) – If supplied, it formats the values of the other dimension to turn them into a label string.</p></li>
<li><p><strong>human_units</strong> (<em>bool</em>) – </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.plot_color_counter">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.</span></span><span class="sig-name descname"><span class="pre">plot_color_counter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.plot_color_counter" title="Permalink to this definition">¶</a></dt>
<dd><p>Try not to use this function any more – the version-to-version support for capturing and setting color cycles in matplotlib is very very bad.  (And, the cycler object in newer versions of matplolib is confusing.) So, just import <cite>cycle</cite> from <cite>itertools</cite>, and use it to build a cycle that you directly call to set your properties.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>previous description:</p>
<p>if passed an argument: make it so that the next line will have the properties given by the argument</p>
<p>if not passed an argument: just return the current plot properties,so that I can cycle back to it</p>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.plot_label_points">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.</span></span><span class="sig-name descname"><span class="pre">plot_label_points</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">labels</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs_passed</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.plot_label_points" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.plot_updown">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.</span></span><span class="sig-name descname"><span class="pre">plot_updown</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">axis</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">color1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">color2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">symbol</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.plot_updown" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.proc_data_target_dir">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.</span></span><span class="sig-name descname"><span class="pre">proc_data_target_dir</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">exp_type</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.proc_data_target_dir" title="Permalink to this definition">¶</a></dt>
<dd><p>A convenience function for getting a data directory you’re going to write data to.</p>
<p>Provides the full path to the directory corresponding to exp_type.</p>
<p>If this is the first time you’re trying to write to that exp_type, it will create the directory</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.process_kwargs">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.</span></span><span class="sig-name descname"><span class="pre">process_kwargs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">listoftuples</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kwargs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pass_through</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">as_attr</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.process_kwargs" title="Permalink to this definition">¶</a></dt>
<dd><p>This function allows dynamically processed (<em>i.e.</em> function definitions with <cite>**kwargs</cite>) kwargs (keyword arguments) to be dealt with in a fashion more like standard kwargs.
The defaults set in <cite>listoftuples</cite> are used to process <cite>kwargs</cite>, which are then returned as a set of values (that are set to defaults as needed).</p>
<p>Note that having <cite>kwargs</cite> as an explicit argument avoids errors where the user forgets to pass the <cite>kwargs</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>kwargs</strong> (<a href="#id71"><span class="problematic" id="id72">**</span></a>dictionary) – The keyword arguments that you want to process.</p></li>
<li><p><strong>listoftuples</strong> (<em>list of tuple pairs</em>) – Tuple pairs, consisting of <code class="docutils literal notranslate"><span class="pre">('param_name',param_value)</span></code>, that give the default values for the various parameters.</p></li>
<li><p><strong>pass_through</strong> (<em>bool</em>) – Defaults to False.  If it’s true, then it’s OK not to process all the kwargs here.
In that case, the used kwargs are popped out of the dictionary, and you are expected to pass the unprocessed values (in the dictionary after the call) on to subsequent processing.
Importantly, you should <em>always</em> end with a <cite>pass_through`=`False</cite> call of this function, or by passing <a href="#id73"><span class="problematic" id="id74">**</span></a>kwargs to a standard function in the standard way.
Otherwise it’s possible for the user to pass kwargs that are never processed!</p></li>
<li><p><strong>as_attr</strong> (<em>bool</em><em>, </em><em>object</em>) – Defaults to False. If not False, it must be an object whose attributes are set to the value of the respective kwargs.</p></li>
<li><p><strong>return</strong> (<em>tuple</em>) – It’s expected that the output is assigned to variables with the <strong>exact same</strong> names as the string in the first half of the tuples, in the <strong>exact same</strong> order.
These parameters will then be set to the appropriate values.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.prospa_t1_info">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.</span></span><span class="sig-name descname"><span class="pre">prospa_t1_info</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.prospa_t1_info" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.pyspec_plot">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.</span></span><span class="sig-name descname"><span class="pre">pyspec_plot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.pyspec_plot" title="Permalink to this definition">¶</a></dt>
<dd><p>The base plotting function that wraps around matplotlib to do a couple convenient things.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>label_format_string</strong> (<em>str</em>) – If supplied, it formats the values of the other dimension to turn them into a label string.</p></li>
<li><p><strong>human_units</strong> (<em>bool</em>) – </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.rc">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.</span></span><span class="sig-name descname"><span class="pre">rc</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">group</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.rc" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the current <cite>.rcParams</cite>.  <em>group</em> is the grouping for the rc, e.g.,
for <code class="docutils literal notranslate"><span class="pre">lines.linewidth</span></code> the group is <code class="docutils literal notranslate"><span class="pre">lines</span></code>, for
<code class="docutils literal notranslate"><span class="pre">axes.facecolor</span></code>, the group is <code class="docutils literal notranslate"><span class="pre">axes</span></code>, and so on.  Group may
also be a list or tuple of group names, e.g., (<em>xtick</em>, <em>ytick</em>).
<em>kwargs</em> is a dictionary attribute name/value pairs, e.g.,:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">rc</span><span class="p">(</span><span class="s1">&#39;lines&#39;</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;r&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>sets the current <cite>.rcParams</cite> and is equivalent to:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">rcParams</span><span class="p">[</span><span class="s1">&#39;lines.linewidth&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">2</span>
<span class="n">rcParams</span><span class="p">[</span><span class="s1">&#39;lines.color&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;r&#39;</span>
</pre></div>
</div>
<p>The following aliases are available to save typing for interactive users:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 23%" />
<col style="width: 77%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Alias</p></th>
<th class="head"><p>Property</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>‘lw’</p></td>
<td><p>‘linewidth’</p></td>
</tr>
<tr class="row-odd"><td><p>‘ls’</p></td>
<td><p>‘linestyle’</p></td>
</tr>
<tr class="row-even"><td><p>‘c’</p></td>
<td><p>‘color’</p></td>
</tr>
<tr class="row-odd"><td><p>‘fc’</p></td>
<td><p>‘facecolor’</p></td>
</tr>
<tr class="row-even"><td><p>‘ec’</p></td>
<td><p>‘edgecolor’</p></td>
</tr>
<tr class="row-odd"><td><p>‘mew’</p></td>
<td><p>‘markeredgewidth’</p></td>
</tr>
<tr class="row-even"><td><p>‘aa’</p></td>
<td><p>‘antialiased’</p></td>
</tr>
</tbody>
</table>
<p>Thus you could abbreviate the above call as:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">rc</span><span class="p">(</span><span class="s1">&#39;lines&#39;</span><span class="p">,</span> <span class="n">lw</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s1">&#39;r&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Note you can use python’s kwargs dictionary facility to store
dictionaries of default parameters.  e.g., you can customize the
font rc as follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">font</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;family&#39;</span> <span class="p">:</span> <span class="s1">&#39;monospace&#39;</span><span class="p">,</span>
        <span class="s1">&#39;weight&#39;</span> <span class="p">:</span> <span class="s1">&#39;bold&#39;</span><span class="p">,</span>
        <span class="s1">&#39;size&#39;</span>   <span class="p">:</span> <span class="s1">&#39;larger&#39;</span><span class="p">}</span>
<span class="n">rc</span><span class="p">(</span><span class="s1">&#39;font&#39;</span><span class="p">,</span> <span class="o">**</span><span class="n">font</span><span class="p">)</span>  <span class="c1"># pass in the font dict as kwargs</span>
</pre></div>
</div>
<p>This enables you to easily switch between several configurations.  Use
<code class="docutils literal notranslate"><span class="pre">matplotlib.style.use('default')</span></code> or <code class="xref py py-func docutils literal notranslate"><span class="pre">rcdefaults()</span></code> to
restore the default <cite>.rcParams</cite> after changes.</p>
<p class="rubric">Notes</p>
<p>Similar functionality is available by using the normal dict interface, i.e.
<code class="docutils literal notranslate"><span class="pre">rcParams.update({&quot;lines.linewidth&quot;:</span> <span class="pre">2,</span> <span class="pre">...})</span></code> (but <code class="docutils literal notranslate"><span class="pre">rcParams.update</span></code>
does not support abbreviations or grouping).</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.redim_C_to_F">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.</span></span><span class="sig-name descname"><span class="pre">redim_C_to_F</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">a</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.redim_C_to_F" title="Permalink to this definition">¶</a></dt>
<dd><p>see redim_F_to_C</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.redim_F_to_C">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.</span></span><span class="sig-name descname"><span class="pre">redim_F_to_C</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">a</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.redim_F_to_C" title="Permalink to this definition">¶</a></dt>
<dd><p>the following creates a C array, reversing the <em>apparent</em> order of dimensions, while preserving the order in memory</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.reformat_exp">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.</span></span><span class="sig-name descname"><span class="pre">reformat_exp</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">arg</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.reformat_exp" title="Permalink to this definition">¶</a></dt>
<dd><p>reformat scientific notation in a nice latex format – used in both pdf and jupyter notebooks</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.rename_fields">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.</span></span><span class="sig-name descname"><span class="pre">rename_fields</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">base</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">namemapper</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.rename_fields" title="Permalink to this definition">¶</a></dt>
<dd><p>Rename the fields from a flexible-datatype ndarray or recarray.</p>
<p>Nested fields are supported.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>base</strong> (<em>ndarray</em>) – Input array whose fields must be modified.</p></li>
<li><p><strong>namemapper</strong> (<em>dictionary</em>) – Dictionary mapping old field names to their new version.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">numpy.lib</span> <span class="kn">import</span> <span class="n">recfunctions</span> <span class="k">as</span> <span class="n">rfn</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([(</span><span class="mi">1</span><span class="p">,</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="p">[</span><span class="mf">3.0</span><span class="p">,</span> <span class="mf">30.</span><span class="p">])),</span> <span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="p">[</span><span class="mf">6.0</span><span class="p">,</span> <span class="mf">60.</span><span class="p">]))],</span>
<span class="gp">... </span>  <span class="n">dtype</span><span class="o">=</span><span class="p">[(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="nb">int</span><span class="p">),(</span><span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="p">[(</span><span class="s1">&#39;ba&#39;</span><span class="p">,</span> <span class="nb">float</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;bb&#39;</span><span class="p">,</span> <span class="p">(</span><span class="nb">float</span><span class="p">,</span> <span class="mi">2</span><span class="p">))])])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rfn</span><span class="o">.</span><span class="n">rename_fields</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="s1">&#39;bb&#39;</span><span class="p">:</span><span class="s1">&#39;BB&#39;</span><span class="p">})</span>
<span class="go">array([(1, (2., [ 3., 30.])), (4, (5., [ 6., 60.]))],</span>
<span class="go">      dtype=[(&#39;A&#39;, &#39;&lt;i8&#39;), (&#39;b&#39;, [(&#39;ba&#39;, &#39;&lt;f8&#39;), (&#39;BB&#39;, &#39;&lt;f8&#39;, (2,))])])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.render_matrix">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.</span></span><span class="sig-name descname"><span class="pre">render_matrix</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">arg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">format_code</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'%.4g'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.render_matrix" title="Permalink to this definition">¶</a></dt>
<dd><p>return latex string representing 2D matrix</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.reorder_rec">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.</span></span><span class="sig-name descname"><span class="pre">reorder_rec</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">myarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">listofnames</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">first</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.reorder_rec" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.scipy_griddata">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.</span></span><span class="sig-name descname"><span class="pre">scipy_griddata</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">points</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">values</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xi</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'linear'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fill_value</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">nan</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rescale</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.scipy_griddata" title="Permalink to this definition">¶</a></dt>
<dd><p>Interpolate unstructured D-D data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>points</strong> (<em>2-D ndarray of floats with shape</em><em> (</em><em>n</em><em>, </em><em>D</em><em>)</em><em>, or </em><em>length D tuple of 1-D ndarrays with shape</em><em> (</em><em>n</em><em>,</em><em>)</em><em></em>) – Data point coordinates.</p></li>
<li><p><strong>values</strong> (<em>ndarray of float</em><em> or </em><em>complex</em><em>, </em><em>shape</em><em> (</em><em>n</em><em>,</em><em>)</em>) – Data values.</p></li>
<li><p><strong>xi</strong> (<em>2-D ndarray of floats with shape</em><em> (</em><em>m</em><em>, </em><em>D</em><em>)</em><em>, or </em><em>length D tuple of ndarrays broadcastable to the same shape.</em>) – Points at which to interpolate data.</p></li>
<li><p><strong>method</strong> (<em>{'linear'</em><em>, </em><em>'nearest'</em><em>, </em><em>'cubic'}</em><em>, </em><em>optional</em>) – <p>Method of interpolation. One of</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">nearest</span></code></dt><dd><p>return the value at the data point closest to
the point of interpolation. See <cite>NearestNDInterpolator</cite> for
more details.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">linear</span></code></dt><dd><p>tessellate the input point set to N-D
simplices, and interpolate linearly on each simplex. See
<cite>LinearNDInterpolator</cite> for more details.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">cubic</span></code> (1-D)</dt><dd><p>return the value determined from a cubic
spline.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">cubic</span></code> (2-D)</dt><dd><p>return the value determined from a
piecewise cubic, continuously differentiable (C1), and
approximately curvature-minimizing polynomial surface. See
<cite>CloughTocher2DInterpolator</cite> for more details.</p>
</dd>
</dl>
</p></li>
<li><p><strong>fill_value</strong> (<em>float</em><em>, </em><em>optional</em>) – Value used to fill in for requested points outside of the
convex hull of the input points. If not provided, then the
default is <code class="docutils literal notranslate"><span class="pre">nan</span></code>. This option has no effect for the
‘nearest’ method.</p></li>
<li><p><strong>rescale</strong> (<em>bool</em><em>, </em><em>optional</em>) – <p>Rescale points to unit cube before performing interpolation.
This is useful if some of the input dimensions have
incommensurable units and differ by many orders of magnitude.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 0.14.0.</span></p>
</div>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Array of interpolated values.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>ndarray</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 0.9.</span></p>
</div>
<p class="rubric">Examples</p>
<p>Suppose we want to interpolate the 2-D function</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">func</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">return</span> <span class="n">x</span><span class="o">*</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">x</span><span class="p">)</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="mi">4</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="o">*</span><span class="n">x</span><span class="p">)</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="mi">4</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="o">*</span><span class="n">y</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span>
</pre></div>
</div>
<p>on a grid in [0, 1]x[0, 1]</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">grid_x</span><span class="p">,</span> <span class="n">grid_y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">mgrid</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">1</span><span class="p">:</span><span class="mi">100</span><span class="n">j</span><span class="p">,</span> <span class="mi">0</span><span class="p">:</span><span class="mi">1</span><span class="p">:</span><span class="mi">200</span><span class="n">j</span><span class="p">]</span>
</pre></div>
</div>
<p>but we only know its values at 1000 data points:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">rng</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">default_rng</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">points</span> <span class="o">=</span> <span class="n">rng</span><span class="o">.</span><span class="n">random</span><span class="p">((</span><span class="mi">1000</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">values</span> <span class="o">=</span> <span class="n">func</span><span class="p">(</span><span class="n">points</span><span class="p">[:,</span><span class="mi">0</span><span class="p">],</span> <span class="n">points</span><span class="p">[:,</span><span class="mi">1</span><span class="p">])</span>
</pre></div>
</div>
<p>This can be done with <cite>griddata</cite> – below we try out all of the
interpolation methods:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">scipy.interpolate</span> <span class="kn">import</span> <span class="n">griddata</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">grid_z0</span> <span class="o">=</span> <span class="n">griddata</span><span class="p">(</span><span class="n">points</span><span class="p">,</span> <span class="n">values</span><span class="p">,</span> <span class="p">(</span><span class="n">grid_x</span><span class="p">,</span> <span class="n">grid_y</span><span class="p">),</span> <span class="n">method</span><span class="o">=</span><span class="s1">&#39;nearest&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">grid_z1</span> <span class="o">=</span> <span class="n">griddata</span><span class="p">(</span><span class="n">points</span><span class="p">,</span> <span class="n">values</span><span class="p">,</span> <span class="p">(</span><span class="n">grid_x</span><span class="p">,</span> <span class="n">grid_y</span><span class="p">),</span> <span class="n">method</span><span class="o">=</span><span class="s1">&#39;linear&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">grid_z2</span> <span class="o">=</span> <span class="n">griddata</span><span class="p">(</span><span class="n">points</span><span class="p">,</span> <span class="n">values</span><span class="p">,</span> <span class="p">(</span><span class="n">grid_x</span><span class="p">,</span> <span class="n">grid_y</span><span class="p">),</span> <span class="n">method</span><span class="o">=</span><span class="s1">&#39;cubic&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>One can see that the exact result is reproduced by all of the
methods to some degree, but for this smooth function the piecewise
cubic interpolant gives the best results:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">221</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">func</span><span class="p">(</span><span class="n">grid_x</span><span class="p">,</span> <span class="n">grid_y</span><span class="p">)</span><span class="o">.</span><span class="n">T</span><span class="p">,</span> <span class="n">extent</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span> <span class="n">origin</span><span class="o">=</span><span class="s1">&#39;lower&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">points</span><span class="p">[:,</span><span class="mi">0</span><span class="p">],</span> <span class="n">points</span><span class="p">[:,</span><span class="mi">1</span><span class="p">],</span> <span class="s1">&#39;k.&#39;</span><span class="p">,</span> <span class="n">ms</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Original&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">222</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">grid_z0</span><span class="o">.</span><span class="n">T</span><span class="p">,</span> <span class="n">extent</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span> <span class="n">origin</span><span class="o">=</span><span class="s1">&#39;lower&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Nearest&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">223</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">grid_z1</span><span class="o">.</span><span class="n">T</span><span class="p">,</span> <span class="n">extent</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span> <span class="n">origin</span><span class="o">=</span><span class="s1">&#39;lower&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Linear&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">224</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">grid_z2</span><span class="o">.</span><span class="n">T</span><span class="p">,</span> <span class="n">extent</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span> <span class="n">origin</span><span class="o">=</span><span class="s1">&#39;lower&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Cubic&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">gcf</span><span class="p">()</span><span class="o">.</span><span class="n">set_size_inches</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><code class="xref py py-obj docutils literal notranslate"><span class="pre">LinearNDInterpolator</span></code></dt><dd><p>Piecewise linear interpolant in N dimensions.</p>
</dd>
<dt><code class="xref py py-obj docutils literal notranslate"><span class="pre">NearestNDInterpolator</span></code></dt><dd><p>Nearest-neighbor interpolation in N dimensions.</p>
</dd>
<dt><code class="xref py py-obj docutils literal notranslate"><span class="pre">CloughTocher2DInterpolator</span></code></dt><dd><p>Piecewise cubic, C1 smooth, curvature-minimizing interpolant in 2D.</p>
</dd>
</dl>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.search_filename">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.</span></span><span class="sig-name descname"><span class="pre">search_filename</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">searchstring</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exp_type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">print_result</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unique</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.search_filename" title="Permalink to this definition">¶</a></dt>
<dd><p>Use regular expression <cite>searchstring</cite> to find a file inside the directory indicated by <cite>exp_type</cite>
(For information on how to set up the file searching mechanism, see <a class="reference internal" href="#pyspecdata.datadir.register_directory" title="pyspecdata.datadir.register_directory"><code class="xref py py-func docutils literal notranslate"><span class="pre">register_directory()</span></code></a>).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>searchstring</strong> (<em>str</em>) – Most commonly, this is just a fragment of the file name,
with any literal <code class="docutils literal notranslate"><span class="pre">*</span></code>, <code class="docutils literal notranslate"><span class="pre">.</span></code>, or <code class="docutils literal notranslate"><span class="pre">?</span></code> characters preceded by
a backslash.
More generally, it is a regular expression,
where <code class="docutils literal notranslate"><span class="pre">.*searchstring.*</span></code> matches a filename inside the
directory appropriate for <cite>exp_type</cite>.</p></li>
<li><p><strong>exp_type</strong> (<em>str</em>) – Since the function assumes that you have different types of
experiments sorted into different directories, this argument
specifies the type of experiment see <a class="reference internal" href="#pyspecdata.datadir.getDATADIR" title="pyspecdata.datadir.getDATADIR"><code class="xref py py-func docutils literal notranslate"><span class="pre">getDATADIR()</span></code></a> for
more info.</p></li>
<li><p><strong>unique</strong> (<em>boolean</em><em> (</em><em>default False</em><em>)</em>) – If true, then throw an error unless only one file is found.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.sech">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.</span></span><span class="sig-name descname"><span class="pre">sech</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.sech" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.show">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.</span></span><span class="sig-name descname"><span class="pre">show</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">block</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.show" title="Permalink to this definition">¶</a></dt>
<dd><p>Display all open figures.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>block</strong> (<em>bool</em><em>, </em><em>optional</em>) – <p>Whether to wait for all figures to be closed before returning.</p>
<p>If <cite>True</cite> block and run the GUI main loop until all figure windows
are closed.</p>
<p>If <cite>False</cite> ensure that all figure windows are displayed and return
immediately.  In this case, you are responsible for ensuring
that the event loop is running to have responsive figures.</p>
<p>Defaults to True in non-interactive mode and to False in interactive
mode (see <cite>.pyplot.isinteractive</cite>).</p>
</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><code class="xref py py-obj docutils literal notranslate"><span class="pre">ion</span></code></dt><dd><p>Enable interactive mode, which shows / updates the figure after every plotting command, so that calling <code class="docutils literal notranslate"><span class="pre">show()</span></code> is not necessary.</p>
</dd>
<dt><code class="xref py py-obj docutils literal notranslate"><span class="pre">ioff</span></code></dt><dd><p>Disable interactive mode.</p>
</dd>
<dt><code class="xref py py-obj docutils literal notranslate"><span class="pre">savefig</span></code></dt><dd><p>Save the figure to an image file instead of showing it on screen.</p>
</dd>
</dl>
</div>
<p class="rubric">Notes</p>
<p><strong>Saving figures to file and showing a window at the same time</strong></p>
<p>If you want an image file as well as a user interface window, use
<cite>.pyplot.savefig</cite> before <cite>.pyplot.show</cite>. At the end of (a blocking)
<code class="docutils literal notranslate"><span class="pre">show()</span></code> the figure is closed and thus unregistered from pyplot. Calling
<cite>.pyplot.savefig</cite> afterwards would save a new and thus empty figure. This
limitation of command order does not apply if the show is non-blocking or
if you keep a reference to the figure and use <cite>.Figure.savefig</cite>.</p>
<p><strong>Auto-show in jupyter notebooks</strong></p>
<p>The jupyter backends (activated via <code class="docutils literal notranslate"><span class="pre">%matplotlib</span> <span class="pre">inline</span></code>,
<code class="docutils literal notranslate"><span class="pre">%matplotlib</span> <span class="pre">notebook</span></code>, or <code class="docutils literal notranslate"><span class="pre">%matplotlib</span> <span class="pre">widget</span></code>), call <code class="docutils literal notranslate"><span class="pre">show()</span></code> at
the end of every cell by default. Thus, you usually don’t have to call it
explicitly there.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.showtype">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.</span></span><span class="sig-name descname"><span class="pre">showtype</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.showtype" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.signature">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.</span></span><span class="sig-name descname"><span class="pre">signature</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obj</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">follow_wrapped</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.signature" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a signature object for the passed callable.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.spectrogram">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.</span></span><span class="sig-name descname"><span class="pre">spectrogram</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">waveform</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">f_start</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">f_stop</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">npoints_fdom</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">40</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tdom_div</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.spectrogram" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.sqrt">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.</span></span><span class="sig-name descname"><span class="pre">sqrt</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">arg</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.sqrt" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.strm">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.</span></span><span class="sig-name descname"><span class="pre">strm</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.strm" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pyspecdata.subplot_dim">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">pyspecdata.</span></span><span class="sig-name descname"><span class="pre">subplot_dim</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">firstdim</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">seconddim</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.subplot_dim" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="pyspecdata.subplot_dim.set">
<span class="sig-name descname"><span class="pre">set</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">g</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">t</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">a</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.subplot_dim.set" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.sympy_diff">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.</span></span><span class="sig-name descname"><span class="pre">sympy_diff</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">f</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">symbols</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.sympy_diff" title="Permalink to this definition">¶</a></dt>
<dd><p>Differentiate f with respect to symbols.</p>
<p>This is just a wrapper to unify .diff() and the Derivative class; its
interface is similar to that of integrate().  You can use the same
shortcuts for multiple variables as with Derivative.  For example,
diff(f(x), x, x, x) and diff(f(x), x, 3) both return the third derivative
of f(x).</p>
<p>You can pass evaluate=False to get an unevaluated Derivative class.  Note
that if there are 0 symbols (such as diff(f(x), x, 0), then the result will
be the function (the zeroth derivative), even if evaluate=False.</p>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">sympy</span> <span class="kn">import</span> <span class="n">sin</span><span class="p">,</span> <span class="n">cos</span><span class="p">,</span> <span class="n">Function</span><span class="p">,</span> <span class="n">diff</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">sympy.abc</span> <span class="kn">import</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">Function</span><span class="p">(</span><span class="s1">&#39;f&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">diff</span><span class="p">(</span><span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">),</span> <span class="n">x</span><span class="p">)</span>
<span class="go">cos(x)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">diff</span><span class="p">(</span><span class="n">f</span><span class="p">(</span><span class="n">x</span><span class="p">),</span> <span class="n">x</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">x</span><span class="p">)</span>
<span class="go">Derivative(f(x), (x, 3))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">diff</span><span class="p">(</span><span class="n">f</span><span class="p">(</span><span class="n">x</span><span class="p">),</span> <span class="n">x</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="go">Derivative(f(x), (x, 3))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">diff</span><span class="p">(</span><span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">*</span><span class="n">cos</span><span class="p">(</span><span class="n">y</span><span class="p">),</span> <span class="n">x</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="go">sin(x)*cos(y)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">type</span><span class="p">(</span><span class="n">diff</span><span class="p">(</span><span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">),</span> <span class="n">x</span><span class="p">))</span>
<span class="go">cos</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">type</span><span class="p">(</span><span class="n">diff</span><span class="p">(</span><span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">),</span> <span class="n">x</span><span class="p">,</span> <span class="n">evaluate</span><span class="o">=</span><span class="kc">False</span><span class="p">))</span>
<span class="go">&lt;class &#39;sympy.core.function.Derivative&#39;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">type</span><span class="p">(</span><span class="n">diff</span><span class="p">(</span><span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">),</span> <span class="n">x</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
<span class="go">sin</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">type</span><span class="p">(</span><span class="n">diff</span><span class="p">(</span><span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">),</span> <span class="n">x</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">evaluate</span><span class="o">=</span><span class="kc">False</span><span class="p">))</span>
<span class="go">sin</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">diff</span><span class="p">(</span><span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>
<span class="go">cos(x)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">diff</span><span class="p">(</span><span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="o">*</span><span class="n">y</span><span class="p">))</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">ValueError</span>: <span class="n">specify differentiation variables to differentiate sin(x*y)</span>
</pre></div>
</div>
<p>Note that <code class="docutils literal notranslate"><span class="pre">diff(sin(x))</span></code> syntax is meant only for convenience
in interactive sessions and should be avoided in library code.</p>
<p class="rubric">References</p>
<p><a class="reference external" href="http://reference.wolfram.com/legacy/v5_2/Built-inFunctions/AlgebraicComputation/Calculus/D.html">http://reference.wolfram.com/legacy/v5_2/Built-inFunctions/AlgebraicComputation/Calculus/D.html</a></p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><code class="xref py py-obj docutils literal notranslate"><span class="pre">Derivative</span></code></p>
<dl class="simple">
<dt><code class="xref py py-obj docutils literal notranslate"><span class="pre">idiff</span></code></dt><dd><p>computes the derivative implicitly</p>
</dd>
</dl>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pyspecdata.sympy_expr">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.</span></span><span class="sig-name descname"><span class="pre">sympy_expr</span></span><a class="headerlink" href="#pyspecdata.sympy_expr" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <code class="xref py py-class docutils literal notranslate"><span class="pre">sympy.core.expr.Expr</span></code></p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.sympy_sqrt">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.</span></span><span class="sig-name descname"><span class="pre">sympy_sqrt</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">arg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">evaluate</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.sympy_sqrt" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the principal square root.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>evaluate</strong> (<em>bool</em><em>, </em><em>optional</em>) – The parameter determines if the expression should be evaluated.
If <code class="docutils literal notranslate"><span class="pre">None</span></code>, its value is taken from
<code class="docutils literal notranslate"><span class="pre">global_parameters.evaluate</span></code>.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">sympy</span> <span class="kn">import</span> <span class="n">sqrt</span><span class="p">,</span> <span class="n">Symbol</span><span class="p">,</span> <span class="n">S</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="n">Symbol</span><span class="p">(</span><span class="s1">&#39;x&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">sqrt</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="go">sqrt(x)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">sqrt</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">**</span><span class="mi">2</span>
<span class="go">x</span>
</pre></div>
</div>
<p>Note that sqrt(x**2) does not simplify to x.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">sqrt</span><span class="p">(</span><span class="n">x</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span>
<span class="go">sqrt(x**2)</span>
</pre></div>
</div>
<p>This is because the two are not equal to each other in general.
For example, consider x == -1:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">sympy</span> <span class="kn">import</span> <span class="n">Eq</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Eq</span><span class="p">(</span><span class="n">sqrt</span><span class="p">(</span><span class="n">x</span><span class="o">**</span><span class="mi">2</span><span class="p">),</span> <span class="n">x</span><span class="p">)</span><span class="o">.</span><span class="n">subs</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<span class="go">False</span>
</pre></div>
</div>
<p>This is because sqrt computes the principal square root, so the square may
put the argument in a different branch.  This identity does hold if x is
positive:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">y</span> <span class="o">=</span> <span class="n">Symbol</span><span class="p">(</span><span class="s1">&#39;y&#39;</span><span class="p">,</span> <span class="n">positive</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sqrt</span><span class="p">(</span><span class="n">y</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span>
<span class="go">y</span>
</pre></div>
</div>
<p>You can force this simplification by using the powdenest() function with
the force option set to True:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">sympy</span> <span class="kn">import</span> <span class="n">powdenest</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sqrt</span><span class="p">(</span><span class="n">x</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span>
<span class="go">sqrt(x**2)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">powdenest</span><span class="p">(</span><span class="n">sqrt</span><span class="p">(</span><span class="n">x</span><span class="o">**</span><span class="mi">2</span><span class="p">),</span> <span class="n">force</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go">x</span>
</pre></div>
</div>
<p>To get both branches of the square root you can use the rootof function:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">sympy</span> <span class="kn">import</span> <span class="n">rootof</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="p">[</span><span class="n">rootof</span><span class="p">(</span><span class="n">x</span><span class="o">**</span><span class="mi">2</span><span class="o">-</span><span class="mi">3</span><span class="p">,</span><span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">)]</span>
<span class="go">[-sqrt(3), sqrt(3)]</span>
</pre></div>
</div>
<p>Although <code class="docutils literal notranslate"><span class="pre">sqrt</span></code> is printed, there is no <code class="docutils literal notranslate"><span class="pre">sqrt</span></code> function so looking for
<code class="docutils literal notranslate"><span class="pre">sqrt</span></code> in an expression will fail:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">sympy.utilities.misc</span> <span class="kn">import</span> <span class="n">func_name</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">func_name</span><span class="p">(</span><span class="n">sqrt</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>
<span class="go">&#39;Pow&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sqrt</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">.</span><span class="n">has</span><span class="p">(</span><span class="n">sqrt</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
  <span class="c">...</span>
<span class="gr">sympy.core.sympify.SympifyError</span>: <span class="n">SympifyError: &lt;function sqrt at 0x10e8900d0&gt;</span>
</pre></div>
</div>
<p>To find <code class="docutils literal notranslate"><span class="pre">sqrt</span></code> look for <code class="docutils literal notranslate"><span class="pre">Pow</span></code> with an exponent of <code class="docutils literal notranslate"><span class="pre">1/2</span></code>:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="p">(</span><span class="n">x</span> <span class="o">+</span> <span class="mi">1</span><span class="o">/</span><span class="n">sqrt</span><span class="p">(</span><span class="n">x</span><span class="p">))</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="k">lambda</span> <span class="n">i</span><span class="p">:</span> <span class="n">i</span><span class="o">.</span><span class="n">is_Pow</span> <span class="ow">and</span> <span class="nb">abs</span><span class="p">(</span><span class="n">i</span><span class="o">.</span><span class="n">exp</span><span class="p">)</span> <span class="ow">is</span> <span class="n">S</span><span class="o">.</span><span class="n">Half</span><span class="p">)</span>
<span class="go">{1/sqrt(x)}</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><code class="xref py py-obj docutils literal notranslate"><span class="pre">sympy.polys.rootoftools.rootof</span></code>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">root</span></code>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">real_root</span></code></p>
</div>
<p class="rubric">References</p>
<dl class="footnote brackets">
<dt class="label" id="id75"><span class="brackets">1</span></dt>
<dd><p><a class="reference external" href="https://en.wikipedia.org/wiki/Square_root">https://en.wikipedia.org/wiki/Square_root</a></p>
</dd>
<dt class="label" id="id76"><span class="brackets">2</span></dt>
<dd><p><a class="reference external" href="https://en.wikipedia.org/wiki/Principal_value">https://en.wikipedia.org/wiki/Principal_value</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pyspecdata.sympy_symbol">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.</span></span><span class="sig-name descname"><span class="pre">sympy_symbol</span></span><a class="headerlink" href="#pyspecdata.sympy_symbol" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <code class="xref py py-class docutils literal notranslate"><span class="pre">sympy.core.symbol.Symbol</span></code></p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.sympy_var">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.</span></span><span class="sig-name descname"><span class="pre">sympy_var</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">names</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.sympy_var" title="Permalink to this definition">¶</a></dt>
<dd><p>Create symbols and inject them into the global namespace.</p>
<p>This calls <code class="xref py py-func docutils literal notranslate"><span class="pre">symbols()</span></code> with the same arguments and puts the results
into the <em>global</em> namespace. It’s recommended not to use <code class="xref py py-func docutils literal notranslate"><span class="pre">var()</span></code> in
library code, where <code class="xref py py-func docutils literal notranslate"><span class="pre">symbols()</span></code> has to be used:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">..</span> <span class="n">rubric</span><span class="p">::</span> <span class="n">Examples</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">sympy</span> <span class="kn">import</span> <span class="n">var</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">var</span><span class="p">(</span><span class="s1">&#39;x&#39;</span><span class="p">)</span>
<span class="go">x</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="c1"># noqa: F821</span>
<span class="go">x</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">var</span><span class="p">(</span><span class="s1">&#39;a,ab,abc&#39;</span><span class="p">)</span>
<span class="go">(a, ab, abc)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">abc</span> <span class="c1"># noqa: F821</span>
<span class="go">abc</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">var</span><span class="p">(</span><span class="s1">&#39;x,y&#39;</span><span class="p">,</span> <span class="n">real</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go">(x, y)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span><span class="o">.</span><span class="n">is_real</span> <span class="ow">and</span> <span class="n">y</span><span class="o">.</span><span class="n">is_real</span> <span class="c1"># noqa: F821</span>
<span class="go">True</span>
</pre></div>
</div>
<p>See <code class="xref py py-func docutils literal notranslate"><span class="pre">symbols()</span></code> documentation for more details on what kinds of
arguments can be passed to <code class="xref py py-func docutils literal notranslate"><span class="pre">var()</span></code>.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="pyspecdata.testclass">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">pyspecdata.</span></span><span class="sig-name descname"><span class="pre">testclass</span></span><a class="headerlink" href="#pyspecdata.testclass" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.text">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.</span></span><span class="sig-name descname"><span class="pre">text</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">s</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fontdict</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.text" title="Permalink to this definition">¶</a></dt>
<dd><p>Add text to the Axes.</p>
<p>Add the text <em>s</em> to the Axes at location <em>x</em>, <em>y</em> in data coordinates.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<em>float</em>) – The position to place the text. By default, this is in data
coordinates. The coordinate system can be changed using the
<em>transform</em> parameter.</p></li>
<li><p><strong>y</strong> (<em>float</em>) – The position to place the text. By default, this is in data
coordinates. The coordinate system can be changed using the
<em>transform</em> parameter.</p></li>
<li><p><strong>s</strong> (<em>str</em>) – The text.</p></li>
<li><p><strong>fontdict</strong> (<em>dict</em><em>, </em><em>default: None</em>) – A dictionary to override the default text properties. If fontdict
is None, the defaults are determined by <cite>.rcParams</cite>.</p></li>
<li><p><strong>**kwargs</strong> (<cite>~matplotlib.text.Text</cite> properties.) – <p>Other miscellaneous text parameters.</p>
<p>Properties:
agg_filter: a filter function, which takes a (m, n, 3) float array and a dpi value, and returns a (m, n, 3) array
alpha: scalar or None
animated: bool
backgroundcolor: color
bbox: dict with properties for <cite>.patches.FancyBboxPatch</cite>
clip_box: <cite>.Bbox</cite>
clip_on: bool
clip_path: Patch or (Path, Transform) or None
color or c: color
contains: unknown
figure: <cite>.Figure</cite>
fontfamily or family: {FONTNAME, ‘serif’, ‘sans-serif’, ‘cursive’, ‘fantasy’, ‘monospace’}
fontproperties or font or font_properties: <cite>.font_manager.FontProperties</cite> or <cite>str</cite> or <cite>pathlib.Path</cite>
fontsize or size: float or {‘xx-small’, ‘x-small’, ‘small’, ‘medium’, ‘large’, ‘x-large’, ‘xx-large’}
fontstretch or stretch: {a numeric value in range 0-1000, ‘ultra-condensed’, ‘extra-condensed’, ‘condensed’, ‘semi-condensed’, ‘normal’, ‘semi-expanded’, ‘expanded’, ‘extra-expanded’, ‘ultra-expanded’}
fontstyle or style: {‘normal’, ‘italic’, ‘oblique’}
fontvariant or variant: {‘normal’, ‘small-caps’}
fontweight or weight: {a numeric value in range 0-1000, ‘ultralight’, ‘light’, ‘normal’, ‘regular’, ‘book’, ‘medium’, ‘roman’, ‘semibold’, ‘demibold’, ‘demi’, ‘bold’, ‘heavy’, ‘extra bold’, ‘black’}
gid: str
horizontalalignment or ha: {‘center’, ‘right’, ‘left’}
in_layout: bool
label: object
linespacing: float (multiple of font size)
math_fontfamily: str
multialignment or ma: {‘left’, ‘right’, ‘center’}
path_effects: <cite>.AbstractPathEffect</cite>
picker: None or bool or float or callable
position: (float, float)
rasterized: bool
rotation: float or {‘vertical’, ‘horizontal’}
rotation_mode: {None, ‘default’, ‘anchor’}
sketch_params: (scale: float, length: float, randomness: float)
snap: bool or None
text: object
transform: <cite>.Transform</cite>
transform_rotates_text: bool
url: str
usetex: bool or None
verticalalignment or va: {‘center’, ‘top’, ‘bottom’, ‘baseline’, ‘center_baseline’}
visible: bool
wrap: bool
x: float
y: float
zorder: float</p>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The created <cite>.Text</cite> instance.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><cite>.Text</cite></p>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>Individual keyword arguments can be used to override any given
parameter:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">text</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">s</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">12</span><span class="p">)</span>
</pre></div>
</div>
<p>The default transform specifies that text is in data coords,
alternatively, you can specify text in axis coords ((0, 0) is
lower-left and (1, 1) is upper-right).  The example below places
text in the center of the Axes:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">text</span><span class="p">(</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="s1">&#39;matplotlib&#39;</span><span class="p">,</span> <span class="n">horizontalalignment</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">,</span>
<span class="gp">... </span>     <span class="n">verticalalignment</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">,</span> <span class="n">transform</span><span class="o">=</span><span class="n">ax</span><span class="o">.</span><span class="n">transAxes</span><span class="p">)</span>
</pre></div>
</div>
<p>You can put a rectangular box around the text instance (e.g., to
set a background color) by using the keyword <em>bbox</em>.  <em>bbox</em> is
a dictionary of <cite>~matplotlib.patches.Rectangle</cite>
properties.  For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">text</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">s</span><span class="p">,</span> <span class="n">bbox</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">facecolor</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.5</span><span class="p">))</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.text_on_plot">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.</span></span><span class="sig-name descname"><span class="pre">text_on_plot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">thistext</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">coord</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'axes'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.text_on_plot" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.textlabel_bargraph">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.</span></span><span class="sig-name descname"><span class="pre">textlabel_bargraph</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mystructarray</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">othersort</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spacing</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tickfontsize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">8</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.textlabel_bargraph" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.title">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.</span></span><span class="sig-name descname"><span class="pre">title</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">label</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fontdict</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">loc</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pad</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.title" title="Permalink to this definition">¶</a></dt>
<dd><p>Set a title for the Axes.</p>
<p>Set one of the three available Axes titles. The available titles
are positioned above the Axes in the center, flush with the left
edge, and flush with the right edge.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>label</strong> (<em>str</em>) – Text to use for the title</p></li>
<li><p><strong>fontdict</strong> (<em>dict</em>) – <p>A dictionary controlling the appearance of the title text,
the default <em>fontdict</em> is:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="s1">&#39;fontsize&#39;</span><span class="p">:</span> <span class="n">rcParams</span><span class="p">[</span><span class="s1">&#39;axes.titlesize&#39;</span><span class="p">],</span>
 <span class="s1">&#39;fontweight&#39;</span><span class="p">:</span> <span class="n">rcParams</span><span class="p">[</span><span class="s1">&#39;axes.titleweight&#39;</span><span class="p">],</span>
 <span class="s1">&#39;color&#39;</span><span class="p">:</span> <span class="n">rcParams</span><span class="p">[</span><span class="s1">&#39;axes.titlecolor&#39;</span><span class="p">],</span>
 <span class="s1">&#39;verticalalignment&#39;</span><span class="p">:</span> <span class="s1">&#39;baseline&#39;</span><span class="p">,</span>
 <span class="s1">&#39;horizontalalignment&#39;</span><span class="p">:</span> <span class="n">loc</span><span class="p">}</span>
</pre></div>
</div>
</p></li>
<li><p><strong>loc</strong> ({‘center’, ‘left’, ‘right’}, default: <a href="#id77"><span class="problematic" id="id78">:rc:`axes.titlelocation`</span></a>) – Which title to set.</p></li>
<li><p><strong>y</strong> (float, default: <a href="#id79"><span class="problematic" id="id80">:rc:`axes.titley`</span></a>) – Vertical Axes loation for the title (1.0 is the top).  If
None (the default), y is determined automatically to avoid
decorators on the Axes.</p></li>
<li><p><strong>pad</strong> (float, default: <a href="#id81"><span class="problematic" id="id82">:rc:`axes.titlepad`</span></a>) – The offset of the title from the top of the Axes, in points.</p></li>
<li><p><strong>**kwargs</strong> (<cite>.Text</cite> properties) – Other keyword arguments are text properties, see <cite>.Text</cite> for a list
of valid text properties.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The matplotlib text instance representing the title</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><cite>.Text</cite></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.unmake_ndarray">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.</span></span><span class="sig-name descname"><span class="pre">unmake_ndarray</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">array_to_conv</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name_forprint</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'unknown'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.unmake_ndarray" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert this item to an np.ndarray</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pyspecdata.whereblocks">
<span class="sig-prename descclassname"><span class="pre">pyspecdata.</span></span><span class="sig-name descname"><span class="pre">whereblocks</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">a</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyspecdata.whereblocks" title="Permalink to this definition">¶</a></dt>
<dd><p>returns contiguous chunks where the condition is true
but, see the “contiguous” method, which is more OO</p>
</dd></dl>

</section>
</section>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2016, John M. Franck.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>