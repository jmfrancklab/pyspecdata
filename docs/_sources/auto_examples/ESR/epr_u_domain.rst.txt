
.. DO NOT EDIT.
.. THIS FILE WAS AUTOMATICALLY GENERATED BY SPHINX-GALLERY.
.. TO MAKE CHANGES, EDIT THE SOURCE PYTHON FILE:
.. "auto_examples/ESR/epr_u_domain.py"
.. LINE NUMBERS ARE GIVEN BELOW.

.. only:: html

    .. note::
        :class: sphx-glr-download-link-note

        :ref:`Go to the end <sphx_glr_download_auto_examples_ESR_epr_u_domain.py>`
        to download the full example code

.. rst-class:: sphx-glr-example-title

.. _sphx_glr_auto_examples_ESR_epr_u_domain.py:


EPR u-domain
============
Show the :math:`u`-domain in EPR.

We use this to demonstrate:

- setting the defaults for FT shift vs. not
- units that appear OK in the plot, even when the initial domain is frequency
  and conjugate is inverse domain
- successful convolution, even with really weird FT startpoints

.. GENERATED FROM PYTHON SOURCE LINES 13-38



.. rst-class:: sphx-glr-horizontal


    *

      .. image-sg:: /auto_examples/ESR/images/sphx_glr_epr_u_domain_001.png
         :alt: initial spectrum
         :srcset: /auto_examples/ESR/images/sphx_glr_epr_u_domain_001.png, /auto_examples/ESR/images/sphx_glr_epr_u_domain_001_2_00x.png 2.00x
         :class: sphx-glr-multi-img

    *

      .. image-sg:: /auto_examples/ESR/images/sphx_glr_epr_u_domain_002.png
         :alt: u-domain
         :srcset: /auto_examples/ESR/images/sphx_glr_epr_u_domain_002.png, /auto_examples/ESR/images/sphx_glr_epr_u_domain_002_2_00x.png 2.00x
         :class: sphx-glr-multi-img


.. rst-class:: sphx-glr-script-out

 .. code-block:: none

    ----------  logging output to /home/jmfranck/pyspecdata.0.log  ----------
    1: initial spectrum |||mT
    2: u-domain |||kcyc Â· (T)$^{-1}$

    --> _mathtext.py(648):matplotlib.mathtext           _get_glyph 2025-07-08 14:55:19,900
    INFO: Substituting symbol F from STIXNonUnicode
    --> _mathtext.py(648):matplotlib.mathtext           _get_glyph 2025-07-08 14:55:20,252
    INFO: Substituting symbol F from STIXNonUnicode






|

.. code-block:: Python

    import pyspecdata as psd
    import re

    psd.init_logging(level="debug")
    Bname = "$B_0$"
    d = psd.find_file(re.escape("220307_S175_KCl.DSC"),
                      exp_type="francklab_esr/Farhana")
    d.chunk_auto("harmonic")
    d = d["harmonic", 0]["phase", 0]
    d[Bname] *= 1e-4
    d.set_units(Bname, "T")
    d.set_ft_initial(Bname, "f").set_ft_prop(Bname, "time_not_aliased")
    with psd.figlist_var() as fl:
        fl.next("initial spectrum", figsize=(3 * 1.618, 3))
        fl.plot(d)
        fl.next("u-domain", figsize=(3 * 1.618, 3))
        d.ift(Bname)
        fl.plot(d)
        fl.next("initial spectrum")
        d.ft(Bname)
        d.convolve(Bname, 3e-4, enforce_causality=False)  # smooth by 1 G
        fl.plot(d)
        fl.next("u-domain")
        d.ift(Bname)
        fl.plot(d)


.. rst-class:: sphx-glr-timing

   **Total running time of the script:** (0 minutes 0.692 seconds)


.. _sphx_glr_download_auto_examples_ESR_epr_u_domain.py:

.. only:: html

  .. container:: sphx-glr-footer sphx-glr-footer-example

    .. container:: sphx-glr-download sphx-glr-download-jupyter

      :download:`Download Jupyter notebook: epr_u_domain.ipynb <epr_u_domain.ipynb>`

    .. container:: sphx-glr-download sphx-glr-download-python

      :download:`Download Python source code: epr_u_domain.py <epr_u_domain.py>`


.. only:: html

 .. rst-class:: sphx-glr-signature

    `Gallery generated by Sphinx-Gallery <https://sphinx-gallery.github.io>`_
